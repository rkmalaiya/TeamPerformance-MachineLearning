<!--
RSS generated by JIRA (6.1.5#6160-sha1:a61a0fc278117a0da0ec9b89167b8f29b6afdab2) at Mon Feb 03 15:43:11 UTC 2014

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/sr/jira.issueviews:searchrequest-xml/temp/SearchRequest.xml?jqlQuery=project+%3D+HBASE&tempMax=100&field=key&field=summary
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/secure/IssueNavigator.jspa?reset=true&amp;jqlQuery=project+%3D+HBASE</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="100" total="10418"/>
                <build-info>
            <version>6.1.5</version>
            <build-number>6160</build-number>
            <build-date>03-12-2013</build-date>
        </build-info>
<item>
            <title>[HBASE-10454] TAGS_COMPRESSED file info is wrong in HFiles when PrefixTree encoding is used</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10454</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We always encode tags in case of Prefix tree now and so the code path, while decoding, not checking what is there in FileInfo. So functionally no issues now.&lt;br/&gt;
If we do &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10453&quot; title=&quot;PrefixTree encoding for tags can honor HCD#shouldCompressTags()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10453&quot;&gt;HBASE-10453&lt;/a&gt; this change will be very important to make sure BC for old files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692814">HBASE-10454</key>
            <summary>TAGS_COMPRESSED file info is wrong in HFiles when PrefixTree encoding is used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png">Patch Available</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Feb 2014 09:59:29 +0000</created>
                <updated>Mon, 3 Feb 2014 11:51:33 +0000</updated>
                                            <version>0.98.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13889391" author="ram_krish" created="Mon, 3 Feb 2014 11:15:00 +0000"  >&lt;p&gt;I need to check this once.  I will verify and get back on this.&lt;/p&gt;</comment>
                            <comment id="13889420" author="hadoopqa" created="Mon, 3 Feb 2014 11:51:33 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626630/HBASE-10454.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626630/HBASE-10454.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626630&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8575//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626630" name="HBASE-10454.patch" size="1348" author="anoop.hbase" created="Mon, 3 Feb 2014 10:06:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 3 Feb 2014 11:15:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371406</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371392</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10453] PrefixTree encoding for tags can honor HCD#shouldCompressTags()</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10453</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Right now we will encode tags always with prefix tree encoding. With other encoders it checks HCD#shouldCompressTags().  Suggest we can do the same fro PrefixTree also.&lt;/p&gt;

&lt;p&gt;I can see some places PrefixTree impl passes booleans like isIncludeMvcc isIncludeTags etc.  We have encapsulated all such info into a HFileContext and the code path uses that now.  We can do the same with PrefixTree code path also.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692798">HBASE-10453</key>
            <summary>PrefixTree encoding for tags can honor HCD#shouldCompressTags()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Feb 2014 08:53:44 +0000</created>
                <updated>Mon, 3 Feb 2014 09:01:23 +0000</updated>
                                            <version>0.98.0</version>
                                    <fixVersion>0.98.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13889329" author="ram_krish" created="Mon, 3 Feb 2014 09:01:18 +0000"  >&lt;p&gt;Okie.. we can target this for 0.98.1. Will see how can this be done. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 3 Feb 2014 09:01:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371390</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371376</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10452] Potential bugs in exception handlers</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10452</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Hi HBase developers,&lt;br/&gt;
We are a group of researchers on software reliability. Recently we did a study and found that majority of the most severe failures in HBase are caused by bugs in exception handling logic &amp;#8211; that it is hard to anticipate all the possible real-world error scenarios. Therefore we built a simple checking tool that automatically detects some bug patterns that have caused some very severe real-world failures. I am reporting some of the results here. Any feedback is much appreciated!&lt;/p&gt;

&lt;p&gt;Ding&lt;/p&gt;

&lt;p&gt;=========================&lt;br/&gt;
Case 1:&lt;br/&gt;
  Line: 134, File: &quot;org/apache/hadoop/hbase/regionserver/RegionMergeRequest.java&quot;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  protected void releaseTableLock() {
    if (this.tableLock != null) {
      try {
        this.tableLock.release();
      } catch (IOException ex) {
        LOG.warn(&quot;Could not release the table lock&quot;, ex);
        //TODO: if we get here, and not abort RS, this lock will never be released
      }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The lock is not released if the exception occurs, causing potential deadlock or starvation.&lt;/p&gt;

&lt;p&gt;Similar code pattern can be found at:&lt;br/&gt;
  Line: 135, File: &quot;org/apache/hadoop/hbase/regionserver/SplitRequest.java&quot;&lt;br/&gt;
==========================================&lt;/p&gt;

&lt;p&gt;=========================&lt;br/&gt;
Case 2:&lt;br/&gt;
  Line: 252, File: &quot;org/apache/hadoop/hbase/regionserver/wal/SequenceFileLogReader.java&quot;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    try {
      Field fEnd = SequenceFile.Reader.class.getDeclaredField(&quot;end&quot;);
      fEnd.setAccessible(true);
      end = fEnd.getLong(this.reader);
    } catch(Exception e) { /* reflection fail. keep going */ }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The caught Exception seems to be too general.&lt;br/&gt;
While reflection-related errors might be harmless, the try block can throw&lt;br/&gt;
other exceptions including &quot;SecurityException&quot;, &quot;IllegalAccessException&quot;, etc. Currently&lt;br/&gt;
all those exceptions are ignored. Maybe&lt;br/&gt;
the safe way is to ignore the specific reflection-related errors while logging and&lt;br/&gt;
handling other types of unexpected exceptions.&lt;br/&gt;
==========================================&lt;br/&gt;
=========================&lt;br/&gt;
Case 3:&lt;br/&gt;
  Line: 148, File: &quot;org/apache/hadoop/hbase/HBaseConfiguration.java&quot;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    try {
      if (Class.forName(&quot;org.apache.hadoop.conf.ConfServlet&quot;) != null) {
        isShowConf = true;
      }
    } catch (Exception e) {
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similar to the previous case, the exception handling is too general. While ClassNotFound error might be the normal case and ignored, Class.forName can also throw other exceptions (e.g., LinkageError) under some unexpected and rare error cases. If that happens, the error will be lost. So maybe change it to below:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    try {
      if (Class.forName(&quot;org.apache.hadoop.conf.ConfServlet&quot;) != null) {
        isShowConf = true;
      }
    } catch (LinkageError e) {
      LOG.warn(&quot;..&quot;);
      // handle linkage error
    } catch (ExceptionInInitializerError e) {
      LOG.warn(&quot;..&quot;);
      // handle Initializer error
    } catch (ClassNotFoundException e) {
     LOG.debug(&quot;..&quot;);
     // ignore
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;==========================================&lt;br/&gt;
=========================&lt;br/&gt;
Case 4:&lt;br/&gt;
  Line: 163, File: &quot;org/apache/hadoop/hbase/client/Get.java&quot;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  public Get setTimeStamp(long timestamp) {
    try {
      tr = new TimeRange(timestamp, timestamp+1);
    } catch(IOException e) {
      // Will never happen
    }
    return this;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Even if the IOException never happens right now, is it possible to happen in the future due to code change?&lt;br/&gt;
At least there should be a log message. The current behavior is dangerous since if the exception ever happens&lt;br/&gt;
in any unexpected scenario, it will be silently swallowed.&lt;/p&gt;

&lt;p&gt;Similar code pattern can be found at:&lt;br/&gt;
  Line: 300, File: &quot;org/apache/hadoop/hbase/client/Scan.java&quot;&lt;br/&gt;
==========================================&lt;/p&gt;

&lt;p&gt;=========================&lt;br/&gt;
Case 5:&lt;br/&gt;
  Line: 207, File: &quot;org/apache/hadoop/hbase/util/JVM.java&quot;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   if (input != null){
        try {
          input.close();
        } catch (IOException ignored) {
        }
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Any exception encountered in close is completely ignored, not even logged.&lt;br/&gt;
In particular, the same exception scenario was handled differently in other methods in the same file:&lt;br/&gt;
Line: 154, same file&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;       if (in != null){
         try {
           in.close();
         } catch (IOException e) {
           LOG.warn(&quot;Not able to close the InputStream&quot;, e);
         }
       }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Line: 248, same file&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;      if (in != null){
        try {
          in.close();
        } catch (IOException e) {
          LOG.warn(&quot;Not able to close the InputStream&quot;, e);
        }
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;==========================================&lt;/p&gt;

&lt;p&gt;=========================&lt;br/&gt;
Case 6: empty handler for exception: java.io.IOException&lt;br/&gt;
  Line: 312, File: &quot;org/apache/hadoop/hbase/rest/RowResource.java&quot;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    } finally {
      if (table != null) try {
        table.close();
      } catch (IOException ioe) { }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;IOException is completely ignored. This behavior is inconsistent with the same&lt;br/&gt;
code snippet at line 249 in the same file, where the IOExceptions was logged:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   } finally {
      if (table != null) try {
        table.close();
      } catch (IOException ioe) {
        LOG.debug(&quot;Exception received while closing the table&quot;, ioe);
      }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;==========================================&lt;br/&gt;
=========================&lt;br/&gt;
Case 7:&lt;br/&gt;
  Line: 95, File: &quot;org/apache/hadoop/hbase/master/handler/EnableTableHandler.java&quot;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        try {
          this.assignmentManager.getZKTable().removeEnablingTable(tableName, true);
        } catch (KeeperException e) {
          // TODO : Use HBCK to clear such nodes
          LOG.warn(&quot;Failed to delete the ENABLING node for the table &quot; + tableName
              + &quot;.  The table will remain unusable. Run HBCK to manually fix the problem.&quot;);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The log message in the exception handler and the comment seem to suggest that such nodes should be cleared using HBCK.&lt;br/&gt;
==========================================&lt;/p&gt;


&lt;p&gt;=========================&lt;br/&gt;
Case 8:&lt;br/&gt;
  Line: 463, File: &quot;org/apache/hadoop/hbase/client/ClientScanner.java&quot;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        try {
          this.caller.callWithRetries(callable);
        } catch (IOException e) {
          // We used to catch this error, interpret, and rethrow. However, we
          // have since decided that it&apos;s not nice for a scanner&apos;s close to
          // throw exceptions. Chances are it was just an UnknownScanner
          // exception due to lease time out.
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Currently the handler is empty because it may be caused by &quot;just an UnknownScanner exception&quot;.&lt;br/&gt;
But what if it has other causes? Maybe the catch block can differentiate the exception into&lt;br/&gt;
different causes, ignoring the ones caused by UnknownScanner while handle others differently?&lt;br/&gt;
==========================================&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692735">HBASE-10452</key>
            <summary>Potential bugs in exception handlers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="d.yuan">Ding Yuan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 2 Feb 2014 19:38:55 +0000</created>
                <updated>Mon, 3 Feb 2014 04:30:06 +0000</updated>
                                            <version>0.96.1</version>
                                                    <component>Client</component>
                    <component>master</component>
                    <component>regionserver</component>
                    <component>util</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13889210" author="ram_krish" created="Mon, 3 Feb 2014 04:30:06 +0000"  >&lt;p&gt;Thanks for checking this.  It would be better if you create a patch with the above mentioned changes. &lt;br/&gt;
&lt;a href=&quot;http://hbase.apache.org/book.html#submitting.patches&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book.html#submitting.patches&lt;/a&gt;&lt;br/&gt;
If you need to know how to start contributing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 3 Feb 2014 04:30:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371322</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10451] Enable back Tag compression on HFiles</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10451</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10443&quot; title=&quot;IndexOutOfBoundExceptions when processing compressed tags in HFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10443&quot;&gt;&lt;del&gt;HBASE-10443&lt;/del&gt;&lt;/a&gt; disables tag compression on HFiles. This Jira is to fix the issues we have found out in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10443&quot; title=&quot;IndexOutOfBoundExceptions when processing compressed tags in HFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10443&quot;&gt;&lt;del&gt;HBASE-10443&lt;/del&gt;&lt;/a&gt; and enable it back.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692648">HBASE-10451</key>
            <summary>Enable back Tag compression on HFiles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                    </labels>
                <created>Sat, 1 Feb 2014 09:04:35 +0000</created>
                <updated>Sat, 1 Feb 2014 19:31:56 +0000</updated>
                                                            <fixVersion>0.98.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13888497" author="anoop.hbase" created="Sat, 1 Feb 2014 09:08:48 +0000"  >&lt;p&gt;When the store file is being read, as part of reseek to a key if we find the if we have jumped a given key we do a move previous. Incase of DBEs we have already decoded this KV and so tags in that. Suppose this KV had some tags which are like not present in Dict already. So as part of decode we read the actual tag from file buffer and adds an entry into Dict.  Now after moving to previous we once again decode this kv and so tags in that and again will make a duplicate entry into Dict (In next index). This makes the Dict structure totally gone.&lt;/p&gt;</comment>
                            <comment id="13888502" author="ram_krish" created="Sat, 1 Feb 2014 09:36:12 +0000"  >&lt;p&gt;Interesting part is if we have tags of the same size this does not come out as Index out of bound, but silently will give wrong tag for the given KV which is more dangerous.&lt;/p&gt;</comment>
                            <comment id="13888686" author="apurtell" created="Sat, 1 Feb 2014 19:31:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;Interesting part is if we have tags of the same size this does not come out as Index out of bound, but silently will give wrong tag for the given KV which is more dangerous.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agree, and this is how we came so far (in tests) without seeing the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 1 Feb 2014 09:36:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371249</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371235</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10450] setMinTimestamp in Thrift client</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10450</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Add a minTimestamp in TScan object in Thrift which limit the minimum timestamp a scanner returns.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692618">HBASE-10450</key>
            <summary>setMinTimestamp in Thrift client</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="daviddengfb">Yi Deng</reporter>
                        <labels>
                            <label>features</label>
                    </labels>
                <created>Fri, 31 Jan 2014 23:12:03 +0000</created>
                <updated>Fri, 31 Jan 2014 23:12:03 +0000</updated>
                                            <version>0.89-fb</version>
                                    <fixVersion>0.89-fb</fixVersion>
                                    <component>Client</component>
                    <component>Thrift</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="259200">72h</timeoriginalestimate>
                            <timeestimate seconds="259200">72h</timeestimate>
                                                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371219</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371205</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10449] Wrong execution pool configuration in HConnectionManager</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10449</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There is a confusion in the configuration of the pool. The attached patch fixes this. This may change the client performances, as we were using a single thread.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692564">HBASE-10449</key>
            <summary>Wrong execution pool configuration in HConnectionManager</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Jan 2014 18:59:25 +0000</created>
                <updated>Mon, 3 Feb 2014 13:24:06 +0000</updated>
                            <resolved>Mon, 3 Feb 2014 13:23:38 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.99.0</version>
                    <version>0.96.1.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13888085" author="ndimiduk" created="Fri, 31 Jan 2014 19:49:21 +0000"  >&lt;p&gt;Ouch. Is it better to leave the default value of hbase.hconnection.threads.core at 0 and let your new default logic kick in?&lt;/p&gt;</comment>
                            <comment id="13888092" author="nkeywal" created="Fri, 31 Jan 2014 19:56:13 +0000"  >&lt;p&gt;It&apos;s something new (~3 months old, not in .94), so imho it&apos;s better to come back to the initial behavior, as the performances should be better. We can also play if safe, with a different patch for the .96 and for trunk. This makes things more complicated to understand &amp;amp; test however...&lt;/p&gt;</comment>
                            <comment id="13888156" author="hadoopqa" created="Fri, 31 Jan 2014 20:50:17 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626350/HBASE-10449.v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626350/HBASE-10449.v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626350&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.TestAcidGuarantees.testGetAtomicity(TestAcidGuarantees.java:331)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8568//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13888503" author="nkeywal" created="Sat, 1 Feb 2014 09:42:45 +0000"  >&lt;p&gt;TestAcidGuarantees is likely unrelated. I will run it locally a few times to be sure.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, what do you think? Should I commit the patch to trunk,.96 &amp;amp; .98 as it is, if TestAcidGuarantees is proven to be unrelated?&lt;/p&gt;</comment>
                            <comment id="13888666" author="apurtell" created="Sat, 1 Feb 2014 18:48:56 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13889463" author="nkeywal" created="Mon, 3 Feb 2014 13:23:20 +0000"  >&lt;p&gt;Committed to trunk/.98/.96 (this way it will be in the next .98 RC) Stack; Nick, if you prefer something different for trunk / .96 I can revert/change the patch. But it seems simpler to have the same logic for all versions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626350" name="HBASE-10449.v1.patch" size="1935" author="nkeywal" created="Fri, 31 Jan 2014 19:02:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 31 Jan 2014 19:49:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371165</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371151</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10448] ZKUtil create and watch methods don&apos;t set watch in some cases</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10448</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;While using the ZKUtil methods during testing, I found that watch was not set when it should be set based on the methods and method comments:&lt;br/&gt;
createNodeIfNotExistsAndWatch&lt;br/&gt;
createEphemeralNodeAndWatch&lt;/p&gt;

&lt;p&gt;For example, in createNodeIfNotExistsAndWatch():&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; createNodeIfNotExistsAndWatch(
      ZooKeeperWatcher zkw, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; znode, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] data)
  &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; KeeperException {
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      zkw.getRecoverableZooKeeper().create(znode, data, createACL(zkw, znode),
          CreateMode.PERSISTENT);
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (KeeperException.NodeExistsException nee) {
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        zkw.getRecoverableZooKeeper().exists(znode, zkw);
      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) {
        zkw.interruptedException(e);
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
      }
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) {
      zkw.interruptedException(e);
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The watch is only set via exists() call when the node already exists.&lt;br/&gt;
Similarly in createEphemeralNodeAndWatch():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; createEphemeralNodeAndWatch(ZooKeeperWatcher zkw,
      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; znode, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] data)
  &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; KeeperException {
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      zkw.getRecoverableZooKeeper().create(znode, data, createACL(zkw, znode),
          CreateMode.EPHEMERAL);
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (KeeperException.NodeExistsException nee) {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(!watchAndCheckExists(zkw, znode)) {
        &lt;span class=&quot;code-comment&quot;&gt;// It did exist but now it doesn&apos;t, &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; again
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; createEphemeralNodeAndWatch(zkw, znode, data);
      }
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) {
      LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Interrupted&quot;&lt;/span&gt;, e);
      &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.currentThread().interrupt();
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12692558">HBASE-10448</key>
            <summary>ZKUtil create and watch methods don&apos;t set watch in some cases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jinghe">Jerry He</assignee>
                                    <reporter username="jinghe">Jerry He</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Jan 2014 18:24:55 +0000</created>
                <updated>Mon, 3 Feb 2014 08:02:32 +0000</updated>
                            <resolved>Sat, 1 Feb 2014 23:05:10 +0000</resolved>
                                    <version>0.96.0</version>
                    <version>0.96.1.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>0.94.17</fixVersion>
                                    <component>Zookeeper</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13888016" author="jinghe" created="Fri, 31 Jan 2014 18:59:17 +0000"  >&lt;p&gt;I wonder how the callers/users of these 2 methods actually worked. &lt;br/&gt;
A guess is that they don&apos;t really depend on the watches being set in the cases that the watches are not set.&lt;/p&gt;</comment>
                            <comment id="13888441" author="jinghe" created="Sat, 1 Feb 2014 03:56:21 +0000"  >&lt;p&gt;Found this &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8937&quot; title=&quot;createEphemeralNodeAndWatch don&amp;#39;t set watcher if the node is created successfully&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8937&quot;&gt;&lt;del&gt;HBASE-8937&lt;/del&gt;&lt;/a&gt; that reported similar problem.&lt;/p&gt;</comment>
                            <comment id="13888455" author="jinghe" created="Sat, 1 Feb 2014 04:36:27 +0000"  >&lt;p&gt;Attached a patch that set the watch whether or not we get NodeExistsException.&lt;br/&gt;
I tried to avoid any other change in behavior of these two methods.&lt;/p&gt;</comment>
                            <comment id="13888471" author="hadoopqa" created="Sat, 1 Feb 2014 06:23:40 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626450/HBASE-10448-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626450/HBASE-10448-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626450&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.io.encoding.TestEncodedSeekers.testEncodedSeeker(TestEncodedSeekers.java:125)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8570//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13888683" author="apurtell" created="Sat, 1 Feb 2014 19:25:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;A guess is that they don&apos;t really depend on the watches being set in the cases that the watches are not set.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You are right, I don&apos;t follow how these *AndWatch methods lived up to the expectations of their naming.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13888710" author="yuzhihong@gmail.com" created="Sat, 1 Feb 2014 19:57:41 +0000"  >&lt;p&gt;I tried to apply patch on 0.98 but there was conflict in hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java.rej&lt;/p&gt;

&lt;p&gt;Also, please trim the trailing ^M at line end.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13888770" author="yuzhihong@gmail.com" created="Sat, 1 Feb 2014 23:05:10 +0000"  >&lt;p&gt;Integrated to 0.98 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Jerry.&lt;/p&gt;</comment>
                            <comment id="13888790" author="hudson" created="Sun, 2 Feb 2014 01:15:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4873 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4873/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4873/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10448&quot; title=&quot;ZKUtil create and watch methods don&amp;#39;t set watch in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10448&quot;&gt;&lt;del&gt;HBASE-10448&lt;/del&gt;&lt;/a&gt; ZKUtil create and watch methods don&apos;t set watch in some cases (Jerry He) (tedyu: rev 1563507)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13888792" author="jinghe" created="Sun, 2 Feb 2014 01:35:24 +0000"  >&lt;p&gt;Thanks, Ted, Andrew.&lt;br/&gt;
Could you also mark &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8937&quot; title=&quot;createEphemeralNodeAndWatch don&amp;#39;t set watcher if the node is created successfully&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8937&quot;&gt;&lt;del&gt;HBASE-8937&lt;/del&gt;&lt;/a&gt; as resolved as dup so that we have closure on that one too?&lt;/p&gt;</comment>
                            <comment id="13888797" author="hudson" created="Sun, 2 Feb 2014 02:06:47 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #119 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/119/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/119/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10448&quot; title=&quot;ZKUtil create and watch methods don&amp;#39;t set watch in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10448&quot;&gt;&lt;del&gt;HBASE-10448&lt;/del&gt;&lt;/a&gt; ZKUtil create and watch methods don&apos;t set watch in some cases (Jerry He) (tedyu: rev 1563506)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13888800" author="hudson" created="Sun, 2 Feb 2014 02:18:38 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #111 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/111/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/111/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10448&quot; title=&quot;ZKUtil create and watch methods don&amp;#39;t set watch in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10448&quot;&gt;&lt;del&gt;HBASE-10448&lt;/del&gt;&lt;/a&gt; ZKUtil create and watch methods don&apos;t set watch in some cases (Jerry He) (tedyu: rev 1563506)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13888839" author="stack" created="Sun, 2 Feb 2014 06:06:07 +0000"  >&lt;p&gt;Good one &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jerryhe&quot; class=&quot;user-hover&quot; rel=&quot;jerryhe&quot;&gt;Jerry He&lt;/a&gt;  Committed to 0.96 branch.&lt;/p&gt;</comment>
                            <comment id="13888876" author="hudson" created="Sun, 2 Feb 2014 09:09:16 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96 #276 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/276/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/276/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10448&quot; title=&quot;ZKUtil create and watch methods don&amp;#39;t set watch in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10448&quot;&gt;&lt;del&gt;HBASE-10448&lt;/del&gt;&lt;/a&gt; ZKUtil create and watch methods don&apos;t set watch in some cases (stack: rev 1563567)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13888917" author="hudson" created="Sun, 2 Feb 2014 13:18:56 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #190 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/190/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/190/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10448&quot; title=&quot;ZKUtil create and watch methods don&amp;#39;t set watch in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10448&quot;&gt;&lt;del&gt;HBASE-10448&lt;/del&gt;&lt;/a&gt; ZKUtil create and watch methods don&apos;t set watch in some cases (stack: rev 1563567)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13888961" author="lhofhansl" created="Sun, 2 Feb 2014 16:17:20 +0000"  >&lt;p&gt;Lemme check if this is an issue in 0.94 as well.&lt;/p&gt;</comment>
                            <comment id="13889142" author="hudson" created="Mon, 3 Feb 2014 01:00:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #75 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/75/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/75/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10448&quot; title=&quot;ZKUtil create and watch methods don&amp;#39;t set watch in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10448&quot;&gt;&lt;del&gt;HBASE-10448&lt;/del&gt;&lt;/a&gt; ZKUtil create and watch methods don&apos;t set watch in some cases (Jerry He) (tedyu: rev 1563507)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13889240" author="lhofhansl" created="Mon, 3 Feb 2014 05:40:26 +0000"  >&lt;p&gt;Committed to 0.94 as well. (I hope we are not relying anywhere in the current behavior).&lt;/p&gt;</comment>
                            <comment id="13889255" author="hudson" created="Mon, 3 Feb 2014 06:24:15 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-on-Hadoop-2 #6 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/6/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/6/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10448&quot; title=&quot;ZKUtil create and watch methods don&amp;#39;t set watch in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10448&quot;&gt;&lt;del&gt;HBASE-10448&lt;/del&gt;&lt;/a&gt; ZKUtil create and watch methods don&apos;t set watch in some cases. (Jerry He) (larsh: rev 1563783)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13889272" author="hudson" created="Mon, 3 Feb 2014 07:06:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #396 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/396/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/396/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10448&quot; title=&quot;ZKUtil create and watch methods don&amp;#39;t set watch in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10448&quot;&gt;&lt;del&gt;HBASE-10448&lt;/del&gt;&lt;/a&gt; ZKUtil create and watch methods don&apos;t set watch in some cases. (Jerry He) (larsh: rev 1563783)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13889283" author="hudson" created="Mon, 3 Feb 2014 07:36:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-JDK7 #35 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/35/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/35/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10448&quot; title=&quot;ZKUtil create and watch methods don&amp;#39;t set watch in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10448&quot;&gt;&lt;del&gt;HBASE-10448&lt;/del&gt;&lt;/a&gt; ZKUtil create and watch methods don&apos;t set watch in some cases. (Jerry He) (larsh: rev 1563783)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13889295" author="hudson" created="Mon, 3 Feb 2014 08:02:32 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1269 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1269/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1269/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10448&quot; title=&quot;ZKUtil create and watch methods don&amp;#39;t set watch in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10448&quot;&gt;&lt;del&gt;HBASE-10448&lt;/del&gt;&lt;/a&gt; ZKUtil create and watch methods don&apos;t set watch in some cases. (Jerry He) (larsh: rev 1563783)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12657405">HBASE-8937</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12626450" name="HBASE-10448-trunk.patch" size="2278" author="jinghe" created="Sat, 1 Feb 2014 04:34:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 1 Feb 2014 06:23:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371159</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371145</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10447] Memstore flusher scans storefiles also when the scanner heap gets reset</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10447</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;See the mail thread&lt;br/&gt;
&lt;a href=&quot;http://osdir.com/ml/general/2014-01/msg61294.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://osdir.com/ml/general/2014-01/msg61294.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In case of flush we create a memstore flusher which in turn creates a  StoreScanner backed by a Single ton MemstoreScanner.  &lt;/p&gt;

&lt;p&gt;But this scanner also registers for any updates in the reader in the HStore.  Is this needed?  &lt;br/&gt;
If this happens then any update on the reader may nullify the current heap and the entire Scanner Stack is reset, but this time with the other scanners for all the files that satisfies the last top key.  So the flush that happens on the memstore holds the storefile scanners also in the heap that was recreated but originally the intention was to create a scanner on the memstore alone.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692465">HBASE-10447</key>
            <summary>Memstore flusher scans storefiles also when the scanner heap gets reset</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png">Patch Available</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Jan 2014 09:20:09 +0000</created>
                <updated>Mon, 3 Feb 2014 06:44:33 +0000</updated>
                                            <version>0.98.0</version>
                    <version>0.99.0</version>
                    <version>0.96.1.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13887907" author="ram_krish" created="Fri, 31 Jan 2014 17:13:08 +0000"  >&lt;p&gt;I verifed that the KVs from the store file are also getting flushed during a memstore flush. I think that is wrong and unintended.  We only need the KVs from the memstore alone.&lt;/p&gt;</comment>
                            <comment id="13887974" author="apurtell" created="Fri, 31 Jan 2014 18:35:55 +0000"  >&lt;p&gt;Blocker for 0.98.0.&lt;/p&gt;</comment>
                            <comment id="13888032" author="lhofhansl" created="Fri, 31 Jan 2014 19:14:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;but this time with the other scanners for all the files that satisfies the last top key&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Now &lt;b&gt;that&lt;/b&gt; is a problem. This needs to be fixed in 0.94 and 0.96 as well.&lt;/p&gt;</comment>
                            <comment id="13888178" author="lhofhansl" created="Fri, 31 Jan 2014 21:19:05 +0000"  >&lt;p&gt;I introduced this problem with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4241&quot; title=&quot;Optimize flushing of the Store cache for max versions and (new) min versions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4241&quot;&gt;&lt;del&gt;HBASE-4241&lt;/del&gt;&lt;/a&gt; I think.&lt;/p&gt;</comment>
                            <comment id="13888184" author="lhofhansl" created="Fri, 31 Jan 2014 21:25:10 +0000"  >&lt;p&gt;No I didn&apos;t. The StoreScanner constructor used did not register the change listener before, and doesn&apos;t in 0.94.&lt;/p&gt;</comment>
                            <comment id="13888186" author="lhofhansl" created="Fri, 31 Jan 2014 21:25:27 +0000"  >&lt;p&gt;So not a problem in 0.94.&lt;/p&gt;</comment>
                            <comment id="13888188" author="lhofhansl" created="Fri, 31 Jan 2014 21:27:01 +0000"  >&lt;p&gt;So we can either revive the old constructor or pass down a flag. I&apos;d prefer the latter approach, since it makes it explicit.&lt;/p&gt;</comment>
                            <comment id="13888197" author="yuzhihong@gmail.com" created="Fri, 31 Jan 2014 21:35:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;or pass down a flag&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13888495" author="ram_krish" created="Sat, 1 Feb 2014 08:55:42 +0000"  >&lt;p&gt;+1 for the flag.  That is what I had in mind.&lt;/p&gt;</comment>
                            <comment id="13888562" author="ram_krish" created="Sat, 1 Feb 2014 12:55:27 +0000"  >&lt;p&gt;Patch for 0.98.  Will do some more testing once.&lt;/p&gt;</comment>
                            <comment id="13888687" author="apurtell" created="Sat, 1 Feb 2014 19:33:25 +0000"  >&lt;p&gt;HadoopQA might be able to apply this against trunk.&lt;/p&gt;</comment>
                            <comment id="13888688" author="apurtell" created="Sat, 1 Feb 2014 19:34:38 +0000"  >&lt;p&gt;+1, patch looks like it would work. Anyone have an issue with passing down a new flag?&lt;/p&gt;</comment>
                            <comment id="13888742" author="hadoopqa" created="Sat, 1 Feb 2014 21:24:54 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626475/HBASE-10447_0.98.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626475/HBASE-10447_0.98.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626475&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +      byte[] dropDeletesFromRow, byte[] dropDeletesToRow, boolean scannerForFlush) throws IOException {&lt;br/&gt;
+      long earliestPutTs, byte[] dropDeletesFromRow, byte[] dropDeletesToRow, boolean scannerForFlush)&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): 	at org.apache.hadoop.hbase.TestAcidGuarantees.testMixedAtomicity(TestAcidGuarantees.java:351)&lt;br/&gt;
	at org.apache.hadoop.hbase.io.encoding.TestEncodedSeekers.testEncodedSeeker(TestEncodedSeekers.java:129)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8572//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13888895" author="ram_krish" created="Sun, 2 Feb 2014 10:56:20 +0000"  >&lt;p&gt;Both testcases passes - TestEncodedSeekers and TestAcidGuarentees.  I think off late this TestAcidGuarentees is failing.  Need to investigate?&lt;/p&gt;</comment>
                            <comment id="13889037" author="apurtell" created="Sun, 2 Feb 2014 19:50:05 +0000"  >&lt;p&gt;Those two tests have been failing in precommit builds recently. I don&apos;t think they are related to the patch here.&lt;/p&gt;

&lt;p&gt;I have been looking into the precommit hangs but am not able to reproduce locally. &lt;/p&gt;</comment>
                            <comment id="13889226" author="ram_krish" created="Mon, 3 Feb 2014 05:03:09 +0000"  >&lt;p&gt;Patch for trunk. Truncated lines &amp;gt; 100.&lt;/p&gt;</comment>
                            <comment id="13889264" author="hadoopqa" created="Mon, 3 Feb 2014 06:44:33 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626599/HBASE-10447_trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626599/HBASE-10447_trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626599&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.TestAcidGuarantees.testScanAtomicity(TestAcidGuarantees.java:341)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8574//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12519782">HBASE-4241</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12626475" name="HBASE-10447_0.98.patch" size="13933" author="ram_krish" created="Sat, 1 Feb 2014 12:55:27 +0000"/>
                            <attachment id="12626599" name="HBASE-10447_trunk.patch" size="13940" author="ram_krish" created="Mon, 3 Feb 2014 05:03:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 31 Jan 2014 18:35:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371066</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371052</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10446] Backup master gives Error 500 for debug dump</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10446</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Click Debug dump on the backup master web ui, we get:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;HTTP ERROR 500

Problem accessing /dump. Reason:

    INTERNAL_SERVER_ERROR

Caused by:

java.lang.NullPointerException
	at org.apache.hadoop.hbase.master.MasterDumpServlet.dumpServers(MasterDumpServlet.java:113)
	at org.apache.hadoop.hbase.master.MasterDumpServlet.doGet(MasterDumpServlet.java:68)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12692346">HBASE-10446</key>
            <summary>Backup master gives Error 500 for debug dump</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jxiang">Jimmy Xiang</assignee>
                                    <reporter username="jxiang">Jimmy Xiang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jan 2014 18:23:37 +0000</created>
                <updated>Fri, 31 Jan 2014 01:05:11 +0000</updated>
                            <resolved>Thu, 30 Jan 2014 22:16:58 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                                    <component>UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13886942" author="jxiang" created="Thu, 30 Jan 2014 19:19:20 +0000"  >&lt;p&gt;Tested the patch in a live cluster. Now the /dump page on the backup master web ui doesn&apos;t have this issue any more.&lt;/p&gt;</comment>
                            <comment id="13886952" author="jmhsieh" created="Thu, 30 Jan 2014 19:26:16 +0000"  >&lt;p&gt;+1. &lt;/p&gt;</comment>
                            <comment id="13887081" author="hadoopqa" created="Thu, 30 Jan 2014 21:27:56 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626150/hbase-10446.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626150/hbase-10446.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626150&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.io.encoding.TestEncodedSeekers.testEncodedSeeker(TestEncodedSeekers.java:125)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8562//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13887166" author="jxiang" created="Thu, 30 Jan 2014 22:16:58 +0000"  >&lt;p&gt;Integrated into trunk. Thanks Jon for the review.&lt;/p&gt;</comment>
                            <comment id="13887315" author="hudson" created="Fri, 31 Jan 2014 00:40:26 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4872 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4872/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4872/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10446&quot; title=&quot;Backup master gives Error 500 for debug dump&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10446&quot;&gt;&lt;del&gt;HBASE-10446&lt;/del&gt;&lt;/a&gt; Backup master gives Error 500 for debug dump (jxiang: rev 1562986)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterDumpServlet.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/monitoring/StateDumpServlet.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13887336" author="hudson" created="Fri, 31 Jan 2014 01:05:11 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #72 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/72/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/72/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10446&quot; title=&quot;Backup master gives Error 500 for debug dump&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10446&quot;&gt;&lt;del&gt;HBASE-10446&lt;/del&gt;&lt;/a&gt; Backup master gives Error 500 for debug dump (jxiang: rev 1562986)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterDumpServlet.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/monitoring/StateDumpServlet.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626150" name="hbase-10446.patch" size="2460" author="jxiang" created="Thu, 30 Jan 2014 19:18:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Jan 2014 19:26:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370947</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370933</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10445] TestRegionObserverInterface occasionally times out</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10445</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;TestRegionObserverInterface occasionally times out&lt;br/&gt;
Running in a loop, it timed out at 9th iteration twice.&lt;/p&gt;

&lt;p&gt;The test starts a cluster with 1 region server. If this server goes down, the following message would be repeatedly printed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-01-30 00:35:16,144 WARN  [MASTER_META_SERVER_OPERATIONS-kiyo:42930-0] master.AssignmentManager(2140): Can&apos;t move 1588230740, there is no destination server available.
2014-01-30 00:35:16,144 WARN  [MASTER_META_SERVER_OPERATIONS-kiyo:42930-0] master.AssignmentManager(1863): Unable to determine a plan to assign {ENCODED =&amp;gt; 1588230740,     NAME =&amp;gt; &apos;hbase:meta,,1&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12692335">HBASE-10445</key>
            <summary>TestRegionObserverInterface occasionally times out</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png">Reopened</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jan 2014 17:43:54 +0000</created>
                <updated>Sat, 1 Feb 2014 19:52:04 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13886817" author="yuzhihong@gmail.com" created="Thu, 30 Jan 2014 17:45:09 +0000"  >&lt;p&gt;Test output.&lt;/p&gt;</comment>
                            <comment id="13886966" author="hadoopqa" created="Thu, 30 Jan 2014 19:34:35 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626131/10445-v1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626131/10445-v1.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626131&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): 	at org.apache.hadoop.hbase.regionserver.wal.TestLogRolling.testLogRollOnDatanodeDeath(TestLogRolling.java:355)&lt;br/&gt;
	at org.apache.hadoop.hbase.io.encoding.TestEncodedSeekers.testEncodedSeeker(TestEncodedSeekers.java:129)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8560//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13887027" author="yuzhihong@gmail.com" created="Thu, 30 Jan 2014 20:42:12 +0000"  >&lt;p&gt;Test output showed 2014-01-30&lt;/p&gt;

&lt;p&gt;This test failure can be reproduced.&lt;/p&gt;</comment>
                            <comment id="13887100" author="yuzhihong@gmail.com" created="Thu, 30 Jan 2014 21:41:49 +0000"  >&lt;p&gt;I reproduced the test failure just now - with distributed log replay on.&lt;br/&gt;
The only server shutdown by TestRegionObserverInterface#testRecovery was still recovering, leading to null Result for the get() call:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-01-30 21:01:50,601 ERROR [Priority.RpcServer.handler=2,port=58244] coprocessor.CoprocessorHost(760): The coprocessor org.apache.hadoop.hbase.coprocessor.SimpleRegionObserver threw an unexpected exception
java.lang.AssertionError: region hbase:meta,,1.1588230740 row TestTable.testRecovery,testrow,99999999999999
        at org.junit.Assert.fail(Assert.java:88)
        at org.junit.Assert.assertTrue(Assert.java:41)
        at org.junit.Assert.assertNotNull(Assert.java:621)
        at org.apache.hadoop.hbase.coprocessor.SimpleRegionObserver.postGetClosestRowBefore(SimpleRegionObserver.java:512)
        at org.apache.hadoop.hbase.regionserver.RegionCoprocessorHost.postGetClosestRowBefore(RegionCoprocessorHost.java:970)
        at org.apache.hadoop.hbase.regionserver.HRegion.getClosestRowBefore(HRegion.java:1785)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.get(HRegionServer.java:2819)
        at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:28450)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13887107" author="yuzhihong@gmail.com" created="Thu, 30 Jan 2014 21:45:20 +0000"  >&lt;p&gt;Test output.&lt;/p&gt;</comment>
                            <comment id="13887332" author="apurtell" created="Fri, 31 Jan 2014 01:03:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;I reproduced the test failure just now - with distributed log replay on.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;To do that, you have to modify the code to enable it by default as a local change. Therefore this is an invalid issue, unless and until we commit that change.&lt;/p&gt;</comment>
                            <comment id="13887365" author="yuzhihong@gmail.com" created="Fri, 31 Jan 2014 01:49:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;you have to modify the code to enable it&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No modification is needed.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void setupBeforeClass() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    &lt;span class=&quot;code-comment&quot;&gt;// set configure to indicate which cp should be loaded
&lt;/span&gt;    Configuration conf = util.getConfiguration();
    conf.setBoolean(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.master.distributed.log.replay&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13887372" author="apurtell" created="Fri, 31 Jan 2014 01:54:30 +0000"  >&lt;p&gt;Ok, I reopened the issue. On my 3 build hosts, 50 full unit test suite executions did not surface this issue. If you can reproduce the issue, then please explain how the patch on this issue fixes the problem and I&apos;ll +1&lt;/p&gt;</comment>
                            <comment id="13887443" author="apurtell" created="Fri, 31 Jan 2014 04:06:56 +0000"  >&lt;p&gt;What I found surprising re the above comment was that distributed replay could be a factor with this test, since it doesn&apos;t seem to require it. Attaching as &apos;10445-alternate.patch&apos; is a simple change which changes the test setup to not enable distributed replay. The test passes locally for me with the change. I was unable to reproduce the earlier issue, so I can&apos;t claim this is a fix for the reported problem, but it removes a surprise.&lt;/p&gt;</comment>
                            <comment id="13887485" author="yuzhihong@gmail.com" created="Fri, 31 Jan 2014 05:24:04 +0000"  >&lt;p&gt;Another option is to set hbase.coprocessor.abortonerror to false for the test&lt;br/&gt;
This way we wouldn&apos;t get:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-01-30 21:01:50,601 FATAL [Priority.RpcServer.handler=2,port=58244] regionserver.HRegionServer(1796): ABORTING region server kiyo.gq1.ygridcore.net,58244,              1391115675724: The coprocessor org.apache.hadoop.hbase.coprocessor.SimpleRegionObserver threw an unexpected exception
java.lang.AssertionError: region hbase:meta,,1.1588230740 row TestTable.testRecovery,testrow,99999999999999
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13887965" author="apurtell" created="Fri, 31 Jan 2014 18:29:30 +0000"  >&lt;p&gt;The exception is unexpected though. Does turning off distributed replay fix the issue for you? This is a test of the coprocessor interface, not distributed reply. I think it&apos;s better to remove the complication.&lt;/p&gt;</comment>
                            <comment id="13888067" author="yuzhihong@gmail.com" created="Fri, 31 Jan 2014 19:40:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;The exception is unexpected though&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If the value for hbase.coprocessor.abortonerror is kept true (the default), TestRegionObserverInterface should be written to handle region server abort due to the exception.&lt;/p&gt;</comment>
                            <comment id="13888684" author="apurtell" created="Sat, 1 Feb 2014 19:28:19 +0000"  >&lt;p&gt;Ted, could you respond to the question I actually asked? Thanks.&lt;/p&gt;</comment>
                            <comment id="13888706" author="yuzhihong@gmail.com" created="Sat, 1 Feb 2014 19:52:04 +0000"  >&lt;p&gt;I am running TestRegionObserverInterface with that change in a loop.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626257" name="10445-alternate.patch" size="863" author="apurtell" created="Fri, 31 Jan 2014 04:06:56 +0000"/>
                            <attachment id="12626131" name="10445-v1.txt" size="668" author="yuzhihong@gmail.com" created="Thu, 30 Jan 2014 17:46:09 +0000"/>
                            <attachment id="12626130" name="TestRegionObserverInterface-output-2.txt" size="2285568" author="yuzhihong@gmail.com" created="Thu, 30 Jan 2014 17:45:09 +0000"/>
                            <attachment id="12626188" name="TestRegionObserverInterface-output-3.txt" size="2351104" author="yuzhihong@gmail.com" created="Thu, 30 Jan 2014 21:45:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Jan 2014 19:34:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370922</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10444] NPE seen in logs at tail of fatal shutdown</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10444</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;hbase RS logs show an NPE in shutdown; no other info&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
14/01/30 14:18:25 INFO ipc.RpcServer: Stopping server on 57186
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;regionserver57186&quot;&lt;/span&gt; java.lang.NullPointerException
	at org.apache.hadoop.hbase.regionserver.HRegionServer.run(HRegionServer.java:897)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744)
14/01/30 14:18:25 ERROR regionserver.HRegionServerCommand
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;in 0.98.0 RC1&lt;/p&gt;</environment>
        <key id="12692293">HBASE-10444</key>
            <summary>NPE seen in logs at tail of fatal shutdown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stevel@apache.org">Steve Loughran</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jan 2014 14:41:28 +0000</created>
                <updated>Fri, 31 Jan 2014 18:31:18 +0000</updated>
                            <resolved>Fri, 31 Jan 2014 18:31:18 +0000</resolved>
                                    <version>0.98.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13886619" author="stevel@apache.org" created="Thu, 30 Jan 2014 14:42:21 +0000"  >&lt;p&gt;more logs&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
14/01/30 14:18:22 FATAL regionserver.HRegionServer: RegionServer abort: loaded coprocessors are: []
14/01/30 14:18:22 INFO regionserver.HRegionServer: STOPPED: Unexpected exception during initialization, aborting
14/01/30 14:18:23 INFO zookeeper.ClientCnxn: Opening socket connection to server ubuntu/192.168.1.132:2181. Will not attempt to authenticate using SASL (unknown error)
14/01/30 14:18:23 WARN zookeeper.ClientCnxn: Session 0x0 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; server &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1068)
14/01/30 14:18:24 INFO zookeeper.ClientCnxn: Opening socket connection to server ubuntu/192.168.1.132:2181. Will not attempt to authenticate using SASL (unknown error)
14/01/30 14:18:24 WARN zookeeper.ClientCnxn: Session 0x0 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; server &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, unexpected error, closing socket connection and attempting reconnect
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1068)
14/01/30 14:18:25 INFO ipc.RpcServer: Stopping server on 57186
14/01/30 14:18:25 FATAL regionserver.HRegionServer: ABORTING region server ubuntu,57186,1391091486549: Initialization of RS failed.  Hence aborting RS.
java.io.IOException: Received the shutdown message &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; waiting.
	at org.apache.hadoop.hbase.regionserver.HRegionServer.blockAndCheckIfStopped(HRegionServer.java:757)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.initializeZooKeeper(HRegionServer.java:706)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.preRegistrationInitialization(HRegionServer.java:678)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.run(HRegionServer.java:806)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744)
14/01/30 14:18:25 FATAL regionserver.HRegionServer: RegionServer abort: loaded coprocessors are: []
14/01/30 14:18:25 INFO regionserver.HRegionServer: STOPPED: Initialization of RS failed.  Hence aborting RS.
14/01/30 14:18:25 INFO ipc.RpcServer: Stopping server on 57186
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;regionserver57186&quot;&lt;/span&gt; java.lang.NullPointerException
	at org.apache.hadoop.hbase.regionserver.HRegionServer.run(HRegionServer.java:897)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744)
14/01/30 14:18:25 ERROR regionserver.HRegionServerCommandLine: Region server exiting
java.lang.RuntimeException: HRegionServer Aborted
	at org.apache.hadoop.hbase.regionserver.HRegionServerCommandLine.start(HRegionServerCommandLine.java:66)
	at org.apache.hadoop.hbase.regionserver.HRegionServerCommandLine.run(HRegionServerCommandLine.java:85)
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)
	at org.apache.hadoop.hbase.util.ServerCommandLine.doMain(ServerCommandLine.java:126)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.main(HRegionServer.java:2336)
14/01/30 14:18:25 INFO regionserver.ShutdownHook: Shutdown hook starting; hbase.shutdown.hook=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;; fsShutdownHook=org.apache.hadoop.fs.FileSystem$Cache$ClientFinalizer@1407408
14/01/30 14:18:25 INFO regionserver.HRegionServer: STOPPED: Shutdown hook
14/01/30 14:18:25 INFO regionserver.ShutdownHook: Starting fs shutdown hook thread.
14/01/30 14:18:25 INFO regionserver.ShutdownHook: Shutdown hook finished.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13886972" author="apurtell" created="Thu, 30 Jan 2014 19:41:24 +0000"  >&lt;p&gt;Thanks for the report Steve.&lt;/p&gt;

&lt;p&gt;In the 0.98.0 RC1 source, HRegionServer.java:897 corresponds to this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
896:      } &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;
&lt;/span&gt;897:    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable t) {
898:      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!checkOOME(t)) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Seems strange that a NPE will emanate from a catch statement. Let me think about how that could happen. &lt;/p&gt;</comment>
                            <comment id="13887589" author="stevel@apache.org" created="Fri, 31 Jan 2014 09:33:23 +0000"  >&lt;p&gt;commit #50f5a7a, by the look of things, unless I&apos;ve accidentally been using an older version&lt;/p&gt;</comment>
                            <comment id="13887668" author="stevel@apache.org" created="Fri, 31 Jan 2014 11:42:17 +0000"  >&lt;p&gt;I may have unintentionally deployed 0.96.0 instead; propose closing as cannot reproduce until I can see it again?&lt;/p&gt;</comment>
                            <comment id="13887969" author="apurtell" created="Fri, 31 Jan 2014 18:31:18 +0000"  >&lt;p&gt;Ok, resolved as cannot reproduce. Please reopen if you see it again.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Jan 2014 19:41:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370894</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10443] IndexOutOfBoundExceptions when processing compressed tags in HFile</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10443</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;As &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10438&quot; title=&quot;NPE from LRUDictionary when size reaches the max init value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10438&quot;&gt;&lt;del&gt;HBASE-10438&lt;/del&gt;&lt;/a&gt; got closed, we still need to fix the Index out of bound exception that occurs.  If we have a proper fix will fix this, if the bug was a false alarm would close this. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12692227">HBASE-10443</key>
            <summary>IndexOutOfBoundExceptions when processing compressed tags in HFile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jan 2014 07:32:10 +0000</created>
                <updated>Mon, 3 Feb 2014 01:00:55 +0000</updated>
                            <resolved>Sun, 2 Feb 2014 09:17:47 +0000</resolved>
                                    <version>0.98.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13886714" author="ram_krish" created="Thu, 30 Jan 2014 16:12:52 +0000"  >&lt;p&gt;We have these two exceptions trace&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.hadoop.hbase.DroppedSnapshotException: region: usertable,user5152654437639860133,1391056599393.654e89edf63813d2120e9d287afff889.
        at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:1694)
        at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:1556)
        at org.apache.hadoop.hbase.regionserver.HRegion.flushcache(HRegion.java:1471)
        at org.apache.hadoop.hbase.regionserver.MemStoreFlusher.flushRegion(MemStoreFlusher.java:456)
        at org.apache.hadoop.hbase.regionserver.MemStoreFlusher.flushRegion(MemStoreFlusher.java:430)
        at org.apache.hadoop.hbase.regionserver.MemStoreFlusher.access$800(MemStoreFlusher.java:66)
        at org.apache.hadoop.hbase.regionserver.MemStoreFlusher$FlushHandler.run(MemStoreFlusher.java:248)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744)
Caused by: java.lang.IndexOutOfBoundsException: index (16161) must be less than size (7)
        at com.google.common.base.Preconditions.checkElementIndex(Preconditions.java:305)
        at com.google.common.base.Preconditions.checkElementIndex(Preconditions.java:284)
        at org.apache.hadoop.hbase.io.util.LRUDictionary$BidirectionalLRUMap.get(LRUDictionary.java:139)
        at org.apache.hadoop.hbase.io.util.LRUDictionary$BidirectionalLRUMap.access$000(LRUDictionary.java:76)
        at org.apache.hadoop.hbase.io.util.LRUDictionary.getEntry(LRUDictionary.java:43)
        at org.apache.hadoop.hbase.io.TagCompressionContext.uncompressTags(TagCompressionContext.java:159)
        at org.apache.hadoop.hbase.io.encoding.BufferedDataBlockEncoder$BufferedEncodedSeeker.decodeTags(BufferedDataBlockEncoder.java:273)
        at org.apache.hadoop.hbase.io.encoding.FastDiffDeltaEncoder$1.decode(FastDiffDeltaEncoder.java:522)
        at org.apache.hadoop.hbase.io.encoding.FastDiffDeltaEncoder$1.decodeNext(FastDiffDeltaEncoder.java:540)
        at org.apache.hadoop.hbase.io.encoding.BufferedDataBlockEncoder$BufferedEncodedSeeker.next(BufferedDataBlockEncoder.java:262)
        at org.apache.hadoop.hbase.io.hfile.HFileReaderV2$EncodedScannerV2.next(HFileReaderV2.java:1063)
        at org.apache.hadoop.hbase.regionserver.StoreFileScanner.next(StoreFileScanner.java:137)
        at org.apache.hadoop.hbase.regionserver.KeyValueHeap.next(KeyValueHeap.java:108)
        at org.apache.hadoop.hbase.regionserver.StoreScanner.next(StoreScanner.java:509)
        at org.apache.hadoop.hbase.regionserver.StoreFlusher.performFlush(StoreFlusher.java:128)
        at org.apache.hadoop.hbase.regionserver.DefaultStoreFlusher.flushSnapshot(DefaultStoreFlusher.java:73)
        at org.apache.hadoop.hbase.regionserver.HStore.flushCache(HStore.java:786)
        at org.apache.hadoop.hbase.regionserver.HStore$StoreFlusherImpl.flushCache(HStore.java:1943)
        at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:1669)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.IndexOutOfBoundsException: index (63) must be less than size (9)
        at com.google.common.base.Preconditions.checkElementIndex(Preconditions.java:305)
        at com.google.common.base.Preconditions.checkElementIndex(Preconditions.java:284)
        at org.apache.hadoop.hbase.io.util.LRUDictionary$BidirectionalLRUMap.get(LRUDictionary.java:131)
       at org.apache.hadoop.hbase.io.util.LRUDictionary$BidirectionalLRUMap.access$000(LRUDictionary.java:76)
        at org.apache.hadoop.hbase.io.util.LRUDictionary.getEntry(LRUDictionary.java:43)
        at org.apache.hadoop.hbase.io.TagCompressionContext.uncompressTags(TagCompressionContext.java:151)
        at org.apache.hadoop.hbase.io.encoding.BufferedDataBlockEncoder$BufferedEncodedSeeker.decodeTags(BufferedDataBlockEncoder.java:270)
        at org.apache.hadoop.hbase.io.encoding.FastDiffDeltaEncoder$1.decode(FastDiffDeltaEncoder.java:522)
        at org.apache.hadoop.hbase.io.encoding.FastDiffDeltaEncoder$1.decodeNext(FastDiffDeltaEncoder.java:540)
        at org.apache.hadoop.hbase.io.encoding.BufferedDataBlockEncoder$BufferedEncodedSeeker.next(BufferedDataBlockEncoder.java:259)
        at org.apache.hadoop.hbase.io.hfile.HFileReaderV2$EncodedScannerV2.next(HFileReaderV2.java:1063)
        at org.apache.hadoop.hbase.regionserver.StoreFileScanner.next(StoreFileScanner.java:137)
        at org.apache.hadoop.hbase.regionserver.KeyValueHeap.next(KeyValueHeap.java:108)
        at org.apache.hadoop.hbase.regionserver.StoreScanner.next(StoreScanner.java:509)
        at org.apache.hadoop.hbase.regionserver.compactions.Compactor.performCompaction(Compactor.java:217)
        at org.apache.hadoop.hbase.regionserver.compactions.DefaultCompactor.compact(DefaultCompactor.java:76)
        at org.apache.hadoop.hbase.regionserver.DefaultStoreEngine$DefaultCompactionContext.compact(DefaultStoreEngine.java:109)
        at org.apache.hadoop.hbase.regionserver.HStore.compact(HStore.java:1074)
        at org.apache.hadoop.hbase.regionserver.HRegion.compact(HRegion.java:1382)
        at org.apache.hadoop.hbase.regionserver.CompactSplitThread$CompactionRunner.run(CompactSplitThread.java:475)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13886729" author="anoop.hbase" created="Thu, 30 Jan 2014 16:21:48 +0000"  >&lt;p&gt;Strange part is DefaultStoreFlusher.flushSnapshot is using a StoreFileScanner&lt;/p&gt;</comment>
                            <comment id="13886742" author="ram_krish" created="Thu, 30 Jan 2014 16:26:13 +0000"  >&lt;p&gt;That too not every time a flush happens. Some flushes carry the storefilescanner in the kvheap.&lt;/p&gt;</comment>
                            <comment id="13886749" author="apurtell" created="Thu, 30 Jan 2014 16:29:35 +0000"  >&lt;p&gt;The fix version needs to be 0.98.1 unless this sinks the RC. It does not in my opinion because tag compression is optional.&lt;/p&gt;</comment>
                            <comment id="13887698" author="ram_krish" created="Fri, 31 Jan 2014 12:33:07 +0000"  >&lt;p&gt;After a long fight with this issue, we have nailed down this.  &lt;br/&gt;
When the store file is being read, as part of reseek to a key if we find the if we have jumped a given key we do a move previous. Incase of DBEs we have already read this key and made an entry in the LRU dictionary for tags.&lt;br/&gt;
Now after moving to previous we once again read this kv and again will make a duplicate entry in the KV in the next immediate index.  Now there are two entries.  &lt;br/&gt;
Index 17 and 18 may have the same entry (for eg).  Now another read tries to check what value is in index 18 expecting Tag B he may get back Tag A.  &lt;br/&gt;
Just tried out ruling out duplicate entries am able to overcome this bug.  &lt;br/&gt;
So better to disable compress_tags for this version?&lt;/p&gt;</comment>
                            <comment id="13887711" author="anoop.hbase" created="Fri, 31 Jan 2014 13:06:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;So better to disable compress_tags for this version?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1 for disabling compress tag on HFile for 0.98&lt;/p&gt;</comment>
                            <comment id="13887950" author="apurtell" created="Fri, 31 Jan 2014 18:05:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;+1 for disabling compress tag on HFile for 0.98&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We won&apos;t compress tags unless HColumnDescriptor#shouldCompressTags returns &apos;true&apos;. Unfortunately that is determined by this, in HColumnDescriptor:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  /**
   * Default compress tags along with any type of DataBlockEncoding
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; DEFAULT_COMPRESS_TAGS = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I guess we have to make a change here (at least) and sink the RC. We should also modify HFileContextBuilder to disallow setting compressTags to true. &lt;/p&gt;</comment>
                            <comment id="13887954" author="apurtell" created="Fri, 31 Jan 2014 18:09:05 +0000"  >&lt;p&gt;Raised priority to blocker, fix version 0.98.0&lt;/p&gt;</comment>
                            <comment id="13887956" author="apurtell" created="Fri, 31 Jan 2014 18:10:23 +0000"  >&lt;p&gt;I&apos;m +1 for forced disable of compressed tags in 0.98.0. Please leave the schema and configuration options around for when this is fixed in/for 0.98.1&lt;/p&gt;</comment>
                            <comment id="13888494" author="ram_krish" created="Sat, 1 Feb 2014 08:54:45 +0000"  >&lt;p&gt;Sorry..bit late to this today.. Will come up with a patch soon.&lt;/p&gt;</comment>
                            <comment id="13888506" author="ram_krish" created="Sat, 1 Feb 2014 10:05:01 +0000"  >&lt;p&gt;Patch that defaults COMPRESS_TAGs to false and also logs a msg before setting to HFileContext if found to be true.&lt;br/&gt;
Should we add this in book also?&lt;/p&gt;</comment>
                            <comment id="13888548" author="hadoopqa" created="Sat, 1 Feb 2014 11:51:13 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626465/HBASE-10443.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626465/HBASE-10443.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626465&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8571//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13888614" author="anoop.hbase" created="Sat, 1 Feb 2014 14:45:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13888693" author="apurtell" created="Sat, 1 Feb 2014 19:38:13 +0000"  >&lt;p&gt;The patch is fine.&lt;/p&gt;

&lt;p&gt;We don&apos;t need a book update.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+    if(family.shouldCompressTags()) {
+      LOG.warn(&quot;Compress tags in HFiles disabled in 0.98.0&quot;);
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Don&apos;t put in version specific messages. Instead, do something like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+    if(family.shouldCompressTags()) {
+      LOG.warn(&quot;HFile tag compression attribute ignored for &apos;&quot; + family.getNameAsString() + &quot;&apos;, see HBASE-10443&quot;);
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Can be fixed up at commit time.&lt;/p&gt;</comment>
                            <comment id="13888877" author="ram_krish" created="Sun, 2 Feb 2014 09:12:36 +0000"  >&lt;p&gt;Updated patch. Going to commit this.&lt;/p&gt;</comment>
                            <comment id="13888878" author="ram_krish" created="Sun, 2 Feb 2014 09:17:47 +0000"  >&lt;p&gt;Committed to 0.98 and trunk.  While fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10451&quot; title=&quot;Enable back Tag compression on HFiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10451&quot;&gt;HBASE-10451&lt;/a&gt; needs to fix in trunk also. Thanks for the reviews Anoop and Andy.&lt;/p&gt;</comment>
                            <comment id="13888903" author="hudson" created="Sun, 2 Feb 2014 11:34:15 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #112 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/112/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/112/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10443&quot; title=&quot;IndexOutOfBoundExceptions when processing compressed tags in HFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10443&quot;&gt;&lt;del&gt;HBASE-10443&lt;/del&gt;&lt;/a&gt;-IndexOutOfBoundExceptions when processing compressed tags in HFile (Ramkrishna S Vasudevan) (ramkrishna: rev 1563583)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-common/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileContextBuilder.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13888918" author="hudson" created="Sun, 2 Feb 2014 13:25:25 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4874 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4874/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4874/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10443&quot; title=&quot;IndexOutOfBoundExceptions when processing compressed tags in HFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10443&quot;&gt;&lt;del&gt;HBASE-10443&lt;/del&gt;&lt;/a&gt;-IndexOutOfBoundExceptions when processing compressed tags in HFile(Ramkrishna S Vasudevan) (ramkrishna: rev 1563584)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileContextBuilder.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13889141" author="hudson" created="Mon, 3 Feb 2014 01:00:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #75 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/75/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/75/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10443&quot; title=&quot;IndexOutOfBoundExceptions when processing compressed tags in HFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10443&quot;&gt;&lt;del&gt;HBASE-10443&lt;/del&gt;&lt;/a&gt;-IndexOutOfBoundExceptions when processing compressed tags in HFile(Ramkrishna S Vasudevan) (ramkrishna: rev 1563584)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileContextBuilder.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626465" name="HBASE-10443.patch" size="4112" author="ram_krish" created="Sat, 1 Feb 2014 10:05:01 +0000"/>
                            <attachment id="12626521" name="HBASE-10443_1.patch" size="4177" author="ram_krish" created="Sun, 2 Feb 2014 09:12:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Jan 2014 16:21:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10442] prepareDelete() isn&apos;t called before doPreMutationHook for a row deletion case</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10442</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This is a backward incompatibility issue for coprocessors so I marked as critical. &lt;/p&gt;

&lt;p&gt;When deleting a row, prepareDelete() will add delete marker for all column families before preDelete is called in hbase0.94 while in hbase0.96 and later version we invoke prepareDelete() after preDelete() hook is invoked but before postDelete() is called. &lt;/p&gt;
</description>
                <environment></environment>
        <key id="12692206">HBASE-10442</key>
            <summary>prepareDelete() isn&apos;t called before doPreMutationHook for a row deletion case</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png">Patch Available</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jeffreyz">Jeffrey Zhong</assignee>
                                    <reporter username="jeffreyz">Jeffrey Zhong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jan 2014 02:26:43 +0000</created>
                <updated>Sun, 2 Feb 2014 02:06:47 +0000</updated>
                                            <version>0.98.0</version>
                    <version>0.96.0</version>
                    <version>0.96.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>Coprocessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13886196" author="jeffreyz" created="Thu, 30 Jan 2014 02:30:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; Any chance I can get this in to 0.98? Thanks.&lt;/p&gt;</comment>
                            <comment id="13886201" author="apurtell" created="Thu, 30 Jan 2014 02:41:55 +0000"  >&lt;p&gt;If you can commit it in the next hour or so I will re-tag and respin the RC1 artifacts I just finished.&lt;/p&gt;</comment>
                            <comment id="13886203" author="apurtell" created="Thu, 30 Jan 2014 02:47:37 +0000"  >&lt;p&gt;Actually I will just go ahead and commit this after running the coprocessor tests locally.&lt;/p&gt;</comment>
                            <comment id="13886204" author="apurtell" created="Thu, 30 Jan 2014 02:48:01 +0000"  >&lt;p&gt;Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, guess we need this in 0.96 also&lt;/p&gt;</comment>
                            <comment id="13886213" author="apurtell" created="Thu, 30 Jan 2014 03:07:25 +0000"  >&lt;p&gt;Committed to trunk and 0.98&lt;/p&gt;</comment>
                            <comment id="13886214" author="jeffreyz" created="Thu, 30 Jan 2014 03:09:51 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;! My full local tests passed as well.&lt;/p&gt;</comment>
                            <comment id="13886215" author="apurtell" created="Thu, 30 Jan 2014 03:11:14 +0000"  >&lt;p&gt;And thank you for taking on that port of Phoenix &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeffreyz&quot; class=&quot;user-hover&quot; rel=&quot;jeffreyz&quot;&gt;Jeffrey Zhong&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13886238" author="hadoopqa" created="Thu, 30 Jan 2014 04:16:26 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626048/hbase-10442.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626048/hbase-10442.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626048&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8559//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13886271" author="hudson" created="Thu, 30 Jan 2014 05:35:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #108 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/108/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/108/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10442&quot; title=&quot;prepareDelete() isn&amp;#39;t called before doPreMutationHook for a row deletion case&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10442&quot;&gt;HBASE-10442&lt;/a&gt; prepareDelete() isn&apos;t called before doPreMutationHook for a row deletion case (Jeffrey Zhong) (apurtell: rev 1562674)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13887025" author="hudson" created="Thu, 30 Jan 2014 20:33:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #71 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/71/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/71/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10442&quot; title=&quot;prepareDelete() isn&amp;#39;t called before doPreMutationHook for a row deletion case&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10442&quot;&gt;HBASE-10442&lt;/a&gt; prepareDelete() isn&apos;t called before doPreMutationHook for a row deletion case (Jeffrey Zhong) (apurtell: rev 1562673)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13887044" author="stack" created="Thu, 30 Jan 2014 21:08:51 +0000"  >&lt;p&gt;Committed to 0.96 too.  Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeffreyz&quot; class=&quot;user-hover&quot; rel=&quot;jeffreyz&quot;&gt;Jeffrey Zhong&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13887123" author="hudson" created="Thu, 30 Jan 2014 21:56:50 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4871 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4871/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4871/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10442&quot; title=&quot;prepareDelete() isn&amp;#39;t called before doPreMutationHook for a row deletion case&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10442&quot;&gt;HBASE-10442&lt;/a&gt; prepareDelete() isn&apos;t called before doPreMutationHook for a row deletion case (Jeffrey Zhong) (apurtell: rev 1562673)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13887309" author="hudson" created="Fri, 31 Jan 2014 00:34:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96-hadoop2 #189 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/189/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/189/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10442&quot; title=&quot;prepareDelete() isn&amp;#39;t called before doPreMutationHook for a row deletion case&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10442&quot;&gt;HBASE-10442&lt;/a&gt; prepareDelete() isn&apos;t called before doPreMutationHook for a row deletion case (stack: rev 1562961)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13887316" author="hudson" created="Fri, 31 Jan 2014 00:42:43 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96 #275 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/275/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/275/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10442&quot; title=&quot;prepareDelete() isn&amp;#39;t called before doPreMutationHook for a row deletion case&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10442&quot;&gt;HBASE-10442&lt;/a&gt; prepareDelete() isn&apos;t called before doPreMutationHook for a row deletion case (stack: rev 1562961)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13888796" author="hudson" created="Sun, 2 Feb 2014 02:06:47 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #119 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/119/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/119/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10442&quot; title=&quot;prepareDelete() isn&amp;#39;t called before doPreMutationHook for a row deletion case&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10442&quot;&gt;HBASE-10442&lt;/a&gt; prepareDelete() isn&apos;t called before doPreMutationHook for a row deletion case (Jeffrey Zhong) (apurtell: rev 1562674)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626048" name="hbase-10442.patch" size="1086" author="jeffreyz" created="Thu, 30 Jan 2014 02:28:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Jan 2014 02:41:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Phoenix</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10441] [docs] nit default max versions is now 1 instead of 3 after HBASE-8450 </title>
                <link>https://issues.apache.org/jira/browse/HBASE-10441</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;trivial patch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692198">HBASE-10441</key>
            <summary>[docs] nit default max versions is now 1 instead of 3 after HBASE-8450 </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmhsieh">Jonathan Hsieh</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jan 2014 01:06:25 +0000</created>
                <updated>Thu, 30 Jan 2014 21:43:48 +0000</updated>
                            <resolved>Thu, 30 Jan 2014 01:12:06 +0000</resolved>
                                    <version>0.96.1.1</version>
                                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13886123" author="jmhsieh" created="Thu, 30 Jan 2014 01:12:06 +0000"  >&lt;p&gt;just committed to trunk because trivial.&lt;/p&gt;</comment>
                            <comment id="13886229" author="hudson" created="Thu, 30 Jan 2014 03:52:57 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4869 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4869/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4869/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10441&quot; title=&quot;[docs] nit default max versions is now 1 instead of 3 after HBASE-8450 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10441&quot;&gt;&lt;del&gt;HBASE-10441&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; nit default max versions is now 1 instead of 3 afte rHBASe-8450 (jmhsieh: rev 1562663)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/docbkx/schema_design.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13887024" author="hudson" created="Thu, 30 Jan 2014 20:33:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #71 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/71/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/71/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10441&quot; title=&quot;[docs] nit default max versions is now 1 instead of 3 after HBASE-8450 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10441&quot;&gt;&lt;del&gt;HBASE-10441&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; nit default max versions is now 1 instead of 3 afte rHBASe-8450 (jmhsieh: rev 1562663)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/docbkx/schema_design.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13887105" author="stack" created="Thu, 30 Jan 2014 21:43:48 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626033" name="HBASE-10441.patch" size="973" author="jmhsieh" created="Thu, 30 Jan 2014 01:08:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Jan 2014 03:52:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370795</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10440] integration tests fail due to nonce collisions</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10440</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9899&quot; title=&quot;for idempotent operation dups, return the result instead of throwing conflict exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9899&quot;&gt;HBASE-9899&lt;/a&gt; is implemented, and after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3787&quot; title=&quot;Increment is non-idempotent but client retries RPC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3787&quot;&gt;&lt;del&gt;HBASE-3787&lt;/del&gt;&lt;/a&gt;, HBase throws OperationConflictException when client retries an already-successful non-idempotent request because the response didn&apos;t reach the client.&lt;br/&gt;
Integration tests run into this when CM kills servers hard during relatively-recently-added appends and increments. They need to handle this, read verification would make sure the results are still correct&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692173">HBASE-10440</key>
            <summary>integration tests fail due to nonce collisions</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2014 23:07:52 +0000</created>
                <updated>Sun, 2 Feb 2014 02:06:47 +0000</updated>
                            <resolved>Thu, 30 Jan 2014 03:12:03 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.99.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13885997" author="sershe" created="Wed, 29 Jan 2014 23:33:48 +0000"  >&lt;p&gt;small patch&lt;/p&gt;</comment>
                            <comment id="13886001" author="sershe" created="Wed, 29 Jan 2014 23:34:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; ok for 98?&lt;/p&gt;</comment>
                            <comment id="13886016" author="apurtell" created="Wed, 29 Jan 2014 23:48:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13886162" author="hadoopqa" created="Thu, 30 Jan 2014 01:52:57 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626013/HBASE-10440.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626013/HBASE-10440.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626013&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.io.encoding.TestEncodedSeekers.testEncodedSeeker(TestEncodedSeekers.java:129)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8557//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13886192" author="sershe" created="Thu, 30 Jan 2014 02:26:11 +0000"  >&lt;p&gt;Will commit tomorrow if no objections&lt;/p&gt;</comment>
                            <comment id="13886207" author="apurtell" created="Thu, 30 Jan 2014 02:58:47 +0000"  >&lt;p&gt;I&apos;m going to re-spin RC1 tonight after getting &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10442&quot; title=&quot;prepareDelete() isn&amp;#39;t called before doPreMutationHook for a row deletion case&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10442&quot;&gt;HBASE-10442&lt;/a&gt; in, so I&apos;m going to go ahead and commit this now. Thanks for the fix Sergey.&lt;/p&gt;</comment>
                            <comment id="13886217" author="apurtell" created="Thu, 30 Jan 2014 03:12:03 +0000"  >&lt;p&gt;Committed to trunk and 0.98&lt;/p&gt;</comment>
                            <comment id="13886270" author="hudson" created="Thu, 30 Jan 2014 05:35:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #108 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/108/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/108/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10440&quot; title=&quot;integration tests fail due to nonce collisions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10440&quot;&gt;&lt;del&gt;HBASE-10440&lt;/del&gt;&lt;/a&gt; Integration tests fail due to nonce collisions (Sergey Shelukhin) (apurtell: rev 1562677)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestIngest.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedUpdater.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13886879" author="sershe" created="Thu, 30 Jan 2014 18:33:30 +0000"  >&lt;p&gt;thanks for the merge!&lt;/p&gt;</comment>
                            <comment id="13887023" author="hudson" created="Thu, 30 Jan 2014 20:33:36 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #71 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/71/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/71/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10440&quot; title=&quot;integration tests fail due to nonce collisions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10440&quot;&gt;&lt;del&gt;HBASE-10440&lt;/del&gt;&lt;/a&gt; Integration tests fail due to nonce collisions (Sergey Shelukhin) (apurtell: rev 1562675)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestIngest.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedUpdater.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13887122" author="hudson" created="Thu, 30 Jan 2014 21:56:50 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4871 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4871/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4871/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10440&quot; title=&quot;integration tests fail due to nonce collisions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10440&quot;&gt;&lt;del&gt;HBASE-10440&lt;/del&gt;&lt;/a&gt; Integration tests fail due to nonce collisions (Sergey Shelukhin) (apurtell: rev 1562675)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestIngest.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedUpdater.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13888795" author="hudson" created="Sun, 2 Feb 2014 02:06:47 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #119 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/119/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/119/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10440&quot; title=&quot;integration tests fail due to nonce collisions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10440&quot;&gt;&lt;del&gt;HBASE-10440&lt;/del&gt;&lt;/a&gt; Integration tests fail due to nonce collisions (Sergey Shelukhin) (apurtell: rev 1562677)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestIngest.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedUpdater.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626013" name="HBASE-10440.patch" size="5722" author="sershe" created="Wed, 29 Jan 2014 23:33:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 29 Jan 2014 23:48:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370770</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370759</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10439] Document how to configure REST server impersonation</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10439</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In 0.96, REST server supports impersonation. Let&apos;s document how to configure it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12692078">HBASE-10439</key>
            <summary>Document how to configure REST server impersonation</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png">Patch Available</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jxiang">Jimmy Xiang</assignee>
                                    <reporter username="jxiang">Jimmy Xiang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2014 17:01:25 +0000</created>
                <updated>Thu, 30 Jan 2014 20:00:53 +0000</updated>
                                                            <fixVersion>0.99.0</fixVersion>
                                    <component>documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13887000" author="hadoopqa" created="Thu, 30 Jan 2014 20:00:53 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626136/hbase-10439.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626136/hbase-10439.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626136&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+0 tests included&lt;/font&gt;.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8561//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626136" name="hbase-10439.patch" size="2523" author="jxiang" created="Thu, 30 Jan 2014 18:19:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Jan 2014 20:00:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370674</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370666</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10438] NPE from LRUDictionary when size reaches the max init value</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10438</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This happened while testing tags with COMPRESS_TAG=true/false. I was trying to change this attribute of compressing tags by altering the HCD.  The DBE used is FAST_DIFF. &lt;br/&gt;
In one particular case I got this &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-01-29 16:20:03,023 ERROR [regionserver60020-smallCompactions-1390983591688] regionserver.CompactSplitThread: Compaction failed Request = regionName=usertable,user5146961419203824653,1390979618897.2dd477d0aed888c615a29356c0bbb19d., storeName=f1, fileCount=4, fileSize=498.6 M (226.0 M, 163.7 M, 67.0 M, 41.8 M), priority=6, time=1994941280334574
java.lang.NullPointerException
        at org.apache.hadoop.hbase.io.util.LRUDictionary$BidirectionalLRUMap.put(LRUDictionary.java:109)
        at org.apache.hadoop.hbase.io.util.LRUDictionary$BidirectionalLRUMap.access$200(LRUDictionary.java:76)
        at org.apache.hadoop.hbase.io.util.LRUDictionary.addEntry(LRUDictionary.java:62)
        at org.apache.hadoop.hbase.io.TagCompressionContext.uncompressTags(TagCompressionContext.java:147)
        at org.apache.hadoop.hbase.io.encoding.BufferedDataBlockEncoder$BufferedEncodedSeeker.decodeTags(BufferedDataBlockEncoder.java:270)
        at org.apache.hadoop.hbase.io.encoding.FastDiffDeltaEncoder$1.decode(FastDiffDeltaEncoder.java:522)
        at org.apache.hadoop.hbase.io.encoding.FastDiffDeltaEncoder$1.decodeFirst(FastDiffDeltaEncoder.java:535)
        at org.apache.hadoop.hbase.io.encoding.BufferedDataBlockEncoder$BufferedEncodedSeeker.setCurrentBuffer(BufferedDataBlockEncoder.java:188)
        at org.apache.hadoop.hbase.io.hfile.HFileReaderV2$EncodedScannerV2.updateCurrentBlock(HFileReaderV2.java:1017)
        at org.apache.hadoop.hbase.io.hfile.HFileReaderV2$EncodedScannerV2.next(HFileReaderV2.java:1068)
        at org.apache.hadoop.hbase.regionserver.StoreFileScanner.next(StoreFileScanner.java:137)
        at org.apache.hadoop.hbase.regionserver.KeyValueHeap.next(KeyValueHeap.java:108)
        at org.apache.hadoop.hbase.regionserver.StoreScanner.next(StoreScanner.java:509)
        at org.apache.hadoop.hbase.regionserver.compactions.Compactor.performCompaction(Compactor.java:217)
        at org.apache.hadoop.hbase.regionserver.compactions.DefaultCompactor.compact(DefaultCompactor.java:76)
        at org.apache.hadoop.hbase.regionserver.DefaultStoreEngine$DefaultCompactionContext.compact(DefaultStoreEngine.java:109)
        at org.apache.hadoop.hbase.regionserver.HStore.compact(HStore.java:1074)
        at org.apache.hadoop.hbase.regionserver.HRegion.compact(HRegion.java:1382)
        at org.apache.hadoop.hbase.regionserver.CompactSplitThread$CompactionRunner.run(CompactSplitThread.java:475)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I am not able to reproduce this repeatedly.  One thing is I altered the table to use COMPRESS_TAGS here before that it was false.  &lt;br/&gt;
My feeling is this is not due to the COMPRESS_TAGS because we try to handle this per file by adding it in FILE_INFO. &lt;br/&gt;
In the above stack trace the problem has occured while compaction and so the flushed file should have this property set.  I think the problem could be with LRUDicitonary.&lt;br/&gt;
the reason for NPE is &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (currSize &amp;lt; initSize) {
        &lt;span class=&quot;code-comment&quot;&gt;// There is space to add without evicting.
&lt;/span&gt;        indexToNode[currSize].setContents(stored, 0, stored.length);
        setHead(indexToNode[currSize]);
        &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; ret = (&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) currSize++;
        nodeToIndex.put(indexToNode[ret], ret);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(currSize);
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; ret;
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; s = nodeToIndex.remove(tail);
        tail.setContents(stored, 0, stored.length);
        &lt;span class=&quot;code-comment&quot;&gt;// we need to rehash &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.
&lt;/span&gt;        nodeToIndex.put(tail, s);
        moveToHead(tail);
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; s;
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; s = nodeToIndex.remove(tail);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is giving a null value and the typecasting to short primitive is throwing NPE.  Am digging this further to see if am able to reproduce this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691991">HBASE-10438</key>
            <summary>NPE from LRUDictionary when size reaches the max init value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2014 10:06:01 +0000</created>
                <updated>Fri, 31 Jan 2014 19:19:47 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 20:34:25 +0000</resolved>
                                    <version>0.98.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13885192" author="ram_krish" created="Wed, 29 Jan 2014 10:06:56 +0000"  >&lt;p&gt;The scenario I am trying to do is that using YCSB am trying to add ACL labels for a set of users.  Here the labels will  be mostly repeating and hence the dictionary would be use effectively.&lt;/p&gt;</comment>
                            <comment id="13885229" author="ram_krish" created="Wed, 29 Jan 2014 11:01:19 +0000"  >&lt;p&gt;I also have these configuration enabled&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &amp;lt;property&amp;gt;
            &amp;lt;name&amp;gt;hbase.regionserver.hlog.reader.impl&amp;lt;/name&amp;gt;
            &amp;lt;value&amp;gt;org.apache.hadoop.hbase.regionserver.wal.SecureProtobufLogReader&amp;lt;/value&amp;gt;
        &amp;lt;/property&amp;gt;
        &amp;lt;property&amp;gt;
            &amp;lt;name&amp;gt;hbase.regionserver.hlog.writer.impl&amp;lt;/name&amp;gt;
            &amp;lt;value&amp;gt;org.apache.hadoop.hbase.regionserver.wal.SecureProtobufLogWriter&amp;lt;/value&amp;gt;
        &amp;lt;/property&amp;gt;
        &amp;lt;property&amp;gt;
            &amp;lt;name&amp;gt;hbase.regionserver.wal.encryption&amp;lt;/name&amp;gt;
            &amp;lt;value&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/value&amp;gt;
        &amp;lt;/property&amp;gt;
   &amp;lt;property&amp;gt;
            &amp;lt;name&amp;gt;hbase.crypto.keyprovider&amp;lt;/name&amp;gt;
            &amp;lt;value&amp;gt;org.apache.hadoop.hbase.io.crypto.KeyProviderForTesting&amp;lt;/value&amp;gt;
        &amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13885301" author="ram_krish" created="Wed, 29 Jan 2014 12:46:00 +0000"  >&lt;p&gt;Am now consistently able to reproduce the issue. &lt;br/&gt;
whenever the list of tags changes this issue happens.  We get errors in different places apart from NPE&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.IndexOutOfBoundsException: index (63) must be less than size (14)
        at com.google.common.base.Preconditions.checkElementIndex(Preconditions.java:305)
        at com.google.common.base.Preconditions.checkElementIndex(Preconditions.java:284)
        at org.apache.hadoop.hbase.io.util.LRUDictionary$BidirectionalLRUMap.get(LRUDictionary.java:131)
        at org.apache.hadoop.hbase.io.util.LRUDictionary$BidirectionalLRUMap.access$000(LRUDictionary.java:76)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.ArrayIndexOutOfBoundsException: 46204
        at org.apache.hadoop.hbase.util.Bytes.hashCode(Bytes.java:1562)
        at org.apache.hadoop.hbase.io.util.LRUDictionary$BidirectionalLRUMap$Node.hashCode(LRUDictionary.java:208)
        at java.util.HashMap.hash(HashMap.java:362)
        at java.util.HashMap.getEntry(HashMap.java:462)
        at java.util.HashMap.get(HashMap.java:417)
        at org.apache.hadoop.hbase.io.util.LRUDictionary$BidirectionalLRUMap.findIdx(LRUDictionary.java:122)
        at org.apache.hadoop.hbase.io.util.LRUDictionary$BidirectionalLRUMap.access$100(LRUDictionary.java:76)
        at org.apache.hadoop.hbase.io.util.LRUDictionary.findEntry(LRUDictionary.java:52)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The reason could be that, as we are using dictionary now the index entry in one of the hfile for the tag would be say 63. Now on compaction we would be combining 3 or more hfiles and in that scenario we may be processing different files in the kv&apos;s sorted order.  So the index 63 in one file will not be uniform across those files.  So even if the addEntry in LRU keeps incrementing the currSize but the index that comes for uncompress may be different. Hence we get that Precondition check error.  The other errors may be due to the same fact.  Yet to ascertain the details.  Trying out some way to reproduce this easily. Need to find out reason for NPE also.&lt;/p&gt;</comment>
                            <comment id="13885305" author="ram_krish" created="Wed, 29 Jan 2014 12:51:02 +0000"  >&lt;p&gt;Enabling compress_tags and doing puts with different tag sets  will be able to reproduce this issue.&lt;/p&gt;</comment>
                            <comment id="13885534" author="anoop.hbase" created="Wed, 29 Jan 2014 17:08:44 +0000"  >&lt;p&gt;Ram  can u try with this patch.&lt;br/&gt;
I was able to reproduce NPE using a test and with patch it is gone. Not abl to reproduce the IndexOutOfBounds though&lt;/p&gt;</comment>
                            <comment id="13885573" author="ram_krish" created="Wed, 29 Jan 2014 17:37:32 +0000"  >&lt;p&gt;Seeing the NPE stack trace and this fix. Yes it should solve the problem I think.  Because the count of the index is going beyond the init value and this shows somewhere we have not cleared the dictionary.  I think this should be fine. &lt;/p&gt;</comment>
                            <comment id="13885696" author="apurtell" created="Wed, 29 Jan 2014 19:35:37 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Will commit this shortly unless objection&lt;/p&gt;</comment>
                            <comment id="13885766" author="hadoopqa" created="Wed, 29 Jan 2014 20:30:01 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625898/HBASE-10438.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625898/HBASE-10438.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625898&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8553//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13885771" author="apurtell" created="Wed, 29 Jan 2014 20:34:25 +0000"  >&lt;p&gt;Committed to trunk and 0.98&lt;/p&gt;</comment>
                            <comment id="13885957" author="hudson" created="Wed, 29 Jan 2014 22:58:52 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4868 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4868/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4868/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10438&quot; title=&quot;NPE from LRUDictionary when size reaches the max init value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10438&quot;&gt;&lt;del&gt;HBASE-10438&lt;/del&gt;&lt;/a&gt; NPE from LRUDictionary when size reaches the max init value (Ramkrishna S. Vasudevan) (apurtell: rev 1562578)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/BufferedDataBlockEncoder.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13886023" author="hudson" created="Wed, 29 Jan 2014 23:52:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #116 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/116/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/116/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10438&quot; title=&quot;NPE from LRUDictionary when size reaches the max init value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10438&quot;&gt;&lt;del&gt;HBASE-10438&lt;/del&gt;&lt;/a&gt; NPE from LRUDictionary when size reaches the max init value (Ramkrishna S. Vasudevan) (apurtell: rev 1562579)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/BufferedDataBlockEncoder.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13886127" author="hudson" created="Thu, 30 Jan 2014 01:21:21 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #70 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/70/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/70/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10438&quot; title=&quot;NPE from LRUDictionary when size reaches the max init value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10438&quot;&gt;&lt;del&gt;HBASE-10438&lt;/del&gt;&lt;/a&gt; NPE from LRUDictionary when size reaches the max init value (Ramkrishna S. Vasudevan) (apurtell: rev 1562578)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/BufferedDataBlockEncoder.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13886143" author="hudson" created="Thu, 30 Jan 2014 01:34:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/107/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10438&quot; title=&quot;NPE from LRUDictionary when size reaches the max init value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10438&quot;&gt;&lt;del&gt;HBASE-10438&lt;/del&gt;&lt;/a&gt; NPE from LRUDictionary when size reaches the max init value (Ramkrishna S. Vasudevan) (apurtell: rev 1562579)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/BufferedDataBlockEncoder.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625898" name="HBASE-10438.patch" size="679" author="anoop.hbase" created="Wed, 29 Jan 2014 17:08:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 29 Jan 2014 17:08:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370587</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370579</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10437] Integrating CompoundRowPrefixFilter with RowPrefixBloomFilter</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10437</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Adding the changes to Filter which can be used to incorporate the bloom filter optimizations into the CompoundRowPrefixFilter.&lt;br/&gt;
Having the context of the bloom filters from inside the filter gives a lot of benefit in terms of performance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691977">HBASE-10437</key>
            <summary>Integrating CompoundRowPrefixFilter with RowPrefixBloomFilter</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="manukranthk">Manukranth Kolloju</assignee>
                                    <reporter username="manukranthk">Manukranth Kolloju</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2014 08:48:44 +0000</created>
                <updated>Wed, 29 Jan 2014 08:48:44 +0000</updated>
                                            <version>0.89-fb</version>
                                    <fixVersion>0.89-fb</fixVersion>
                                    <component>Scanners</component>
                        <due>Sat, 1 Feb 2014 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="259200">72h</timeoriginalestimate>
                            <timeestimate seconds="259200">72h</timeestimate>
                                                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370565</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10436] hbase 0.96+ jmx does not have regionserver info any more.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10436</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HBase 0.96&apos;s refactored jmx beans do not contain the master&apos;s list of dead region servers and live regionservers with load info.  HBase 0.94 did (though in a single monolithic blob).  &lt;/p&gt;

&lt;p&gt;This JMX interface should be considered as much of an API as the the normal wire or java api.  Dropping values from this was done without deprecation and the removal of this information is a functional regression.&lt;/p&gt;

&lt;p&gt;We should provide the information in the 0.96+ JMX.  HBase 0.94 had a  monolithic JMX blob (&quot;hadoop:service=Master,name=Master&quot;)  that contained a lot of information, including the regionserver list and the cached regionserver load for each region  found on the master webpage.  0.96+ refactored jmx this into several jmx beans which could be selectively retrieved.  These include:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;hadoop:service=HBase,name=Master,sub=AssignmentManager&lt;/li&gt;
	&lt;li&gt;hadoop:service=HBase,name=Master,sub=Balancer&lt;/li&gt;
	&lt;li&gt;hadoop:service=HBase,name=Master,sub=Server&lt;/li&gt;
	&lt;li&gt;hadoop:service=HBase,name=Master,sub=FileSystem&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Specifically the (Hadoop:service=HBase,name=Master,sub=Server) listing that used to contain regionservers and deadregionservers in jmx were replaced in   with numRegionServers and numDeadRegionservers which only contain counts.  &lt;/p&gt;

&lt;p&gt;I propose just adding another mbean called &quot;RegionServers&quot; under the bean: &quot;hadoop:service=HBase,name=Master,sub=RegionServers&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691941">HBASE-10436</key>
            <summary>hbase 0.96+ jmx does not have regionserver info any more.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png">Patch Available</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jmhsieh">Jonathan Hsieh</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2014 23:52:55 +0000</created>
                <updated>Wed, 29 Jan 2014 23:53:18 +0000</updated>
                                            <version>0.98.0</version>
                    <version>0.96.0</version>
                    <version>0.99.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13884930" author="jmhsieh" created="Wed, 29 Jan 2014 02:38:36 +0000"  >&lt;p&gt;Patch for trunk.&lt;/p&gt;</comment>
                            <comment id="13884932" author="jmhsieh" created="Wed, 29 Jan 2014 02:41:10 +0000"  >&lt;p&gt;here&apos;s a sample output if you look at hbasemaster/jmx&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;Hadoop:service=HBase,name=Master,sub=Server&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;modelerType&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;Master,sub=Server&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;tag.Context&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;master&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;tag.zookeeperQuorum&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;localhost:2181&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;tag.serverName&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;localhost,53655,1390950016536&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;tag.clusterId&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;3b5b95ba-315f-495d-9e08-08a9626ccb37&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;tag.isActiveMaster&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;tag.Context&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;master&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;tag.Hostname&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;swoop&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;masterActiveTime&quot;&lt;/span&gt; : 1390950018853,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;masterStartTime&quot;&lt;/span&gt; : 1390950018513,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;averageLoad&quot;&lt;/span&gt; : 3.0,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;numRegionServers&quot;&lt;/span&gt; : 1,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;numDeadRegionServers&quot;&lt;/span&gt; : 0,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;clusterRequests&quot;&lt;/span&gt; : 22172
  }, {
....
 }, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;hadoop:service=HBase,name=Master,sub=RegionServers&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;modelerType&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hbase.master.MasterRSTrackerMXBeanImpl&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;RegionServers&quot;&lt;/span&gt; : [ {
      &lt;span class=&quot;code-quote&quot;&gt;&quot;key&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;localhost,38682,1390950017735&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt; : {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;currentCompactedKVs&quot;&lt;/span&gt; : 0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;infoServerPort&quot;&lt;/span&gt; : 43366,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;load&quot;&lt;/span&gt; : 3,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;maxHeapMB&quot;&lt;/span&gt; : 966,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;memstoreSizeInMB&quot;&lt;/span&gt; : 0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;numberOfRegions&quot;&lt;/span&gt; : 3,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;numberOfRequests&quot;&lt;/span&gt; : 0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;readRequestsCount&quot;&lt;/span&gt; : 30,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;regionServerCoprocessors&quot;&lt;/span&gt; : [ ],
        &lt;span class=&quot;code-quote&quot;&gt;&quot;regionsLoad&quot;&lt;/span&gt; : [ {
          &lt;span class=&quot;code-quote&quot;&gt;&quot;key&quot;&lt;/span&gt; : [ 104, 98, 97, 115, 101, 58, 109, 101, 116, 97, 44, 44, 49 ],
          &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt; : {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;completeSequenceId&quot;&lt;/span&gt; : 19,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;currentCompactedKVs&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;memStoreSizeMB&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : [ 104, 98, 97, 115, 101, 58, 109, 101, 116, 97, 44, 44, 49 ],
            &lt;span class=&quot;code-quote&quot;&gt;&quot;nameAsString&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;hbase:meta,,1&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;readRequestsCount&quot;&lt;/span&gt; : 26,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;requestsCount&quot;&lt;/span&gt; : 28,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;rootIndexSizeKB&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;storeUncompressedSizeMB&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;storefileIndexSizeMB&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;storefileSizeMB&quot;&lt;/span&gt; : 0,
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;here&apos;s what is in 0.94.x&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
, {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;hadoop:service=Master,name=Master&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;modelerType&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hbase.master.MXBeanImpl&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;ZookeeperQuorum&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;localhost:2181&quot;&lt;/span&gt;,
  ....
   &lt;span class=&quot;code-quote&quot;&gt;&quot;RegionsInTransition&quot;&lt;/span&gt; : [ ],
    &lt;span class=&quot;code-quote&quot;&gt;&quot;RegionServers&quot;&lt;/span&gt; : [ {
      &lt;span class=&quot;code-quote&quot;&gt;&quot;key&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;localhost,48346,1390857257246&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt; : {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;load&quot;&lt;/span&gt; : 2,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;maxHeapMB&quot;&lt;/span&gt; : 966,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;memStoreSizeInMB&quot;&lt;/span&gt; : 0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;numberOfRegions&quot;&lt;/span&gt; : 2,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;numberOfRequests&quot;&lt;/span&gt; : 0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;regionsLoad&quot;&lt;/span&gt; : [ {
          &lt;span class=&quot;code-quote&quot;&gt;&quot;key&quot;&lt;/span&gt; : [ 45, 82, 79, 79, 84, 45, 44, 44, 48 ],
          &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt; : {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;currentCompactedKVs&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;memStoreSizeMB&quot;&lt;/span&gt; : 0,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; : [ 45, 82, 79, 79, 84, 45, 44, 44, 48 ],
            &lt;span class=&quot;code-quote&quot;&gt;&quot;nameAsString&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;-ROOT-,,0&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;readRequestsCount&quot;&lt;/span&gt; : 24,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;requestsCount&quot;&lt;/span&gt; : 25,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;rootIndexSizeKB&quot;&lt;/span&gt; : 0,         
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13885074" author="hadoopqa" created="Wed, 29 Jan 2014 06:48:25 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625770/hbase-10436.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625770/hbase-10436.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625770&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 @author&lt;/font&gt;.  The patch appears to contain 1 @author tags which the Hadoop community has agreed to not allow in code contributions.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestHRegionBusyWait&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8547//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13885163" author="eclark" created="Wed, 29 Jan 2014 09:31:30 +0000"  >&lt;p&gt;First this patch only addresses jmx and not the actual metrics system. (See how the other HMaster metrics are exposed; Interfaces in hbase-hadoop-compat and implementations in hbase-hadoop1|2-compat)&lt;/p&gt;

&lt;p&gt;Secondly, This will synchronize on the online servers list everytime that JMX is polled.  That seems pretty onerous for exposing the list of region servers.  That api already exists; We should have one way of getting that list, not multiple.&lt;/p&gt;

&lt;p&gt;Thirdly I disagree that the metrics api should be treated like the user api.  It&apos;s not the same at all.  If the HTable interface changes then compatibility is broken and users aren&apos;t able to get or put data.  If the metrics interface changes then some charts aren&apos;t filled in.  Those seems very different to me.  Also there is no concept of deprecation with metrics.  That just isn&apos;t ever surfaced to users.  We told users the metrics would change very early in 0.95 so there was notice given in this case. If we can&apos;t make changes with 0.96 then it will be tough to ever iterate on these.&lt;/p&gt;

&lt;p&gt;Finally I feel that since metrics are very closely tied to the internals of HBase they should be treated as internal interfaces(limited private annotation equivalent).  For example:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;When/If we ever change to have lots of HLogs that will require metrics to change.&lt;/li&gt;
	&lt;li&gt;Changing the memstore to be all off heap will require re-working the metrics.&lt;/li&gt;
	&lt;li&gt;Different RPC servers will have very different metrics (different queues)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Change of the system shouldn&apos;t be held up because metrics will change.&lt;/p&gt;</comment>
                            <comment id="13885308" author="jmhsieh" created="Wed, 29 Jan 2014 12:55:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;First this patch only addresses jmx and not the actual metrics system. (See how the other HMaster metrics are exposed; Interfaces in hbase-hadoop-compat and implementations in hbase-hadoop1|2-compat)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is intentional and actually the point.  It is pretty clear from the JMX (java management extensions) documentation &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; that it is a &lt;b&gt;management&lt;/b&gt; interface - not just a &lt;b&gt;metrics&lt;/b&gt; interface.  It is intended to be a common interface for managing java services.  Services could be designed to accept input and provide information all via the JMX interface and could be designed (if facilities were provided) to manage and runtime configuration changes.&lt;/p&gt;

&lt;p&gt;I do agree that I should remove the word &quot;metrics&quot; from the jira name.  &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Secondly, This will synchronize on the online servers list everytime that JMX is polled. That seems pretty onerous for exposing the list of region servers. That api already exists; We should have one way of getting that list, not multiple.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Having separate jmx modules allows the user to selectively poll information and thus avoid any cost associated with gathering the online regionserver list &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;.  Furthermore, this is at the master and I contend that any synchronization would actually be fairly cheap &amp;#8211; I don&apos;t believe there is evidence that there is high contention on this online regionserver list.  This only retrieves info when polled - its is not a &quot;NotificationEmmitter&quot;.   If it was truly onerous, I would make the same argument that we shouldn&apos;t provide this info in the hbase master webpage and we dare not auto refresh the page (what a NotificationEmitter would do) because of the synchronization costs.  &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Thirdly I disagree that the metrics api should be treated like the user api.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;JMX is a management api protocol not just meant to server metrics.&lt;/p&gt;

&lt;p&gt;Do external programs plug into this api?  Does a user have to change code if the api changes?  yes. &lt;br/&gt;
Should users need to significantly modify their applications when deciding to upgrade?  ideally no.&lt;br/&gt;
There is a concept of versioning apis and metrics &amp;#8211; ideally we should have used that approach.  Instead for this transition our users would have to validate &quot;modelerType&quot; and &quot;name&quot; attributes. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;We told users the metrics would change very early in 0.95&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Removal is different is generally called out and not just a change.  We preserved functionality when we changed the signature of methods to use ServerName. We didn&apos;t change rowlocks, we removed them. &lt;/p&gt;

&lt;p&gt;Regarding the examples &amp;#8211; each hlog or memstore implementation would have a different bean.  The refactoring that split the metrics into separate beans was a really good thing &amp;#8211; I believe that IPC, memstore and hlog is already split out into separate jmx beans.  This split allows for different flavors with different implementations.  I would hope that there would be common attributes regardless of what kind of future hlogs come to be &amp;#8211; (# of kvs or waledits written will always be hlog concepts regardless of its implementation details).  &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;  &lt;a href=&quot;http://docs.oracle.com/javase/tutorial/jmx/overview/index.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://docs.oracle.com/javase/tutorial/jmx/overview/index.html&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://docs.oracle.com/cd/E13222_01/wls/docs100/jmxinst/understanding.html#wp1100632&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://docs.oracle.com/cd/E13222_01/wls/docs100/jmxinst/understanding.html#wp1100632&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13885319" author="jmhsieh" created="Wed, 29 Jan 2014 13:09:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;That api already exists; We should have one way of getting that list, not multiple.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What is your suggestion on how to get this information?&lt;/p&gt;</comment>
                            <comment id="13885479" author="jmhsieh" created="Wed, 29 Jan 2014 16:23:49 +0000"  >&lt;p&gt;v2 updates some comments and removes the @author that snuck in.&lt;/p&gt;</comment>
                            <comment id="13885607" author="hadoopqa" created="Wed, 29 Jan 2014 18:15:24 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625891/hbase-10436.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625891/hbase-10436.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625891&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8552//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13885653" author="eclark" created="Wed, 29 Jan 2014 18:58:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;This is intentional and actually the point. It is pretty clear from the JMX (java management extensions) documentation &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; that it is a management interface - not just a metrics interface. It is intended to be a common interface for managing java services. Services could be designed to accept input and provide information all via the JMX interface and could be designed (if facilities were provided) to manage and runtime configuration changes.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Why would you want some of the metrics to be accessible though the hadoop metrics system and not others ?  People are using the hadoop sinks to get this information.  I&apos;m -1 on not being consistent. A ton of work was done to make the metrics regular and all exposed through the new hadoop metrics2 system. The hadoop metrics system will expose all of this through jmx and will also expose it to the sinks plugins.  In my opinion if this functionality was really wanted (and I&apos;m not convinced that it is) it should be as a single source that isn&apos;t registered at all unless a configuration is set.  And we should deprecate exposing anything but master metrics through the master.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Having separate jmx modules allows the user to selectively poll information and thus avoid any cost associated with gathering the online regionserver list &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;. Furthermore, this is at the master and I contend that any synchronization would actually be fairly cheap &#8211; I don&apos;t believe there is evidence that there is high contention on this online regionserver list. This only retrieves info when polled - its is not a &quot;NotificationEmmitter&quot;. If it was truly onerous, I would make the same argument that we shouldn&apos;t provide this info in the hbase master webpage and we dare not auto refresh the page (what a NotificationEmitter would do) because of the synchronization costs.&lt;/p&gt;&lt;/blockquote&gt;


&lt;p&gt;If someone is connected to the JMX port the info is usually polled and streamed (see opentsdb&apos;s implementation of jmx polling).  Meaning that every few seconds the online region servers will be locked and copy of the collection will be made.  I would contend that having the web page show it once is very different from somehting that will be know to poll every second.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;JMX is a management api protocol not just meant to server metrics.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;HBase has never used it as more than just another way to get metrics.  We shouldn&apos;t start now.  This patch doesn&apos;t expose that so I don&apos;t understand bringing it up at all.&lt;/p&gt;


&lt;blockquote&gt;
&lt;p&gt;Do external programs plug into this api? Does a user have to change code if the api changes? yes. &lt;br/&gt;
Should users need to significantly modify their applications when deciding to upgrade? ideally no.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;By your definitions the log messages emitted from log4j can&apos;t be changed if monitoring system is tailing the logs.  I think your criteria are way too loose. Monitoring a service by is less important than using a service and so the metrics and things used by monitoring should have a lower bar.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Regarding the examples &#8211; each hlog or memstore implementation would have a different bean&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But then the unused beans would either need to be removed or worse would emit wrong metrics.  Hence anyone monitoring the beans will need to change their monitoring code. It&apos;s way too onerous to expect that everything that exposes a metric must always expose that metric.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;What is your suggestion on how to get this information?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Every RegionServer already exposes all of this information.&lt;/p&gt;</comment>
                            <comment id="13885730" author="jmhsieh" created="Wed, 29 Jan 2014 20:02:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;Why would you want some of the metrics to be accessible though the hadoop metrics system and not others ?   People are using the hadoop sinks to get this information. I&apos;m -1 on not being consistent.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In an offline conversation, you mentioned that the hadoop/hbase metrics should only have numerical values (aka, only numerical values are metrics).  In HBase, this is an undocumented invariant &amp;#8211; it is not in the jira discussion around the &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4050&quot; title=&quot;Update HBase metrics framework to metrics2 framework&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4050&quot;&gt;&lt;del&gt;HBASE-4050&lt;/del&gt;&lt;/a&gt; new metrics umbrella; nor &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6411&quot; title=&quot;Move Master Metrics to metrics 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6411&quot;&gt;&lt;del&gt;HBASE-6411&lt;/del&gt;&lt;/a&gt;, the patch that acutally change behavior; nor from dev list discussion around 10/jul/2012 &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; when this went in.  &lt;/p&gt;

&lt;p&gt;I buy the general argument about metrics &amp;#8211; the old master&apos;s regionservers data is presented by jmx but isn&apos;t usable by other metrics consumers like ganglia as implemented in 0.94.   This is because they were organized with non-numerical information.  That part of the newer metrics regime makes sense.&lt;/p&gt;

&lt;p&gt;By not including non-numerical information like the list of live servers and dead servers in the metrics, the approach I&apos;m taking is consistent with the rule above.  Since your contention there was this did not only contain numerical data (this info is not metrics), I chose an approach to restore this info bypassing the metrics system and only plugging them directly into the jmx management interface.  This seems consistent to me.&lt;/p&gt;

&lt;p&gt;These lists are completely valid to have in a management interface like JMX.  (if you look you&apos;ll see java classpaths and command line args lists in other jmx beans).  Moreover, this info was presented in the past by the JMX management interface and still is a functional regression.  &lt;/p&gt;

&lt;p&gt;To further solidify the JMX mechanism, I can do another version of the next patch that add unit tests to codify JMX interface names and make it more obvious when compatibility is being broken.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;A ton of work was done to make the metrics regular and all exposed through the new hadoop metrics2 system.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;And we love you for it. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The hadoop metrics system will expose all of this through jmx and will also expose it to the sinks plugins.  In my opinion if this functionality was really wanted (and I&apos;m not convinced that it is) it should be as a single source that isn&apos;t registered at all unless a configuration is set. And we should deprecate exposing anything but master metrics through the master.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Metrics are exposed via JMX but other things and can be exposed via JMX as well. These lists are in the &quot;other things&quot; category.&lt;/p&gt;

&lt;p&gt;I can definitely tell you that &quot;this functionality was really wanted&quot; &amp;#8211; I have a support customer who upgraded to 0.96.1.1 and is asking for this feature back. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;I&apos;m not sure I&apos;m parsing the last two sentences correctly &amp;#8211; are you saying if I added a conf setting to optionally make the new bean with restored data not show up you&apos;d be ok?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;By your definitions the log messages emitted from log4j can&apos;t be changed if monitoring system is tailing the logs. I think your criteria are way too loose. Monitoring a service by is less important than using a service and so the metrics and things used by monitoring should have a lower bar.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Logs are meant to be consumed directly by humans, and there is an understanding that they will change between versions.  Logs, like the the web ui, are not interfaces that are meant to be consumed by machines.  JMX, like a rest interface or code api, is a managment interface and meant to be consumed by machines.  Thus we should ideally maintain compatibility and  feature parity.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;But then the unused beans would either need to be removed or worse would emit wrong metrics. Hence anyone monitoring the beans will need to change their monitoring code. It&apos;s way too onerous to expect that everything that exposes a metric must always expose that metric.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The unused bean shouldn&apos;t be present.  I haven&apos;t dug into the hadoop metrics part in depth yet but i would think that if you chose different implementations of hlogs or memstores certain beans would show up and others would not.  To change this today we&apos;d need to restart the server.  (e.g. we have a WAL metric bean, but maybe we&apos;d have a multiwal bean &amp;#8211; which would potentially need a RS restart to activate).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Every RegionServer already exposes all of this information.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;How do I get the list of regionservers?  That list should at the least be exposed so that a program that points to the master&apos;s jmx can go to the regionservers. no?  Its sort of the point of the management interface to provide this info.&lt;/p&gt;

&lt;p&gt;Is the contention that the rs list also contains metrics and other numerical things?  Would removing the numbers be sufficient? (just having the list of regionservers and regions)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hbase-dev/201207.mbox/thread&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hbase-dev/201207.mbox/thread&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13885818" author="lhofhansl" created="Wed, 29 Jan 2014 21:12:25 +0000"  >&lt;p&gt;Tangentially related. I just submitted a patch to the OpenTSDB tcollector framework, to make it work with 0.96+ HBase metrics.&lt;/p&gt;</comment>
                            <comment id="13885839" author="eclark" created="Wed, 29 Jan 2014 21:33:43 +0000"  >&lt;p&gt;I&apos;m -1 any patch that goes directly to JMX to expose data.&lt;br/&gt;
I&apos;m also -1 any patch that adds back in any locks into the metrics by default.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Metrics are exposed via JMX but other things and can be exposed via JMX as well.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;But you&apos;re not exposing anything that the hadoop metrics system can&apos;t export.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;m not sure I&apos;m parsing the last two sentences correctly &#8211; are you saying if I added a conf setting to optionally make the new bean with restored data not show up you&apos;d be ok?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sources are things in metrics2 that expose data.  If you don&apos;t register a source they aren&apos;t available and are never polled. So I&apos;m saying that if you add a source that only registers itself with metrics2 if the user asks for it then it seems better.  Also this functionality should be deprecated as soon as it goes in.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;How do I get the list of regionservers?&lt;/p&gt;&lt;/blockquote&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;cat $HBASE_HOME/conf/regionservers&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hbase/blob/trunk/conf/regionservers&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/blob/trunk/conf/regionservers&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Tangentially related. I just submitted a patch to the OpenTSDB tcollector framework, to make it work with 0.96+ HBase metrics.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I did too but mine was pretty invasive.  Lets hope that yours gets more love.&lt;/p&gt;

</comment>
                            <comment id="13885949" author="lhofhansl" created="Wed, 29 Jan 2014 22:54:37 +0000"  >&lt;p&gt;&lt;tt&gt;$HBASE_HOME/conf/regionservers&lt;/tt&gt; does not contain the actual set of regionserver (alive or dead), just the configured ones.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I did too but mine was pretty invasive. Lets hope that yours gets more love&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Benoit pulled it already. Mine was very simple (&lt;a href=&quot;https://github.com/OpenTSDB/tcollector/pull/131&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/OpenTSDB/tcollector/pull/131&lt;/a&gt;) and it works with 0.94 and 0.96+. Needs to test replication still.&lt;/p&gt;

&lt;p&gt;As for this issue. Could you suggest a simple approach/patch that exposes the set of current (alive and dead) RSs through metrics2? I do not think anybody is opposed to doing that if it can be easily done.&lt;/p&gt;</comment>
                            <comment id="13886025" author="jmhsieh" created="Wed, 29 Jan 2014 23:53:18 +0000"  >
&lt;blockquote&gt;&lt;p&gt;I&apos;m -1 any patch that goes directly to JMX to expose data.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;By your definitions here &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; the list of regionservers and dead regionservers are not a metrics.  (it is not a measurement) You also define JMX as a system that &quot;includes the ability to expose metrics&quot; which implies it is not just limited to exposing metrics.  &lt;/p&gt;

&lt;p&gt;From my point of view, this is a functional regression and it is a potential blocker for further releases.  &lt;/p&gt;

&lt;p&gt;If you disapprove sending non-metrics to the hadoop metrics system, and you disapprove of directly to JMX, you need to give me a reasonable alternative.  How shall we expose non-metrics via JMX? Saying we cannot is not reasonable so please suggest a viable mechanism.  &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;m also -1 any patch that adds back in any locks into the metrics by default.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For the master, this seems a bit extreme.  There is one lock and it isn&apos;t even in a performance critical portion of hbase.  This is in the master in a place that is idle most of the time.  We make exactly the same call in the web ui here &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; and eventually traverse the structure &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; which is extremely similar to the MasterRSTrackerMXBean I present in the patch.  Both approaches take one lock here &lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; to copy the current servername serverload map. Nothing else in this path takes a lock.  This can only block the addition removal or interrogation of the current live server list.  I doubt there is much contention here at all (we didn&apos;t even bother to optimize it to us one of the concurrent maps).  &lt;/p&gt;

&lt;p&gt;Are you really suggesting that we should we tell users not to refresh the master ui because it can cause performance hits on the master? &lt;/p&gt;

&lt;p&gt;This sounds like a reasonable invariant for the more perf critical parts of hbase.  If we want to maintain it please document it in the code or provide link to these requirments.  This isn&apos;t mentioned in the design docs or blog post &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; you did.  &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;But you&apos;re not exposing anything that the hadoop metrics system can&apos;t export.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So are you saying I should expose it via the metrics even though it is non-numeric data?  If thats what you want I can do that.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Sources are things in metrics2 that expose data. If you don&apos;t register a source they aren&apos;t available and are never polled. So I&apos;m saying that if you add a source that only registers itself with metrics2 if the user asks for it then it seems better. Also this functionality should be deprecated as soon as it goes in.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So is there a metrics-are-numeric-values-only rule? Or is it now ok to expose non-numeric values via this interface?  We expose the non-numeric zk quorum list in metrics and jmx &amp;#8211; should we remove that too to be consistent?  Sounds like another functional regression to me.&lt;/p&gt;

&lt;p&gt;Why should these formerly exposed values go in as deprecated? &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
cat $HBASE_HOME/conf/regionservers
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Insufficient.  Does not work with deployments with multiple regionservers present on each physical node (which is the case I&apos;m looking at). Pinging the list to see which are live and which are dead is unacceptable. (takes too long). Spawning another process to pull this information is more expensive than taking a single lock. Please give another suggestion.  &lt;/p&gt;

&lt;p&gt;Unanswered questions:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Are you saying if I added a conf setting to optionally make the new bean with restored data not show up you&apos;d be ok?&lt;/li&gt;
	&lt;li&gt;Would this be as contentious if we just dumped only the live and dead regionserver list (and non of the master&apos;s cached load info)?  If I did this and their regions without any of the numeric values associated with the regions and rs&apos;s?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://blogs.apache.org/hbase/entry/migration_to_the_new_metrics&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://blogs.apache.org/hbase/entry/migration_to_the_new_metrics&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/hbase/blob/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterStatusServlet.java#L72&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/blob/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterStatusServlet.java#L72&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/hbase/blob/trunk/hbase-server/src/main/jamon/org/apache/hadoop/hbase/tmpl/master/RegionServerListTmpl.jamon#L90&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/blob/trunk/hbase-server/src/main/jamon/org/apache/hadoop/hbase/tmpl/master/RegionServerListTmpl.jamon#L90&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/hbase/blob/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/ServerManager.java#L419&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/blob/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/ServerManager.java#L419&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625770" name="hbase-10436.patch" size="6680" author="jmhsieh" created="Wed, 29 Jan 2014 02:38:36 +0000"/>
                            <attachment id="12625891" name="hbase-10436.v2.patch" size="6650" author="jmhsieh" created="Wed, 29 Jan 2014 16:23:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 29 Jan 2014 06:48:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370537</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370529</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10435] Lower the log level of Canary region server match</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10435</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When there are no table or the RS doesn&apos;t have regions loaded the canary will output an ERROR log.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ hbase org.apache.hadoop.hbase.tool.Canary -regionserver HOSTNAME
ERROR No RegionServerInfo found, regionServerName: HOSTNAME
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but this ERROR shouldn&apos;t be considered as &quot;the region server is not up&quot;, so we probably reduce the log level to &quot;info&quot; or &quot;debug&quot;. (The exit code is already notifying that the failure cause is related to &quot;initialization&quot; or similar)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691830">HBASE-10435</key>
            <summary>Lower the log level of Canary region server match</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbertozzi">Matteo Bertozzi</assignee>
                                    <reporter username="mbertozzi">Matteo Bertozzi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2014 21:05:56 +0000</created>
                <updated>Wed, 29 Jan 2014 17:14:54 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 10:29:32 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.99.0</version>
                    <version>0.96.1.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13884687" author="jmhsieh" created="Tue, 28 Jan 2014 21:10:19 +0000"  >&lt;p&gt;+1, lgtm.&lt;/p&gt;</comment>
                            <comment id="13884907" author="hadoopqa" created="Tue, 28 Jan 2014 23:27:07 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625662/HBASE-10435-v0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625662/HBASE-10435-v0.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625662&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8545//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13884920" author="apurtell" created="Tue, 28 Jan 2014 23:43:39 +0000"  >&lt;p&gt;+1 &lt;/p&gt;</comment>
                            <comment id="13885286" author="hudson" created="Wed, 29 Jan 2014 12:17:40 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #113 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/113/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/113/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10435&quot; title=&quot;Lower the log level of Canary region server match&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10435&quot;&gt;&lt;del&gt;HBASE-10435&lt;/del&gt;&lt;/a&gt; Lower the log level of Canary region server match (mbertozzi: rev 1562392)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885294" author="hudson" created="Wed, 29 Jan 2014 12:34:14 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #273 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/273/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/273/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10435&quot; title=&quot;Lower the log level of Canary region server match&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10435&quot;&gt;&lt;del&gt;HBASE-10435&lt;/del&gt;&lt;/a&gt; Lower the log level of Canary region server match (mbertozzi: rev 1562393)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885315" author="hudson" created="Wed, 29 Jan 2014 13:00:43 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #105 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/105/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/105/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10435&quot; title=&quot;Lower the log level of Canary region server match&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10435&quot;&gt;&lt;del&gt;HBASE-10435&lt;/del&gt;&lt;/a&gt; Lower the log level of Canary region server match (mbertozzi: rev 1562392)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885326" author="hudson" created="Wed, 29 Jan 2014 13:24:52 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #187 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/187/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/187/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10435&quot; title=&quot;Lower the log level of Canary region server match&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10435&quot;&gt;&lt;del&gt;HBASE-10435&lt;/del&gt;&lt;/a&gt; Lower the log level of Canary region server match (mbertozzi: rev 1562393)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885368" author="hudson" created="Wed, 29 Jan 2014 14:16:15 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4866 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4866/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4866/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10435&quot; title=&quot;Lower the log level of Canary region server match&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10435&quot;&gt;&lt;del&gt;HBASE-10435&lt;/del&gt;&lt;/a&gt; Lower the log level of Canary region server match (mbertozzi: rev 1562391)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885542" author="hudson" created="Wed, 29 Jan 2014 17:14:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #69 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10435&quot; title=&quot;Lower the log level of Canary region server match&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10435&quot;&gt;&lt;del&gt;HBASE-10435&lt;/del&gt;&lt;/a&gt; Lower the log level of Canary region server match (mbertozzi: rev 1562391)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/tool/Canary.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625662" name="HBASE-10435-v0.patch" size="1562" author="mbertozzi" created="Tue, 28 Jan 2014 21:06:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Jan 2014 21:10:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370483</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10434] Store Tag compression information for a WAL in its header</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10434</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We can enable/disable tag compression along with WAL compression using the config,&lt;br/&gt;
hbase.regionserver.wal.tags.enablecompression -&amp;gt;  Defaults to true so that compress tags when WAL compress is ON.&lt;/p&gt;

&lt;p&gt;We are not storing this info abt whether a WAL containing compressed tags or not in the WAL header and use that in the read path. So dynamic change of this in some servers may cause issue when  an RS having this value as true have to read and split a WAL generated from n RS where this value was false.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691690">HBASE-10434</key>
            <summary>Store Tag compression information for a WAL in its header</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2014 18:39:50 +0000</created>
                <updated>Thu, 30 Jan 2014 05:25:40 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 20:12:25 +0000</resolved>
                                    <version>0.98.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13884423" author="apurtell" created="Tue, 28 Jan 2014 18:53:25 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13884733" author="hadoopqa" created="Tue, 28 Jan 2014 21:43:58 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625623/HBASE-10434.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625623/HBASE-10434.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625623&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8543//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13884999" author="ram_krish" created="Wed, 29 Jan 2014 04:52:02 +0000"  >&lt;p&gt;I saw that for the DBE case we were writing it in the HCD meta data.  So I thouhgt we have to do the similar thing for WAL also.  You raised and fixed it before me. Good one.&lt;br/&gt;
+1.&lt;/p&gt;</comment>
                            <comment id="13885744" author="apurtell" created="Wed, 29 Jan 2014 20:12:25 +0000"  >&lt;p&gt;Committed to trunk and 0.98&lt;/p&gt;</comment>
                            <comment id="13885890" author="hudson" created="Wed, 29 Jan 2014 22:09:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #115 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/115/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/115/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10434&quot; title=&quot;Store Tag compression information for a WAL in its header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10434&quot;&gt;&lt;del&gt;HBASE-10434&lt;/del&gt;&lt;/a&gt; Store Tag compression information for a WAL in its header (Anoop Sam John) (apurtell: rev 1562570)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/WALProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-protocol/src/main/protobuf/WAL.proto&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/CompressionContext.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ReaderBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SequenceFileLogReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WriterBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestKeyValueCompression.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALCellCodecWithCompression.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885915" author="jeffreyz" created="Wed, 29 Jan 2014 22:27:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt; I saw your changed CompressionContext constructor. Though we mark it as Private, Phoenix is using it. The similar thing also happened for Phoenix as well on KeyValue on earlier changes. Thanks. &lt;/p&gt;</comment>
                            <comment id="13885958" author="hudson" created="Wed, 29 Jan 2014 22:58:52 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4868 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4868/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4868/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10434&quot; title=&quot;Store Tag compression information for a WAL in its header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10434&quot;&gt;&lt;del&gt;HBASE-10434&lt;/del&gt;&lt;/a&gt; Store Tag compression information for a WAL in its header (Anoop Sam John) (apurtell: rev 1562567)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/WALProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/protobuf/WAL.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/CompressionContext.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ReaderBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SequenceFileLogReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WriterBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestKeyValueCompression.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALCellCodecWithCompression.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13886129" author="hudson" created="Thu, 30 Jan 2014 01:21:21 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #70 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/70/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/70/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10434&quot; title=&quot;Store Tag compression information for a WAL in its header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10434&quot;&gt;&lt;del&gt;HBASE-10434&lt;/del&gt;&lt;/a&gt; Store Tag compression information for a WAL in its header (Anoop Sam John) (apurtell: rev 1562567)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/WALProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/protobuf/WAL.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/CompressionContext.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ReaderBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SequenceFileLogReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WriterBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestKeyValueCompression.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALCellCodecWithCompression.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13886144" author="hudson" created="Thu, 30 Jan 2014 01:34:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/107/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10434&quot; title=&quot;Store Tag compression information for a WAL in its header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10434&quot;&gt;&lt;del&gt;HBASE-10434&lt;/del&gt;&lt;/a&gt; Store Tag compression information for a WAL in its header (Anoop Sam John) (apurtell: rev 1562570)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/WALProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-protocol/src/main/protobuf/WAL.proto&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/CompressionContext.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ReaderBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SequenceFileLogReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WriterBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestKeyValueCompression.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALCellCodecWithCompression.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13886225" author="anoop.hbase" created="Thu, 30 Jan 2014 03:46:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;on KeyValue on earlier changes.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;You mean the oswrite() ?&lt;br/&gt;
Yes CompressionContext is @InterfaceAudience.Private and this is not even a public class.  That is why I have changed it.  So what do you say? How we can control these kind of issues later?  Suggestions pls.&lt;/p&gt;</comment>
                            <comment id="13886265" author="jeffreyz" created="Thu, 30 Jan 2014 05:25:40 +0000"  >&lt;p&gt;CompressionContext is accessed by faking the hbase package name in Phoenix . I think later we need to remove the reference from Phoenix code. No good suggestion. Normally interface change is better to mark an old one deprecate and then remove it from a future major release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625623" name="HBASE-10434.patch" size="19088" author="anoop.hbase" created="Tue, 28 Jan 2014 18:49:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Jan 2014 18:53:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370444</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10433] SecureProtobufWALReader does not handle unencrypted WALs if configured to encrypt</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10433</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The SecureProtobufWALReader does not handle unencrypted WALs if configured to encrypt. Reported by Anoop. Going to hold up RC1 for this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691679">HBASE-10433</key>
            <summary>SecureProtobufWALReader does not handle unencrypted WALs if configured to encrypt</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2014 17:57:39 +0000</created>
                <updated>Thu, 30 Jan 2014 01:21:21 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 18:57:38 +0000</resolved>
                                    <version>0.98.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13884378" author="apurtell" created="Tue, 28 Jan 2014 18:20:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13884528" author="hadoopqa" created="Tue, 28 Jan 2014 19:59:44 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625615/HBASE-10433.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625615/HBASE-10433.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625615&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8541//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13885052" author="ram_krish" created="Wed, 29 Jan 2014 06:18:22 +0000"  >&lt;p&gt;Just got this issue&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.lang.NullPointerException
        at org.apache.hadoop.hbase.regionserver.wal.SecureWALCellCodec$EncryptedKvDecoder.&amp;lt;init&amp;gt;(SecureWALCellCodec.java:70)
        at org.apache.hadoop.hbase.regionserver.wal.SecureWALCellCodec.getDecoder(SecureWALCellCodec.java:205)
        at org.apache.hadoop.hbase.regionserver.wal.SecureProtobufLogReader.initAfterCompression(SecureProtobufLogReader.java:118)
        at org.apache.hadoop.hbase.regionserver.wal.ReaderBase.init(ReaderBase.java:85)
        at org.apache.hadoop.hbase.regionserver.wal.HLogFactory.createReader(HLogFactory.java:113)
        ... 11 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;+1 on patch.  the patch fixes this.&lt;/p&gt;</comment>
                            <comment id="13885652" author="apurtell" created="Wed, 29 Jan 2014 18:57:38 +0000"  >&lt;p&gt;Committed to trunk and 0.98 with Windows linefeeds converted to Unix linefeeds first.&lt;/p&gt;</comment>
                            <comment id="13885804" author="hudson" created="Wed, 29 Jan 2014 20:54:35 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4867 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4867/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4867/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10433&quot; title=&quot;SecureProtobufWALReader does not handle unencrypted WALs if configured to encrypt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10433&quot;&gt;&lt;del&gt;HBASE-10433&lt;/del&gt;&lt;/a&gt; SecureProtobufWALReader does not handle unencrypted WALs if configured to encrypt (Anoop Sam John) (apurtell: rev 1562545)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureProtobufLogReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885889" author="hudson" created="Wed, 29 Jan 2014 22:09:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #115 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/115/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/115/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10433&quot; title=&quot;SecureProtobufWALReader does not handle unencrypted WALs if configured to encrypt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10433&quot;&gt;&lt;del&gt;HBASE-10433&lt;/del&gt;&lt;/a&gt; SecureProtobufWALReader does not handle unencrypted WALs if configured to encrypt (Anoop Sam John) (apurtell: rev 1562546)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureProtobufLogReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885906" author="hudson" created="Wed, 29 Jan 2014 22:18:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #106 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/106/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/106/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10433&quot; title=&quot;SecureProtobufWALReader does not handle unencrypted WALs if configured to encrypt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10433&quot;&gt;&lt;del&gt;HBASE-10433&lt;/del&gt;&lt;/a&gt; SecureProtobufWALReader does not handle unencrypted WALs if configured to encrypt (Anoop Sam John) (apurtell: rev 1562546)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureProtobufLogReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13886128" author="hudson" created="Thu, 30 Jan 2014 01:21:21 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #70 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/70/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/70/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10433&quot; title=&quot;SecureProtobufWALReader does not handle unencrypted WALs if configured to encrypt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10433&quot;&gt;&lt;del&gt;HBASE-10433&lt;/del&gt;&lt;/a&gt; SecureProtobufWALReader does not handle unencrypted WALs if configured to encrypt (Anoop Sam John) (apurtell: rev 1562545)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureProtobufLogReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625615" name="HBASE-10433.patch" size="1132" author="anoop.hbase" created="Tue, 28 Jan 2014 18:19:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Jan 2014 19:59:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370433</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10432] Rpc retries non-recoverable error</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10432</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I&apos;m recently working with hbase/trunk + hive/trunk. I had a hive command eventually timeout with the following exception (stacktrace truncated).&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.io.IOException: Could not set up IO Streams
        at org.apache.hadoop.hbase.ipc.RpcClient$Connection.setupIOstreams(RpcClient.java:922)
        at org.apache.hadoop.hbase.ipc.RpcClient.getConnection(RpcClient.java:1536)
        at org.apache.hadoop.hbase.ipc.RpcClient.call(RpcClient.java:1425)
        at org.apache.hadoop.hbase.ipc.RpcClient.callBlockingMethod(RpcClient.java:1654)
        at org.apache.hadoop.hbase.ipc.RpcClient$BlockingRpcChannelImplementation.callBlockingMethod(RpcClient.java:1712)
        at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.scan(ClientProtos.java:28857)
        at org.apache.hadoop.hbase.client.ScannerCallable.openScanner(ScannerCallable.java:302)
        at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:157)
        at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:57)
        at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:120)
        ... 43 more
Caused by: java.lang.NoSuchMethodError: org.apache.hadoop.net.NetUtils.getInputStream(Ljava/net/Socket;)Lorg/apache/hadoop/net/SocketInputWrapper;
        at org.apache.hadoop.hbase.ipc.RpcClient$Connection.setupIOstreams(RpcClient.java:861)
        ... 52 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The root cause looks like a dependency version missmatch (Hive compiled vs hadoop1, HBase vs hadoop2). However, we still retry this exception, even though it&apos;ll never actually complete. We should be more careful where we blindly catch Throwables.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691678">HBASE-10432</key>
            <summary>Rpc retries non-recoverable error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png">Patch Available</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ndimiduk">Nick Dimiduk</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2014 17:55:43 +0000</created>
                <updated>Mon, 3 Feb 2014 12:46:52 +0000</updated>
                                            <version>0.98.0</version>
                    <version>0.96.2</version>
                    <version>0.99.0</version>
                                                    <component>IPC/RPC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13884370" author="ndimiduk" created="Tue, 28 Jan 2014 18:02:53 +0000"  >&lt;p&gt;Attaching full stacktrace and a sketch of how this particular loop can be skipped.&lt;/p&gt;</comment>
                            <comment id="13884386" author="apurtell" created="Tue, 28 Jan 2014 18:28:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;Caused by: java.lang.NoSuchMethodError: org.apache.hadoop.net.NetUtils.getInputStream(Ljava/net/Socket;)Lorg/apache/hadoop/net/SocketInputWrapper;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yep, that&apos;s a classic. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;+1 on the patch for trunk and 0.98&lt;/p&gt;</comment>
                            <comment id="13884390" author="ndimiduk" created="Tue, 28 Jan 2014 18:31:44 +0000"  >&lt;p&gt;You think solving this isolated case is sufficient? I was thinking a grep for all catch Throwable would be prudent. There&apos;s probably other java.lang branches of the Throwable tree that we should consider.&lt;/p&gt;</comment>
                            <comment id="13884397" author="apurtell" created="Tue, 28 Jan 2014 18:35:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;You think solving this isolated case is sufficient?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No, but the question asked is if the patch should be +1, +0, or -1. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I was thinking a grep for all catch Throwable would be prudent. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure.&lt;/p&gt;</comment>
                            <comment id="13887901" author="ndimiduk" created="Fri, 31 Jan 2014 17:07:48 +0000"  >&lt;p&gt;I went through the client and server modules. These are the obvious places where retries should be aborted.&lt;/p&gt;

&lt;p&gt;There&apos;s also a spot in AsynProcess#sendMultiAction but it&apos;s not obvious to me how to handle the error. Maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; can comment?&lt;/p&gt;</comment>
                            <comment id="13887976" author="sershe" created="Fri, 31 Jan 2014 18:36:23 +0000"  >&lt;p&gt;Can you elaborate? sMA catches throwable, iirc, sand calls retryGlobalFailure. It could check the type and abort then? See manageError, if I understand you correctly&lt;/p&gt;</comment>
                            <comment id="13887979" author="ndimiduk" created="Fri, 31 Jan 2014 18:40:03 +0000"  >&lt;p&gt;Yes, that&apos;s what I have in mind. It wasn&apos;t clear to me how to abort at that point, or if the abort should be limited to only one of the actions while the others retry.&lt;/p&gt;</comment>
                            <comment id="13887982" author="sershe" created="Fri, 31 Jan 2014 18:43:10 +0000"  >&lt;p&gt;wrt the latter not sure, I don&apos;t have full scope of what the error means. Method not found would seem to be pretty fatal?&lt;br/&gt;
Aborting is essentially done by returning false from manageError. sMA send itself can be on some pool thread so it has no access to caller as such.&lt;/p&gt;</comment>
                            <comment id="13887985" author="sershe" created="Fri, 31 Jan 2014 18:43:40 +0000"  >&lt;p&gt;ie it cannot throw error to caller or whatever&lt;/p&gt;</comment>
                            <comment id="13888006" author="hadoopqa" created="Fri, 31 Jan 2014 18:53:27 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626325/HBASE-10432.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626325/HBASE-10432.01.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626325&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.io.encoding.TestEncodedSeekers.testEncodedSeeker(TestEncodedSeekers.java:125)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8567//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13889442" author="nkeywal" created="Mon, 3 Feb 2014 12:46:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;AsynProcess#sendMultiAction &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We&apos;re calling RpcRetryingCaller#callWithoutRetries, and this one can throw a RuntimeException. So for this case, imho, we need to retry (that&apos;s our contract), or to change the interface in RpcRetryingCaller. For the Throwable, we could remove it likely. Then the Error wouldn&apos;t be caught, and it would be fine: we just need to be sure that we&quot;re not holding any resource (it seems ok today).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625612" name="HBASE-10432.00.patch" size="1227" author="ndimiduk" created="Tue, 28 Jan 2014 18:02:53 +0000"/>
                            <attachment id="12626325" name="HBASE-10432.01.patch" size="3855" author="ndimiduk" created="Fri, 31 Jan 2014 17:07:48 +0000"/>
                            <attachment id="12625611" name="exception.txt" size="10217" author="ndimiduk" created="Tue, 28 Jan 2014 18:02:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Jan 2014 18:28:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370429</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370432</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10431] Rename com.google.protobuf.ZeroCopyLiteralByteString</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10431</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;As we are hijacking the protobuf package, we should do our best to limit the probability to have a conflict on the class name.&lt;/p&gt;

&lt;p&gt;Today, we have the same class name as AsyncHBase, but our contains a method that AsyncHBase does not have.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691666">HBASE-10431</key>
            <summary>Rename com.google.protobuf.ZeroCopyLiteralByteString</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2014 17:10:48 +0000</created>
                <updated>Thu, 30 Jan 2014 01:34:57 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 20:44:34 +0000</resolved>
                                    <version>0.96.1.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13884343" author="jmhsieh" created="Tue, 28 Jan 2014 17:20:42 +0000"  >&lt;p&gt;+1 &lt;/p&gt;</comment>
                            <comment id="13884345" author="hadoopqa" created="Tue, 28 Jan 2014 17:23:54 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625603/HBASE-10431.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625603/HBASE-10431.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625603&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 hadoop1.0&lt;/font&gt;.  The patch failed to compile against the hadoop 1.0 profile.&lt;br/&gt;
    Here is snippet of errors:&lt;/p&gt;
    &lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) on project hbase-client: Compilation failure: Compilation failure:
[ERROR] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java:[38,26] cannot find symbol
[ERROR] symbol  : class HBasePrivateZeroCopyByteString
[ERROR] location: &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.google.protobuf
[ERROR] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java:[23,26] cannot find symbol
[ERROR] symbol  : class HBasePrivateZeroCopyByteString
--
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) on project hbase-client: Compilation failure
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
--
Caused by: org.apache.maven.plugin.CompilationFailureException: Compilation failure
	at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:729)
	at org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
	... 19 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8539//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8539//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13884389" author="apurtell" created="Tue, 28 Jan 2014 18:30:29 +0000"  >&lt;p&gt;Edited.&lt;br/&gt;
Hum, HadoopQA came back with a compile error against Hadoop 1.0.&lt;/p&gt;

&lt;p&gt;+1 on the fix in general for trunk and 0.98 after the 1.0 compile problem is fixed.&lt;/p&gt;</comment>
                            <comment id="13884451" author="hadoopqa" created="Tue, 28 Jan 2014 19:14:40 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625606/HBASE-10431.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625606/HBASE-10431.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625606&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +      setEventTypeCode(type.getCode()).setRegionName(HBasePrivateZeroCopyByteString.wrap(regionName)).&lt;br/&gt;
+    if (this.minColumn != null) builder.setMinColumn(HBasePrivateZeroCopyByteString.wrap(this.minColumn));&lt;br/&gt;
+    if (this.maxColumn != null) builder.setMaxColumn(HBasePrivateZeroCopyByteString.wrap(this.maxColumn));&lt;br/&gt;
+    if (this.stopRowKey != null) builder.setStopRowKey(HBasePrivateZeroCopyByteString.wrap(this.stopRowKey));&lt;br/&gt;
+    cellBuilder.setValue(HBasePrivateZeroCopyByteString.wrap(Bytes.toBytes(META_SERVERNAME.getStartcode())));&lt;br/&gt;
+      builder.setFamily(HBasePrivateZeroCopyByteString.wrap(cell.getFamilyArray(), cell.getFamilyOffset(),&lt;br/&gt;
+      builder.setValue(HBasePrivateZeroCopyByteString.wrap(cell.getValueArray(), cell.getValueOffset(),&lt;br/&gt;
+    ByteString name = HBasePrivateZeroCopyByteString.wrap(HRegionInfo.FIRST_META_REGIONINFO.getRegionName());&lt;br/&gt;
+    keyBuilder.setEncodedRegionName(HBasePrivateZeroCopyByteString.wrap(HConstants.EMPTY_BYTE_ARRAY));&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8540//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13884724" author="nkeywal" created="Tue, 28 Jan 2014 21:34:50 +0000"  >&lt;blockquote&gt;&lt;p&gt;+1 on the fix in general for trunk and 0.98 after the 1.0 compile problem is fixed.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;yes, even if git says it&apos;s a rename in the status, the diff does not include the renamed files. The second patch worked.&lt;/p&gt;

&lt;p&gt;Are the lines longer than 100 an issue? If yes I will fix on commit.&lt;br/&gt;
If not I will commit it. I think we should commit it on .96 as well. Any opinion?&lt;/p&gt;</comment>
                            <comment id="13884737" author="apurtell" created="Tue, 28 Jan 2014 21:48:50 +0000"  >&lt;blockquote&gt;&lt;p&gt;Are the lines longer than 100 an issue? If yes I will fix on commit.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1 for fix on commit&lt;/p&gt;</comment>
                            <comment id="13885154" author="nkeywal" created="Wed, 29 Jan 2014 09:04:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; What about the 0.96?&lt;/p&gt;</comment>
                            <comment id="13885316" author="jmhsieh" created="Wed, 29 Jan 2014 13:01:45 +0000"  >&lt;p&gt;I think we should do 0.96 also &amp;#8211;  if we didn&apos;t asynchbase would have problems with it as well.&lt;/p&gt;</comment>
                            <comment id="13885649" author="apurtell" created="Wed, 29 Jan 2014 18:51:48 +0000"  >&lt;p&gt;I will commit this shortly to trunk, 0.98, and 0.96 with line length fixes unless objection&lt;/p&gt;</comment>
                            <comment id="13885662" author="stack" created="Wed, 29 Jan 2014 19:06:38 +0000"  >&lt;p&gt;+1 for 0.96&lt;/p&gt;</comment>
                            <comment id="13885689" author="nkeywal" created="Wed, 29 Jan 2014 19:32:01 +0000"  >&lt;p&gt;If you have not started, I can do it Andrew.&lt;/p&gt;</comment>
                            <comment id="13885695" author="apurtell" created="Wed, 29 Jan 2014 19:34:10 +0000"  >&lt;p&gt;I have not started, go for it &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13885717" author="nkeywal" created="Wed, 29 Jan 2014 19:50:26 +0000"  >&lt;p&gt;In progress. I&apos;m going the easy route: ZeroCopyLiteralByteString becomes the shorter HBaseZeroCopyByteString, this way the lines are not becoming longer.&lt;/p&gt;</comment>
                            <comment id="13885792" author="hadoopqa" created="Wed, 29 Jan 2014 20:43:37 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625957/HBASE-10431.v3-0.98.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625957/HBASE-10431.v3-0.98.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625957&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8554//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8554//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13885959" author="hudson" created="Wed, 29 Jan 2014 22:58:52 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4868 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4868/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4868/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10431&quot; title=&quot;Rename com.google.protobuf.ZeroCopyLiteralByteString&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10431&quot;&gt;&lt;del&gt;HBASE-10431&lt;/del&gt;&lt;/a&gt; Rename com.google.protobuf.ZeroCopyLiteralByteString - delete ZeroCopyLiteralByteString (nkeywal: rev 1562577)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/com/google/protobuf/ZeroCopyLiteralByteString.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10431&quot; title=&quot;Rename com.google.protobuf.ZeroCopyLiteralByteString&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10431&quot;&gt;&lt;del&gt;HBASE-10431&lt;/del&gt;&lt;/a&gt; Rename com.google.protobuf.ZeroCopyLiteralByteString (nkeywal: rev 1562576)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ClusterStatus.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/RegionTransition.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/coprocessor/BigDecimalColumnInterpreter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/coprocessor/SecureBulkLoadClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ByteArrayComparable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnPaginationFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnPrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnRangeFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/DependentColumnFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FirstKeyValueMatchingQualifiersFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/InclusiveStopFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/MultipleColumnPrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/PrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/SingleColumnValueFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/MasterCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RegionCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/security/EncryptionUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestClientNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/com/google/protobuf/HBaseZeroCopyByteString.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/codec/MessageCodec.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/Reference.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/FixedFileTrailer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableSnapshotInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ReplicationProtbufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogKey.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureProtobufLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/CellModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/CellSetModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/ScannerModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/StorageClusterStatusModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/TableInfoModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRowProcessorEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/protobuf/TestProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885993" author="hudson" created="Wed, 29 Jan 2014 23:27:21 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96 #274 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/274/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/274/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10431&quot; title=&quot;Rename com.google.protobuf.ZeroCopyLiteralByteString&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10431&quot;&gt;&lt;del&gt;HBASE-10431&lt;/del&gt;&lt;/a&gt; Rename com.google.protobuf.ZeroCopyLiteralByteString (nkeywal: rev 1562586)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/ClusterStatus.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/RegionTransition.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/coprocessor/BigDecimalColumnInterpreter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/coprocessor/SecureBulkLoadClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ByteArrayComparable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnPaginationFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnPrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnRangeFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/DependentColumnFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FirstKeyValueMatchingQualifiersFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/InclusiveStopFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/MultipleColumnPrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/PrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/SingleColumnValueFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/MasterCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RegionCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestClientNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-protocol/src/main/java/com/google/protobuf/HBaseZeroCopyByteString.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-protocol/src/main/java/com/google/protobuf/ZeroCopyLiteralByteString.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/io/Reference.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ReplicationProtbufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogKey.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/CellModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/CellSetModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/ScannerModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/StorageClusterStatusModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/TableInfoModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRowProcessorEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/protobuf/TestProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13886024" author="hudson" created="Wed, 29 Jan 2014 23:52:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #116 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/116/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/116/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10431&quot; title=&quot;Rename com.google.protobuf.ZeroCopyLiteralByteString&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10431&quot;&gt;&lt;del&gt;HBASE-10431&lt;/del&gt;&lt;/a&gt; Rename com.google.protobuf.ZeroCopyLiteralByteString (nkeywal: rev 1562583)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/ClusterStatus.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/RegionTransition.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/client/coprocessor/BigDecimalColumnInterpreter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/client/coprocessor/SecureBulkLoadClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ByteArrayComparable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnPaginationFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnPrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnRangeFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/DependentColumnFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FirstKeyValueMatchingQualifiersFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/InclusiveStopFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/MultipleColumnPrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/PrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/SingleColumnValueFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/MasterCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RegionCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/security/EncryptionUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestClientNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-protocol/src/main/java/com/google/protobuf/HBaseZeroCopyByteString.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-protocol/src/main/java/com/google/protobuf/ZeroCopyLiteralByteString.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/codec/MessageCodec.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/io/Reference.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/FixedFileTrailer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableSnapshotInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ReplicationProtbufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogKey.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureProtobufLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/CellModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/CellSetModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/ScannerModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/StorageClusterStatusModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/TableInfoModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRowProcessorEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/protobuf/TestProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13886111" author="hudson" created="Thu, 30 Jan 2014 01:01:10 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #188 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/188/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/188/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10431&quot; title=&quot;Rename com.google.protobuf.ZeroCopyLiteralByteString&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10431&quot;&gt;&lt;del&gt;HBASE-10431&lt;/del&gt;&lt;/a&gt; Rename com.google.protobuf.ZeroCopyLiteralByteString (nkeywal: rev 1562586)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/ClusterStatus.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/RegionTransition.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/coprocessor/BigDecimalColumnInterpreter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/coprocessor/SecureBulkLoadClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ByteArrayComparable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnPaginationFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnPrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnRangeFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/DependentColumnFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FirstKeyValueMatchingQualifiersFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/InclusiveStopFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/MultipleColumnPrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/PrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/SingleColumnValueFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/MasterCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RegionCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestClientNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-protocol/src/main/java/com/google/protobuf/HBaseZeroCopyByteString.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-protocol/src/main/java/com/google/protobuf/ZeroCopyLiteralByteString.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/io/Reference.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ReplicationProtbufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogKey.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/CellModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/CellSetModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/ScannerModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/StorageClusterStatusModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/TableInfoModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRowProcessorEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/protobuf/TestProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13886130" author="hudson" created="Thu, 30 Jan 2014 01:21:21 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #70 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/70/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/70/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10431&quot; title=&quot;Rename com.google.protobuf.ZeroCopyLiteralByteString&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10431&quot;&gt;&lt;del&gt;HBASE-10431&lt;/del&gt;&lt;/a&gt; Rename com.google.protobuf.ZeroCopyLiteralByteString - delete ZeroCopyLiteralByteString (nkeywal: rev 1562577)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/com/google/protobuf/ZeroCopyLiteralByteString.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10431&quot; title=&quot;Rename com.google.protobuf.ZeroCopyLiteralByteString&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10431&quot;&gt;&lt;del&gt;HBASE-10431&lt;/del&gt;&lt;/a&gt; Rename com.google.protobuf.ZeroCopyLiteralByteString (nkeywal: rev 1562576)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ClusterStatus.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/RegionTransition.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/coprocessor/BigDecimalColumnInterpreter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/coprocessor/SecureBulkLoadClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ByteArrayComparable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnPaginationFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnPrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnRangeFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/DependentColumnFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FirstKeyValueMatchingQualifiersFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/InclusiveStopFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/MultipleColumnPrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/PrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/SingleColumnValueFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/MasterCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RegionCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/security/EncryptionUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestClientNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/com/google/protobuf/HBaseZeroCopyByteString.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/codec/MessageCodec.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/Reference.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/FixedFileTrailer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableSnapshotInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ReplicationProtbufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogKey.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureProtobufLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/CellModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/CellSetModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/ScannerModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/StorageClusterStatusModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/TableInfoModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRowProcessorEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/protobuf/TestProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13886145" author="hudson" created="Thu, 30 Jan 2014 01:34:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/107/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10431&quot; title=&quot;Rename com.google.protobuf.ZeroCopyLiteralByteString&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10431&quot;&gt;&lt;del&gt;HBASE-10431&lt;/del&gt;&lt;/a&gt; Rename com.google.protobuf.ZeroCopyLiteralByteString (nkeywal: rev 1562583)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/ClusterStatus.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/RegionTransition.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/client/coprocessor/BigDecimalColumnInterpreter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/client/coprocessor/SecureBulkLoadClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ByteArrayComparable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnPaginationFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnPrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/ColumnRangeFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/DependentColumnFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FirstKeyValueMatchingQualifiersFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/InclusiveStopFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/MultipleColumnPrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/PrefixFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/SingleColumnValueFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/MasterCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RegionCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/security/EncryptionUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestClientNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-protocol/src/main/java/com/google/protobuf/HBaseZeroCopyByteString.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-protocol/src/main/java/com/google/protobuf/ZeroCopyLiteralByteString.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/codec/MessageCodec.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/io/Reference.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/FixedFileTrailer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableSnapshotInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ReplicationProtbufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogKey.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/SecureProtobufLogWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/CellModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/CellSetModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/ScannerModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/StorageClusterStatusModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/model/TableInfoModel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRowProcessorEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/protobuf/TestProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625603" name="HBASE-10431.patch" size="109097" author="nkeywal" created="Tue, 28 Jan 2014 17:13:24 +0000"/>
                            <attachment id="12625606" name="HBASE-10431.v2.patch" size="115098" author="nkeywal" created="Tue, 28 Jan 2014 17:30:14 +0000"/>
                            <attachment id="12625956" name="HBASE-10431.v3-0.96.patch" size="96482" author="nkeywal" created="Wed, 29 Jan 2014 20:26:07 +0000"/>
                            <attachment id="12625957" name="HBASE-10431.v3-0.98.patch" size="113173" author="nkeywal" created="Wed, 29 Jan 2014 20:26:07 +0000"/>
                            <attachment id="12625955" name="HBASE-10431.v3.patch" size="113642" author="nkeywal" created="Wed, 29 Jan 2014 20:26:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Jan 2014 17:20:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370417</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10430] Support compressTags in shell for enabling tag encoding</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10430</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Tags introduces a new configuration in HCD called COMPRESS_TAGS.  The same should be supported in shell also.&lt;br/&gt;
Will come up with a patch shortly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691607">HBASE-10430</key>
            <summary>Support compressTags in shell for enabling tag encoding</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2014 11:07:47 +0000</created>
                <updated>Wed, 29 Jan 2014 18:50:33 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 18:50:33 +0000</resolved>
                                    <version>0.98.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13884098" author="hadoopqa" created="Tue, 28 Jan 2014 13:07:30 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625563/HBASE-10430.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625563/HBASE-10430.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625563&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.TestAcidGuarantees.testScanAtomicity(TestAcidGuarantees.java:341)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8538//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13884128" author="anoop.hbase" created="Tue, 28 Jan 2014 13:34:00 +0000"  >&lt;p&gt;LGTM&lt;/p&gt;</comment>
                            <comment id="13884402" author="apurtell" created="Tue, 28 Jan 2014 18:40:03 +0000"  >&lt;p&gt;+1, surely the TestAcidGuarantees failure is not related&lt;/p&gt;</comment>
                            <comment id="13884937" author="hudson" created="Wed, 29 Jan 2014 02:46:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #103 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/103/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/103/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10430&quot; title=&quot;Support compressTags in shell for enabling tag encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10430&quot;&gt;&lt;del&gt;HBASE-10430&lt;/del&gt;&lt;/a&gt;. Support compressTags in shell for enabling tag encoding (Ramkrishna S. Vasudevan) (apurtell: rev 1562319)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13884942" author="hudson" created="Wed, 29 Jan 2014 02:55:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #111 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/111/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/111/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10430&quot; title=&quot;Support compressTags in shell for enabling tag encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10430&quot;&gt;&lt;del&gt;HBASE-10430&lt;/del&gt;&lt;/a&gt;. Support compressTags in shell for enabling tag encoding (Ramkrishna S. Vasudevan) (apurtell: rev 1562319)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13884948" author="hudson" created="Wed, 29 Jan 2014 03:05:24 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4862 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4862/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4862/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10430&quot; title=&quot;Support compressTags in shell for enabling tag encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10430&quot;&gt;&lt;del&gt;HBASE-10430&lt;/del&gt;&lt;/a&gt;. Support compressTags in shell for enabling tag encoding (Ramkrishna S. Vasudevan) (apurtell: rev 1562318)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885544" author="hudson" created="Wed, 29 Jan 2014 17:14:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #69 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10430&quot; title=&quot;Support compressTags in shell for enabling tag encoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10430&quot;&gt;&lt;del&gt;HBASE-10430&lt;/del&gt;&lt;/a&gt;. Support compressTags in shell for enabling tag encoding (Ramkrishna S. Vasudevan) (apurtell: rev 1562318)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885648" author="apurtell" created="Wed, 29 Jan 2014 18:50:33 +0000"  >&lt;p&gt;Committed to trunk and 0.98&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625563" name="HBASE-10430.patch" size="1302" author="ram_krish" created="Tue, 28 Jan 2014 11:21:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Jan 2014 13:07:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370361</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10429] Make Visibility Controller to throw a better msg if it is of type RegionServerCoprocessor</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10429</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;If Visbility controller is configured as RegionServerCP then we are not throwing the proper response in the error msg. Instead we say zk == null.&lt;/p&gt;

&lt;p&gt;This JIRA just tries to throw a proper error msg in case Visibility CP is of type RegionServerCP.  &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;br/&gt;
If you are fine with the patch attached, we can include this in our next RC. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12691561">HBASE-10429</key>
            <summary>Make Visibility Controller to throw a better msg if it is of type RegionServerCoprocessor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jan 2014 05:29:02 +0000</created>
                <updated>Wed, 29 Jan 2014 17:14:54 +0000</updated>
                            <resolved>Tue, 28 Jan 2014 23:45:55 +0000</resolved>
                                    <version>0.98.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>Coprocessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13883985" author="hadoopqa" created="Tue, 28 Jan 2014 10:40:28 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625525/HBASE-10429.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625525/HBASE-10429.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625525&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestAdmin&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8536//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13884396" author="anoop.hbase" created="Tue, 28 Jan 2014 18:34:58 +0000"  >&lt;p&gt;No harm in having this check and throw specific exception  (Even though we say clearly to configure VisibilityController as master and region CP).&lt;br/&gt;
+1&lt;br/&gt;
Note : I don&apos;t think test failure is related.&lt;/p&gt;</comment>
                            <comment id="13884400" author="anoop.hbase" created="Tue, 28 Jan 2014 18:36:25 +0000"  >&lt;p&gt;Reattaching patch to get a new QA run&lt;/p&gt;</comment>
                            <comment id="13884404" author="apurtell" created="Tue, 28 Jan 2014 18:41:28 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13884680" author="hadoopqa" created="Tue, 28 Jan 2014 21:03:24 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625620/HBASE-10429.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625620/HBASE-10429.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625620&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.TestAcidGuarantees.testScanAtomicity(TestAcidGuarantees.java:341)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8542//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13884921" author="apurtell" created="Tue, 28 Jan 2014 23:45:55 +0000"  >&lt;p&gt;Precommit build is unstable but clearly unrelated to this change.&lt;/p&gt;

&lt;p&gt;Committed to trunk and 0.98.&lt;/p&gt;</comment>
                            <comment id="13884938" author="hudson" created="Wed, 29 Jan 2014 02:46:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #103 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/103/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/103/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10429&quot; title=&quot;Make Visibility Controller to throw a better msg if it is of type RegionServerCoprocessor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10429&quot;&gt;&lt;del&gt;HBASE-10429&lt;/del&gt;&lt;/a&gt; Make Visibility Controller to throw a better msg if it is of type RegionServerCoprocessor (Ramkrishna S. Vasudevan) (apurtell: rev 1562314)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13884943" author="hudson" created="Wed, 29 Jan 2014 02:55:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #111 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/111/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/111/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10429&quot; title=&quot;Make Visibility Controller to throw a better msg if it is of type RegionServerCoprocessor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10429&quot;&gt;&lt;del&gt;HBASE-10429&lt;/del&gt;&lt;/a&gt; Make Visibility Controller to throw a better msg if it is of type RegionServerCoprocessor (Ramkrishna S. Vasudevan) (apurtell: rev 1562314)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13884949" author="hudson" created="Wed, 29 Jan 2014 03:05:24 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4862 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4862/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4862/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10429&quot; title=&quot;Make Visibility Controller to throw a better msg if it is of type RegionServerCoprocessor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10429&quot;&gt;&lt;del&gt;HBASE-10429&lt;/del&gt;&lt;/a&gt; Make Visibility Controller to throw a better msg if it is of type RegionServerCoprocessor (Ramkrishna S. Vasudevan) (apurtell: rev 1562312)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885546" author="hudson" created="Wed, 29 Jan 2014 17:14:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #69 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10429&quot; title=&quot;Make Visibility Controller to throw a better msg if it is of type RegionServerCoprocessor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10429&quot;&gt;&lt;del&gt;HBASE-10429&lt;/del&gt;&lt;/a&gt; Make Visibility Controller to throw a better msg if it is of type RegionServerCoprocessor (Ramkrishna S. Vasudevan) (apurtell: rev 1562312)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625620" name="HBASE-10429.patch" size="1511" author="anoop.hbase" created="Tue, 28 Jan 2014 18:36:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Jan 2014 10:40:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10428] Test jars should have scope test</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10428</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&quot;mvn dependency:tree | grep test&quot; shows&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] +- org.apache.hadoop:hadoop-mapreduce-client-jobclient:test-jar:tests:2.2.0:compile
[INFO] +- org.apache.hadoop:hadoop-hdfs:test-jar:tests:2.2.0:compile
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;These test jars should be in test scope.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691506">HBASE-10428</key>
            <summary>Test jars should have scope test</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jxiang">Jimmy Xiang</assignee>
                                    <reporter username="jxiang">Jimmy Xiang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jan 2014 23:42:55 +0000</created>
                <updated>Wed, 29 Jan 2014 17:14:53 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 16:22:32 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13883573" author="stack" created="Tue, 28 Jan 2014 00:44:11 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; What you think boss?&lt;/p&gt;</comment>
                            <comment id="13883640" author="hadoopqa" created="Tue, 28 Jan 2014 01:57:17 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625475/hbase-10428.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625475/hbase-10428.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625475&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8531//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13884348" author="ndimiduk" created="Tue, 28 Jan 2014 17:31:18 +0000"  >&lt;p&gt;This seems right to me, but I recall there being some reason to keep them as is &amp;#8211; particularly for hbase-server-tests &amp;#8211; for downstream projects. Something about how the minicluster is consumed.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt; I think I spoke with one of you about this some time back. &lt;/p&gt;</comment>
                            <comment id="13884729" author="nkeywal" created="Tue, 28 Jan 2014 21:39:41 +0000"  >&lt;p&gt;As Nick actually. I remember something fishy here but I don&apos;t know what (was it due to being able to run the integration test on the command line?). &lt;/p&gt;</comment>
                            <comment id="13884741" author="jxiang" created="Tue, 28 Jan 2014 21:53:53 +0000"  >&lt;p&gt;I see. We should get this fixed so that downstream projects get right dependencies. This is helpful in using the right jars for MR jobs. I&apos;d like to get this fixed in trunk only so that we have plenty of time to fix other issues that could be caused by this change.&lt;/p&gt;</comment>
                            <comment id="13884752" author="nkeywal" created="Tue, 28 Jan 2014 21:59:48 +0000"  >&lt;p&gt;Yeah, +1. May be the problem doesn&apos;t even exist anymore. &lt;/p&gt;</comment>
                            <comment id="13884754" author="ndimiduk" created="Tue, 28 Jan 2014 22:01:07 +0000"  >&lt;p&gt;For what it&apos;s worth, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8438&quot; title=&quot;Extend bin/hbase to print a &amp;quot;mapreduce classpath&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8438&quot;&gt;&lt;del&gt;HBASE-8438&lt;/del&gt;&lt;/a&gt; aimed to solve the classpath issues for MR jobs by exposing the relevant machinery from TableMapReduceUtils. Doesn&apos;t help the maven packaging though.&lt;/p&gt;</comment>
                            <comment id="13884772" author="enis" created="Tue, 28 Jan 2014 22:13:26 +0000"  >&lt;p&gt;I guess we can try this out and see. For IT&apos;s to work from command line, the resolution should already be happening in test, but we can try to run It&apos;s in the source directory and a tarball directory to ensure. &lt;/p&gt;</comment>
                            <comment id="13884996" author="hudson" created="Wed, 29 Jan 2014 04:47:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4863 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4863/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4863/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10428&quot; title=&quot;Test jars should have scope test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10428&quot;&gt;&lt;del&gt;HBASE-10428&lt;/del&gt;&lt;/a&gt; Test jars should have scope test (jxiang: rev 1562339)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885540" author="hudson" created="Wed, 29 Jan 2014 17:14:53 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #69 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10428&quot; title=&quot;Test jars should have scope test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10428&quot;&gt;&lt;del&gt;HBASE-10428&lt;/del&gt;&lt;/a&gt; Test jars should have scope test (jxiang: rev 1562339)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625475" name="hbase-10428.patch" size="1636" author="jxiang" created="Mon, 27 Jan 2014 23:51:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Jan 2014 00:44:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370260</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10427] clean up HRegionLocation/ServerName usage </title>
                <link>https://issues.apache.org/jira/browse/HBASE-10427</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I noticed that AsyncProcess updates cache location on failures using a single HRL object that is key to the map that is intended to be by server and contains requests for multiple regions (i.e. MultiAction contains requests for regions A, B, C, and sits in a map by HRL with HRL from server A as a key; in case of failure for e.g. request to B, or entire multiaction, the location from map key will be passed to updateCache... methods, even though it&apos;s not for the correct region). It may cause some subtle mistakes in cache updates.&lt;br/&gt;
I think it&apos;d be good to clean up HRL usage around AP and other classes - if we intend to have a server name, then we should use ServerName not HRL.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691483">HBASE-10427</key>
            <summary>clean up HRegionLocation/ServerName usage </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jan 2014 22:07:48 +0000</created>
                <updated>Wed, 29 Jan 2014 22:35:38 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 19:14:07 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13883413" author="sershe" created="Mon, 27 Jan 2014 22:08:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt; fyi.&lt;/p&gt;

&lt;p&gt;This patch (I am working on it now) should be simple.&lt;/p&gt;</comment>
                            <comment id="13883606" author="sershe" created="Tue, 28 Jan 2014 01:17:14 +0000"  >&lt;p&gt;Mostly mechanical patch.&lt;br/&gt;
RB at &lt;a href=&quot;https://reviews.apache.org/r/17436/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/17436/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13883853" author="hadoopqa" created="Tue, 28 Jan 2014 07:28:01 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625492/HBASE-10427.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625492/HBASE-10427.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625492&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8534//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13884802" author="sershe" created="Tue, 28 Jan 2014 22:37:05 +0000"  >&lt;p&gt;rename ServerName location variables to server, as per RB&lt;/p&gt;</comment>
                            <comment id="13884829" author="sershe" created="Tue, 28 Jan 2014 23:00:11 +0000"  >&lt;p&gt;there are 2 +1s on RB, will commit later today if there are no objections&lt;/p&gt;</comment>
                            <comment id="13884997" author="hudson" created="Wed, 29 Jan 2014 04:47:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4863 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4863/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4863/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10427&quot; title=&quot;clean up HRegionLocation/ServerName usage &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10427&quot;&gt;&lt;del&gt;HBASE-10427&lt;/del&gt;&lt;/a&gt; clean up HRegionLocation/ServerName usage (sershe: rev 1562338)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/HRegionLocation.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/MultiServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/RegionServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestAsyncProcess.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/CoprocessorHConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestHCM.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885541" author="hudson" created="Wed, 29 Jan 2014 17:14:53 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #69 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10427&quot; title=&quot;clean up HRegionLocation/ServerName usage &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10427&quot;&gt;&lt;del&gt;HBASE-10427&lt;/del&gt;&lt;/a&gt; clean up HRegionLocation/ServerName usage (sershe: rev 1562338)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/HRegionLocation.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/MultiServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/RegionServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestAsyncProcess.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/CoprocessorHConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestHCM.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885669" author="sershe" created="Wed, 29 Jan 2014 19:14:07 +0000"  >&lt;p&gt;in trunk&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625694" name="HBASE-10427.01.patch" size="38341" author="sershe" created="Tue, 28 Jan 2014 22:37:05 +0000"/>
                            <attachment id="12625492" name="HBASE-10427.patch" size="32773" author="sershe" created="Tue, 28 Jan 2014 01:17:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Jan 2014 07:28:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370234</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370237</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10426] user_permission in security.rb calls non-existent UserPermission#getTable method</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10426</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In user mailing list, Alex reported this error under the thread &quot;user_permission error - undefined method &apos;getTable&apos;&quot;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):010:0&amp;gt; create &apos;foo&apos;,&apos;bar&apos;
0 row(s) in 0.5780 seconds

=&amp;gt; Hbase::Table - foo
hbase(main):011:0&amp;gt; user_permission &apos;foo&apos;
User                                     Table,Family,Qualifier:Permission

*ERROR: undefined method `getTable&apos; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;
#&amp;lt;Java::OrgApacheHadoopHbaseSecurityAccess::UserPermission:0x5d22005a&amp;gt;*
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;UserPermission#getTable method doesn&apos;t exist&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691469">HBASE-10426</key>
            <summary>user_permission in security.rb calls non-existent UserPermission#getTable method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jan 2014 21:18:16 +0000</created>
                <updated>Tue, 28 Jan 2014 23:17:34 +0000</updated>
                            <resolved>Tue, 28 Jan 2014 05:32:42 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13883330" author="mbertozzi" created="Mon, 27 Jan 2014 21:24:10 +0000"  >&lt;p&gt;in other places we use getNameAsString() instead of toString() even if for now the result is the same.&lt;br/&gt;
other than that +1 for me&lt;/p&gt;</comment>
                            <comment id="13883354" author="yuzhihong@gmail.com" created="Mon, 27 Jan 2014 21:32:56 +0000"  >&lt;p&gt;I used the following command but didn&apos;t see such method:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
grep getNameAsString hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/*
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13883360" author="mbertozzi" created="Mon, 27 Jan 2014 21:38:57 +0000"  >&lt;p&gt;sorry I was referring to TableName.getNameAsString() instead of TableName.toString()&lt;/p&gt;</comment>
                            <comment id="13883403" author="yuzhihong@gmail.com" created="Mon, 27 Jan 2014 22:04:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;:&lt;br/&gt;
Do you want this in 0.98 ?&lt;/p&gt;</comment>
                            <comment id="13883411" author="apurtell" created="Mon, 27 Jan 2014 22:06:35 +0000"  >&lt;p&gt;+1, thanks Ted.&lt;/p&gt;</comment>
                            <comment id="13883489" author="yuzhihong@gmail.com" created="Mon, 27 Jan 2014 23:03:00 +0000"  >&lt;p&gt;Integrated patch v2 to 0.98 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the reviews.&lt;/p&gt;</comment>
                            <comment id="13883522" author="hadoopqa" created="Mon, 27 Jan 2014 23:40:13 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625449/10426-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625449/10426-v2.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625449&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8530//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13883591" author="hudson" created="Tue, 28 Jan 2014 01:04:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4860 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4860/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4860/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10426&quot; title=&quot;user_permission in security.rb calls non-existent UserPermission#getTable method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10426&quot;&gt;&lt;del&gt;HBASE-10426&lt;/del&gt;&lt;/a&gt; user_permission in security.rb calls non-existent UserPermission#getTable method (tedyu: rev 1561902)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-shell/src/main/ruby/hbase/security.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883681" author="hudson" created="Tue, 28 Jan 2014 02:37:30 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #110 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/110/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/110/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10426&quot; title=&quot;user_permission in security.rb calls non-existent UserPermission#getTable method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10426&quot;&gt;&lt;del&gt;HBASE-10426&lt;/del&gt;&lt;/a&gt; user_permission in security.rb calls non-existent UserPermission#getTable method (tedyu: rev 1561901)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-shell/src/main/ruby/hbase/security.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883688" author="hudson" created="Tue, 28 Jan 2014 02:53:12 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #102 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/102/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/102/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10426&quot; title=&quot;user_permission in security.rb calls non-existent UserPermission#getTable method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10426&quot;&gt;&lt;del&gt;HBASE-10426&lt;/del&gt;&lt;/a&gt; user_permission in security.rb calls non-existent UserPermission#getTable method (tedyu: rev 1561901)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-shell/src/main/ruby/hbase/security.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13884891" author="hudson" created="Tue, 28 Jan 2014 23:17:34 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #68 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/68/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/68/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10426&quot; title=&quot;user_permission in security.rb calls non-existent UserPermission#getTable method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10426&quot;&gt;&lt;del&gt;HBASE-10426&lt;/del&gt;&lt;/a&gt; user_permission in security.rb calls non-existent UserPermission#getTable method (tedyu: rev 1561902)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-shell/src/main/ruby/hbase/security.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625444" name="10426-v1.txt" size="778" author="yuzhihong@gmail.com" created="Mon, 27 Jan 2014 21:20:43 +0000"/>
                            <attachment id="12625449" name="10426-v2.txt" size="785" author="yuzhihong@gmail.com" created="Mon, 27 Jan 2014 21:49:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 27 Jan 2014 21:24:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370220</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370223</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10425] [0.89-fb] Isolate assignment plan on subset of machines</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10425</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We use AssignmentPlan to decide on favored nodes for regions. Right now we include all machines from the cluster in the assignment plan of a table. We want ability to limit the number of machines when assigning regions. This will help us to isolate the failure domain in case different users are using the cluster (in case someone is misusing the cluster, hopefully just a subset of machines would be affected).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691441">HBASE-10425</key>
            <summary>[0.89-fb] Isolate assignment plan on subset of machines</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="adela">Adela Maznikar</assignee>
                                    <reporter username="adela">Adela Maznikar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jan 2014 19:01:55 +0000</created>
                <updated>Mon, 27 Jan 2014 19:01:55 +0000</updated>
                                            <version>0.89-fb</version>
                                                    <component>Region Assignment</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10424] HMaster could capture stacks of RSes it deems unresponsive during assignments</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10424</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Often there are cases of a region not getting assigned due to timeouts (while others do go through). In this case, the Master does appear to enter a never-ending retry operation where it retries each chosen server several times before moving to another.&lt;/p&gt;

&lt;p&gt;For debugging in such a scenario, where the master is best aware of the situation, it could use that to its advantage and help capture issues better if it probably setup an N retry threshold (for # of servers tried) and run a HTTP GET on the current timing out RS&apos;s info port, to capture its /stacks end point and dump the output in its logs for investigation later.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691348">HBASE-10424</key>
            <summary>HMaster could capture stacks of RSes it deems unresponsive during assignments</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Wish</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="qwertymaniac">Harsh J</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jan 2014 10:46:43 +0000</created>
                <updated>Mon, 27 Jan 2014 10:46:43 +0000</updated>
                                            <version>0.96.0</version>
                                                    <component>Region Assignment</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370102</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10423] Report back the message of split or rollback failure to the master</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10423</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;A failure in splitting and rolling back causes an RS to abort with the error logged. However, the abort message sent back to the Master does not carry the same message for traceability.&lt;/p&gt;

&lt;p&gt;It would be useful if the Master at least had the message part of the exception given that its log writes are fewer than the RSs, helping capture reasons even if the RS loses its logs since, or couldn&apos;t log.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691347">HBASE-10423</key>
            <summary>Report back the message of split or rollback failure to the master</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="qwertymaniac">Harsh J</assignee>
                                    <reporter username="qwertymaniac">Harsh J</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jan 2014 10:38:05 +0000</created>
                <updated>Tue, 28 Jan 2014 01:08:40 +0000</updated>
                            <resolved>Mon, 27 Jan 2014 17:01:27 +0000</resolved>
                                    <version>0.96.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>0.94.17</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13882774" author="hadoopqa" created="Mon, 27 Jan 2014 12:14:00 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625346/HBASE-10423.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625346/HBASE-10423.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625346&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8526//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13882961" author="stack" created="Mon, 27 Jan 2014 17:01:27 +0000"  >&lt;p&gt;Applied to all branches.  Thanks Harsh.&lt;/p&gt;</comment>
                            <comment id="13883025" author="hudson" created="Mon, 27 Jan 2014 18:03:20 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-on-Hadoop-2 #4 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/4/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/4/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10423&quot; title=&quot;Report back the message of split or rollback failure to the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10423&quot;&gt;&lt;del&gt;HBASE-10423&lt;/del&gt;&lt;/a&gt; Report back the message of split or rollback failure to the master (Harsh J) (stack: rev 1561749)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883042" author="hudson" created="Mon, 27 Jan 2014 18:16:00 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #394 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/394/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/394/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10423&quot; title=&quot;Report back the message of split or rollback failure to the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10423&quot;&gt;&lt;del&gt;HBASE-10423&lt;/del&gt;&lt;/a&gt; Report back the message of split or rollback failure to the master (Harsh J) (stack: rev 1561749)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883098" author="hudson" created="Mon, 27 Jan 2014 18:49:06 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-JDK7 #33 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/33/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/33/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10423&quot; title=&quot;Report back the message of split or rollback failure to the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10423&quot;&gt;&lt;del&gt;HBASE-10423&lt;/del&gt;&lt;/a&gt; Report back the message of split or rollback failure to the master (Harsh J) (stack: rev 1561749)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883157" author="hudson" created="Mon, 27 Jan 2014 19:27:26 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4858 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4858/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4858/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10423&quot; title=&quot;Report back the message of split or rollback failure to the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10423&quot;&gt;&lt;del&gt;HBASE-10423&lt;/del&gt;&lt;/a&gt; Report back the message of split or rollback failure to the master (Harsh J) (stack: rev 1561745)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883190" author="hudson" created="Mon, 27 Jan 2014 19:49:13 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1267 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1267/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1267/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10423&quot; title=&quot;Report back the message of split or rollback failure to the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10423&quot;&gt;&lt;del&gt;HBASE-10423&lt;/del&gt;&lt;/a&gt; Report back the message of split or rollback failure to the master (Harsh J) (stack: rev 1561749)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883225" author="hudson" created="Mon, 27 Jan 2014 20:11:27 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #101 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/101/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/101/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10423&quot; title=&quot;Report back the message of split or rollback failure to the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10423&quot;&gt;&lt;del&gt;HBASE-10423&lt;/del&gt;&lt;/a&gt; Report back the message of split or rollback failure to the master (Harsh J) (stack: rev 1561747)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883379" author="hudson" created="Mon, 27 Jan 2014 21:48:28 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #271 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/271/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/271/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10423&quot; title=&quot;Report back the message of split or rollback failure to the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10423&quot;&gt;&lt;del&gt;HBASE-10423&lt;/del&gt;&lt;/a&gt; Report back the message of split or rollback failure to the master (Harsh J) (stack: rev 1561748)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883440" author="hudson" created="Mon, 27 Jan 2014 22:28:18 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #109 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/109/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10423&quot; title=&quot;Report back the message of split or rollback failure to the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10423&quot;&gt;&lt;del&gt;HBASE-10423&lt;/del&gt;&lt;/a&gt; Report back the message of split or rollback failure to the master (Harsh J) (stack: rev 1561747)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883566" author="hudson" created="Tue, 28 Jan 2014 00:36:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96-hadoop2 #186 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/186/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/186/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10423&quot; title=&quot;Report back the message of split or rollback failure to the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10423&quot;&gt;&lt;del&gt;HBASE-10423&lt;/del&gt;&lt;/a&gt; Report back the message of split or rollback failure to the master (Harsh J) (stack: rev 1561748)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883596" author="hudson" created="Tue, 28 Jan 2014 01:08:40 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #67 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/67/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/67/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10423&quot; title=&quot;Report back the message of split or rollback failure to the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10423&quot;&gt;&lt;del&gt;HBASE-10423&lt;/del&gt;&lt;/a&gt; Report back the message of split or rollback failure to the master (Harsh J) (stack: rev 1561745)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625346" name="HBASE-10423.patch" size="762" author="qwertymaniac" created="Mon, 27 Jan 2014 10:39:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 27 Jan 2014 12:14:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10422] ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10422</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9868&quot; title=&quot;Remove some array copy, especially around protobuf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9868&quot;&gt;&lt;del&gt;HBASE-9868&lt;/del&gt;&lt;/a&gt; the trick that AsyncHBase uses to extract byte arrays from protobufs without copying them was ported, however the signature of &lt;tt&gt;zeroCopyGetBytes&lt;/tt&gt; was changed for some reason.  There are two problems with the changed signature:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;It makes the helper function unusable since it refers to a package-private class.&lt;/li&gt;
	&lt;li&gt;It clashes with the signature AsyncHBase expects, thereby making user&apos;s life miserable for those who pull in both AsyncHBase and HBase on their classpath.&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="12691309">HBASE-10422</key>
            <summary>ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tsuna">Benoit Sigoure</assignee>
                                    <reporter username="tsuna">Benoit Sigoure</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jan 2014 02:33:17 +0000</created>
                <updated>Tue, 28 Jan 2014 01:08:40 +0000</updated>
                            <resolved>Mon, 27 Jan 2014 16:28:22 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.96.1</version>
                    <version>0.96.1.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>Client</component>
                    <component>Protobufs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13882524" author="tsuna" created="Mon, 27 Jan 2014 02:35:44 +0000"  >&lt;p&gt;Patch to fix the issue.&lt;/p&gt;</comment>
                            <comment id="13882556" author="hadoopqa" created="Mon, 27 Jan 2014 04:12:24 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625306/10422-Fix-the-signature-of-zeroCopyGetBytes-to-make-it-us.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625306/10422-Fix-the-signature-of-zeroCopyGetBytes-to-make-it-us.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625306&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.regionserver.wal.TestLogRolling.testLogRollOnDatanodeDeath(TestLogRolling.java:355)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8524//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13882577" author="stack" created="Mon, 27 Jan 2014 05:12:29 +0000"  >&lt;p&gt;Retry hadoopqa to see if failed test is actual issue rather than just flakeyness.&lt;/p&gt;</comment>
                            <comment id="13882607" author="hadoopqa" created="Mon, 27 Jan 2014 06:54:50 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625318/10422-Fix-the-signature-of-zeroCopyGetBytes-to-make-it-us.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625318/10422-Fix-the-signature-of-zeroCopyGetBytes-to-make-it-us.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625318&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8525//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13882939" author="stack" created="Mon, 27 Jan 2014 16:28:22 +0000"  >&lt;p&gt;Committed to all branches.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt; suggests calling this HBasePrivateZCLBS instead of ZCLBS.  No harm doing that I&apos;d say.  Meantime, lets get this small patch in.&lt;/p&gt;</comment>
                            <comment id="13883077" author="hudson" created="Mon, 27 Jan 2014 18:37:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96 #270 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/270/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/270/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10422&quot; title=&quot;ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10422&quot;&gt;&lt;del&gt;HBASE-10422&lt;/del&gt;&lt;/a&gt; ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase (stack: rev 1561727)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-protocol/src/main/java/com/google/protobuf/ZeroCopyLiteralByteString.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883158" author="hudson" created="Mon, 27 Jan 2014 19:27:27 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4858 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4858/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4858/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10422&quot; title=&quot;ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10422&quot;&gt;&lt;del&gt;HBASE-10422&lt;/del&gt;&lt;/a&gt; ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase (stack: rev 1561725)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/com/google/protobuf/ZeroCopyLiteralByteString.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883172" author="hudson" created="Mon, 27 Jan 2014 19:41:06 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #108 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/108/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/108/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10422&quot; title=&quot;ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10422&quot;&gt;&lt;del&gt;HBASE-10422&lt;/del&gt;&lt;/a&gt; ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase (stack: rev 1561726)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-protocol/src/main/java/com/google/protobuf/ZeroCopyLiteralByteString.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883226" author="hudson" created="Mon, 27 Jan 2014 20:11:27 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #101 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/101/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/101/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10422&quot; title=&quot;ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10422&quot;&gt;&lt;del&gt;HBASE-10422&lt;/del&gt;&lt;/a&gt; ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase (stack: rev 1561726)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-protocol/src/main/java/com/google/protobuf/ZeroCopyLiteralByteString.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883567" author="hudson" created="Tue, 28 Jan 2014 00:36:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96-hadoop2 #186 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/186/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/186/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10422&quot; title=&quot;ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10422&quot;&gt;&lt;del&gt;HBASE-10422&lt;/del&gt;&lt;/a&gt; ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase (stack: rev 1561727)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-protocol/src/main/java/com/google/protobuf/ZeroCopyLiteralByteString.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883597" author="hudson" created="Tue, 28 Jan 2014 01:08:40 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #67 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/67/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/67/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10422&quot; title=&quot;ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10422&quot;&gt;&lt;del&gt;HBASE-10422&lt;/del&gt;&lt;/a&gt; ZeroCopyLiteralByteString.zeroCopyGetBytes has an unusable prototype and conflicts with AsyncHBase (stack: rev 1561725)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/com/google/protobuf/ZeroCopyLiteralByteString.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625318" name="10422-Fix-the-signature-of-zeroCopyGetBytes-to-make-it-us.patch" size="1422" author="stack" created="Mon, 27 Jan 2014 05:12:29 +0000"/>
                            <attachment id="12625306" name="10422-Fix-the-signature-of-zeroCopyGetBytes-to-make-it-us.patch" size="1422" author="tsuna" created="Mon, 27 Jan 2014 02:35:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 27 Jan 2014 04:12:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370060</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370063</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10421] Investigate scan performance in 0.96 and later</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10421</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Testing the &quot;internal friction&quot; of scanning in HBase (all data in the block cache, and all rows filtered at the server by a ValueFilter, so that one really measures the work HBase does internally), I found that 0.98 is almost 35% slower than 0.94.&lt;/p&gt;

&lt;p&gt;Scanning 50m rows (one col each, 8 byte keys, 8 byte values) takes 13.2 in 0.94.17-SNAPSHOT and 18.5s in 0.98.&lt;/p&gt;

&lt;p&gt;This probably came about with all the protobuf changes in 0.96.&lt;br/&gt;
It should be possible to bring back to par with 0.94.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691278">HBASE-10421</key>
            <summary>Investigate scan performance in 0.96 and later</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Sun, 26 Jan 2014 17:37:50 +0000</created>
                <updated>Tue, 28 Jan 2014 19:28:04 +0000</updated>
                            <resolved>Tue, 28 Jan 2014 19:27:41 +0000</resolved>
                                    <version>0.98.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13882367" author="lhofhansl" created="Sun, 26 Jan 2014 17:40:27 +0000"  >&lt;p&gt;Assigning to me in the hope that I&apos;ll get some time for this, this coming week.&lt;/p&gt;</comment>
                            <comment id="13883600" author="apurtell" created="Tue, 28 Jan 2014 01:11:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;I found that 0.98 is almost 35% slower than 0.94.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I wonder what the impact of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4811&quot; title=&quot;Support reverse Scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4811&quot;&gt;&lt;del&gt;HBASE-4811&lt;/del&gt;&lt;/a&gt; is, this was first introduced in 0.98&lt;/p&gt;</comment>
                            <comment id="13883682" author="zjushch" created="Tue, 28 Jan 2014 02:39:56 +0000"  >&lt;p&gt;HBase-4811 only add some &apos;if&apos; block, and didn&apos;t change the logic of origin scan if it is a forward scan. &lt;br/&gt;
I think it won&apos;t have such a big effect.&lt;/p&gt;

&lt;p&gt;Jean-Marc has taken a performance test for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4811&quot; title=&quot;Support reverse Scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4811&quot;&gt;&lt;del&gt;HBASE-4811&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4811?focusedCommentId=13801449&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13801449&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4811?focusedCommentId=13801449&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13801449&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;How about between 0.94 and 0.96 ?&lt;/p&gt;</comment>
                            <comment id="13884467" author="lhofhansl" created="Tue, 28 Jan 2014 19:27:41 +0000"  >&lt;p&gt;I redid the test and this time I compiled everything myself.&lt;br/&gt;
0.98 is just as fast as 0.94 for my test (and both are slightly faster than 0.96).&lt;/p&gt;

&lt;p&gt;All is good.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12531831">HBASE-4811</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Jan 2014 01:11:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370029</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370032</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10420] Replace KV.getBuffer with KV.get{Row|Family|Qualifier|Value|Tags}Array</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10420</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We we start by removing KeyValue.getBuffer() in all obvious places.&lt;br/&gt;
Obvious places are where we access the buffer by getRowOffset() and getRowLength(), etc, since we then now we&apos;re cross a row/family/qualifier/value/tags boundary.&lt;br/&gt;
The attached patch does that.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691232">HBASE-10420</key>
            <summary>Replace KV.getBuffer with KV.get{Row|Family|Qualifier|Value|Tags}Array</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12623342">HBASE-7320</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Sat, 25 Jan 2014 21:55:44 +0000</created>
                <updated>Sun, 26 Jan 2014 07:52:00 +0000</updated>
                            <resolved>Sat, 25 Jan 2014 22:01:44 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13882076" author="lhofhansl" created="Sat, 25 Jan 2014 21:57:34 +0000"  >&lt;p&gt;Patch from parent. Better to do it in a subtask&lt;/p&gt;</comment>
                            <comment id="13882077" author="lhofhansl" created="Sat, 25 Jan 2014 22:01:44 +0000"  >&lt;p&gt;Committed to trunk. Patch was tested/reviewed/+1&apos;d in parent.&lt;/p&gt;</comment>
                            <comment id="13882124" author="hudson" created="Sun, 26 Jan 2014 00:30:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #64 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/64/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/64/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10420&quot; title=&quot;Replace KV.getBuffer with KV.get{Row|Family|Qualifier|Value|Tags}Array&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10420&quot;&gt;&lt;del&gt;HBASE-10420&lt;/del&gt;&lt;/a&gt; Replace KV.getBuffer with KV.get&lt;/p&gt;
{Row|Family|Qualifier|Value|Tags}
&lt;p&gt;Array. (larsh: rev 1561410)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Increment.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/SingleColumnValueFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/TablePermission.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV2.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV3.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/GetClosestRowBeforeTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MemStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ReversedKeyValueHeap.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFileScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/SampleRegionWALObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/encoding/TestPrefixTreeEncoding.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/hfile/TestHFileBlock.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/hfile/TestHFileWriterV3.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestMultiColumnScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestStoreFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13882218" author="hudson" created="Sun, 26 Jan 2014 07:52:00 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4856 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4856/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4856/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10420&quot; title=&quot;Replace KV.getBuffer with KV.get{Row|Family|Qualifier|Value|Tags}Array&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10420&quot;&gt;&lt;del&gt;HBASE-10420&lt;/del&gt;&lt;/a&gt; Replace KV.getBuffer with KV.get&lt;/p&gt;
{Row|Family|Qualifier|Value|Tags}
&lt;p&gt;Array. (larsh: rev 1561410)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Increment.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/filter/SingleColumnValueFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/TablePermission.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV2.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV3.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/GetClosestRowBeforeTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MemStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ReversedKeyValueHeap.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFileScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/SampleRegionWALObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/encoding/TestPrefixTreeEncoding.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/hfile/TestHFileBlock.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/hfile/TestHFileWriterV3.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestMultiColumnScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestStoreFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625223" name="7320-simple.txt" size="39086" author="lhofhansl" created="Sat, 25 Jan 2014 21:57:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 26 Jan 2014 00:30:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369984</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10419] Add multiget support to PerformanceEvaluation</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10419</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Folks planning to use multiget may find this useful.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691179">HBASE-10419</key>
            <summary>Add multiget support to PerformanceEvaluation</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png">Patch Available</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ndimiduk">Nick Dimiduk</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Sat, 25 Jan 2014 02:34:00 +0000</created>
                <updated>Sat, 25 Jan 2014 21:47:19 +0000</updated>
                                                                            <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13881621" author="ndimiduk" created="Sat, 25 Jan 2014 02:35:58 +0000"  >&lt;p&gt;Here&apos;s a patch adding this feature. It runs with --nomapred; haven&apos;t tried yet with mapreduce.&lt;/p&gt;</comment>
                            <comment id="13881820" author="hadoopqa" created="Sat, 25 Jan 2014 11:32:14 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625170/HBASE-10419.0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625170/HBASE-10419.0.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625170&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8506//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13882069" author="stack" created="Sat, 25 Jan 2014 21:47:19 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625170" name="HBASE-10419.0.patch" size="11366" author="ndimiduk" created="Sat, 25 Jan 2014 02:35:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 25 Jan 2014 11:32:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10418] give blocks of smaller store files priority in cache</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10418</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;That&apos;s just an idea at this point, I don&apos;t have a patch nor plan to make one in near future.&lt;br/&gt;
It&apos;s good for datasets that don&apos;t fit in memory especially; and if scans are involved. &lt;br/&gt;
Scans (and gets in absence of bloom filters&apos; help) have to read from all store files. Short range request will hit one block in every file.&lt;br/&gt;
If small files are more likely to be entirely available in memory, on average requests will hit less blocks from FS. &lt;br/&gt;
For scans that read a lot of data, it&apos;s better to read blocks in sequence from a big file and blocks for small files from cache, rather than a mix of FS and cached blocks from different files, because the (HBase) blocks of a big file would be sequential in one HDFS block.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691176">HBASE-10418</key>
            <summary>give blocks of smaller store files priority in cache</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Sat, 25 Jan 2014 01:40:48 +0000</created>
                <updated>Sat, 25 Jan 2014 02:44:26 +0000</updated>
                                                                            <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13881607" author="apurtell" created="Sat, 25 Jan 2014 02:15:17 +0000"  >&lt;p&gt;This presumes that smaller HFiles contain the data of interest for short scans. What kind of mechanism to we have in place to make that more likely than not?&lt;/p&gt;

&lt;p&gt;Would it be better to do a bit of schema design such that small files / short scan data is segregated to one column family and the large files / large scan data to another, and then prioritize in cache by column family?&lt;/p&gt;</comment>
                            <comment id="13881622" author="sershe" created="Sat, 25 Jan 2014 02:43:55 +0000"  >&lt;p&gt;If you have such knowledge yes. I am talking about unknown data distribution, within the same table/cf for simplicity.&lt;br/&gt;
First, if compactions happen in normal pattern, we&apos;ll have a large file from major compaction and small files from flushes/minors.&lt;br/&gt;
If we don&apos;t know the data distribution, what is described above would be the expected pattern...&lt;br/&gt;
Specifically for scans, they cannot use bloom filters, and pretty much have to hit a block of each file, no matter the data distribution, right?&lt;/p&gt;</comment>
                            <comment id="13881623" author="sershe" created="Sat, 25 Jan 2014 02:44:26 +0000"  >&lt;p&gt;Unless file key range and scan key range don&apos;t intersect&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 25 Jan 2014 02:15:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369925</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10417] index is not incremented in PutSortReducer#reduce()</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10417</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Starting at line 76:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index = 0;
      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (KeyValue kv : map) {
        context.write(row, kv);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (index &amp;gt; 0 &amp;amp;&amp;amp; index % 100 == 0)
          context.setStatus(&lt;span class=&quot;code-quote&quot;&gt;&quot;Wrote &quot;&lt;/span&gt; + index);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;index is a variable inside while loop that is never incremented.&lt;br/&gt;
The condition &quot;index &amp;gt; 0&quot; cannot be true.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691163">HBASE-10417</key>
            <summary>index is not incremented in PutSortReducer#reduce()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 25 Jan 2014 00:21:16 +0000</created>
                <updated>Sat, 25 Jan 2014 00:21:16 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369915</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10416] Improvements to the import flow</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10416</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Following improvements can be made to the Import logic&lt;/p&gt;

&lt;p&gt;a) Make the import extensible (i.e., remove the filter from being a static member of Import and make it an instance variable of the mapper, make the mappers or variables of interest protected. )&lt;/p&gt;

&lt;p&gt;b) Make sure that the Import calls filterRowKey method of the filter (Useful if we want to filter the data of an organization based on the row key or using filters like PrefixFilter which filter the data in filterRowKey method rather than the filterKeyValue method). The existing test case in TestImportExport#testWithFilter works with this assumption but is so far successful because there is only one row inserted into the table.&lt;/p&gt;

&lt;p&gt;c) Provide an option to specify the durability during the import (Specifying the Durability as SKIP_WAL would improve the performance of restore considerably.) &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; suggested that this should be a parameter to the import.&lt;/p&gt;

&lt;p&gt;d) Some minor refactoring to avoid building a comma separated string for the filter args.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12691131">HBASE-10416</key>
            <summary>Improvements to the import flow</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vmariyala">Vasu Mariyala</assignee>
                                    <reporter username="vasu.mariyala@gmail.com">Vasu Mariyala</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jan 2014 22:07:22 +0000</created>
                <updated>Wed, 29 Jan 2014 17:14:54 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 16:59:49 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13881471" author="vasu.mariyala@gmail.com" created="Fri, 24 Jan 2014 22:08:10 +0000"  >&lt;p&gt;Attaching the patch for the above mentioned issues.&lt;/p&gt;</comment>
                            <comment id="13881496" author="lhofhansl" created="Fri, 24 Jan 2014 22:35:15 +0000"  >&lt;p&gt;looks good to me. Thanks Vasu.&lt;/p&gt;</comment>
                            <comment id="13881508" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 22:48:34 +0000"  >&lt;p&gt;Nit:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Filter instantiateFilter(Configuration conf) {
-    &lt;span class=&quot;code-comment&quot;&gt;// get the filter, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; it was configured
&lt;/span&gt;+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Filter instantiateFilter(Configuration conf) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Does instantiateFilter() need to be public ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void flushRegionsIfNecessary(Configuration conf) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException, InterruptedException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Long line above.&lt;/p&gt;

&lt;p&gt;Mind adding release notes for the new parameters ?&lt;/p&gt;</comment>
                            <comment id="13881516" author="ndimiduk" created="Fri, 24 Jan 2014 22:57:17 +0000"  >&lt;p&gt;Good work &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vasu.mariyala%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;vasu.mariyala@gmail.com&quot;&gt;Vasu Mariyala&lt;/a&gt;. Have you seen my notes on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8074&quot; title=&quot;Consolidate map-side features across mapreduce tools into a single place&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8074&quot;&gt;HBASE-8074&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8115&quot; title=&quot;Consolidate Import and ImportTsv into a single, user-extensible Import utility&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8115&quot;&gt;HBASE-8115&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13881799" author="hadoopqa" created="Sat, 25 Jan 2014 09:54:20 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625121/HBASE-10416.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625121/HBASE-10416.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625121&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 3 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8504//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13884491" author="vasu.mariyala@gmail.com" created="Tue, 28 Jan 2014 19:39:12 +0000"  >&lt;p&gt;Sorry for the delay and thanks for the review comments&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;1. Felt that constructing a filter object from filter class and filter args would be utility method and would be useful when extending the import utility for specific customizations. &lt;br/&gt;
2. Fixed the long line &amp;amp; the java doc warnings.&lt;br/&gt;
3. Updated the release note description in the jira.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Saw your other issues related to making things like mapper or reducer configurable and reuse the code. Would you mind discussing on these issues when you are free. You can ping me in gmail.&lt;/p&gt;</comment>
                            <comment id="13884565" author="yuzhihong@gmail.com" created="Tue, 28 Jan 2014 20:34:13 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;:&lt;br/&gt;
Do you want this in 0.98 ?&lt;/p&gt;</comment>
                            <comment id="13884811" author="hadoopqa" created="Tue, 28 Jan 2014 22:49:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625635/HBASE-10416-rev1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625635/HBASE-10416-rev1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625635&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.TestHBaseFsck&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8544//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13884915" author="apurtell" created="Tue, 28 Jan 2014 23:35:34 +0000"  >&lt;p&gt;+1 for 0.98, thanks Ted.&lt;/p&gt;</comment>
                            <comment id="13884998" author="hudson" created="Wed, 29 Jan 2014 04:47:32 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4863 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4863/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4863/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10416&quot; title=&quot;Improvements to the import flow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10416&quot;&gt;&lt;del&gt;HBASE-10416&lt;/del&gt;&lt;/a&gt; Improvements to the import flow (tedyu: rev 1562343)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportExport.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885051" author="hudson" created="Wed, 29 Jan 2014 06:18:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #104 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/104/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/104/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10416&quot; title=&quot;Improvements to the import flow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10416&quot;&gt;&lt;del&gt;HBASE-10416&lt;/del&gt;&lt;/a&gt; Improvements to the import flow (Vasu Mariyala) (tedyu: rev 1562342)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportExport.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885287" author="hudson" created="Wed, 29 Jan 2014 12:17:40 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #113 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/113/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/113/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10416&quot; title=&quot;Improvements to the import flow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10416&quot;&gt;&lt;del&gt;HBASE-10416&lt;/del&gt;&lt;/a&gt; Improvements to the import flow (Vasu Mariyala) (tedyu: rev 1562342)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportExport.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885456" author="ndimiduk" created="Wed, 29 Jan 2014 15:59:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vasu.mariyala%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;vasu.mariyala@gmail.com&quot;&gt;Vasu Mariyala&lt;/a&gt; let&apos;s take up the conversation of the other tickets elsewhere.&lt;/p&gt;</comment>
                            <comment id="13885543" author="hudson" created="Wed, 29 Jan 2014 17:14:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #69 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10416&quot; title=&quot;Improvements to the import flow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10416&quot;&gt;&lt;del&gt;HBASE-10416&lt;/del&gt;&lt;/a&gt; Improvements to the import flow (Vasu Mariyala) (tedyu: rev 1562343)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportExport.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625635" name="HBASE-10416-rev1.patch" size="20734" author="vasu.mariyala@gmail.com" created="Tue, 28 Jan 2014 19:28:46 +0000"/>
                            <attachment id="12625121" name="HBASE-10416.patch" size="19840" author="vasu.mariyala@gmail.com" created="Fri, 24 Jan 2014 22:08:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Jan 2014 22:35:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369883</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Import with this fix supports &lt;br/&gt;
&lt;br/&gt;
a) Filtering of the row using the Filter#filterRowKey(byte[] buffer, int offset, int length).&lt;br/&gt;
&lt;br/&gt;
b) Accepts durability parameter (Ex: -Dimport.wal.durability=SKIP_WAL ) while importing the data into HBase. If the data doesn&amp;#39;t need to be replicated to the DR cluster or if the same import job would be run on the DR cluster, consider using SKIP_WAL durability for performance.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10414] Distributed replay should re-encode WAL entries with its own RPC codec</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10414</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10412&quot; title=&quot;Distributed log replay : Cell tags getting missed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10412&quot;&gt;&lt;del&gt;HBASE-10412&lt;/del&gt;&lt;/a&gt; allows distributed replay to send WAL entries with tags intact between RegionServers by substituting a WALCodec directly for the RPC codec. We should instead have distributed replay handle WAL entries including tags with its own tag-aware RPC codec and drop the direct use of WALCodecs for that purpose. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12691092">HBASE-10414</key>
            <summary>Distributed replay should re-encode WAL entries with its own RPC codec</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jan 2014 18:51:43 +0000</created>
                <updated>Fri, 24 Jan 2014 18:54:42 +0000</updated>
                                            <version>0.98.0</version>
                    <version>0.99.0</version>
                                    <fixVersion>0.98.1</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13881303" author="ram_krish" created="Fri, 24 Jan 2014 18:54:42 +0000"  >&lt;p&gt;Will take this up for 0.98.1 along with the negotiation thing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Jan 2014 18:54:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369841</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369844</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10413] Tablesplit.getLength returns 0</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10413</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;InputSplits should be sorted by length but TableSplit does not contain real getLength implementation:&lt;/p&gt;

&lt;p&gt;  @Override&lt;br/&gt;
  public long getLength() &lt;/p&gt;
{
    // Not clear how to obtain this... seems to be used only for sorting splits
    return 0;
  }

&lt;p&gt;This is causing us problem with scheduling - we have got jobs that are supposed to finish in limited time but they get often stuck in last mapper working on large region.&lt;/p&gt;

&lt;p&gt;Can we implement this method ? &lt;br/&gt;
What is the best way ?&lt;/p&gt;

&lt;p&gt;We were thinking about estimating size by size of files on HDFS.&lt;br/&gt;
We would like to get Scanner from TableSplit, use startRow, stopRow and column families to get corresponding region than computing size of HDFS for given region and column family. &lt;/p&gt;


&lt;p&gt;Update:&lt;br/&gt;
This ticket was about production issue - I talked with guy who worked on this and he said our production issue was probably not directly caused by getLength() returning 0. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12691031">HBASE-10413</key>
            <summary>Tablesplit.getLength returns 0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="lukas.nalezenec">Lukas Nalezenec</assignee>
                                    <reporter username="lukas.nalezenec">Lukas Nalezenec</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jan 2014 13:22:52 +0000</created>
                <updated>Fri, 31 Jan 2014 17:30:30 +0000</updated>
                                            <version>0.96.1.1</version>
                                                    <component>Client</component>
                    <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13881103" author="jmspaggi" created="Fri, 24 Jan 2014 16:14:11 +0000"  >&lt;p&gt;Hum. Interesting. I will bring that to dev list...&lt;/p&gt;</comment>
                            <comment id="13881369" author="enis" created="Fri, 24 Jan 2014 19:57:51 +0000"  >&lt;p&gt;What is the issue? Is it about the MR scheduler for scheduling the tasks? AFAIK, getLength() has never been implemented, and MR just works fine without it. &lt;/p&gt;</comment>
                            <comment id="13882737" author="lukas.nalezenec" created="Mon, 27 Jan 2014 10:39:07 +0000"  >&lt;p&gt;I talked with guy who worked on this and he said our production issue was probably not directly caused by getLength() returning 0. &lt;br/&gt;
Anyway, we are interested in fixing this. &lt;br/&gt;
See updated ticket description.&lt;/p&gt;</comment>
                            <comment id="13887817" author="lukas.nalezenec" created="Fri, 31 Jan 2014 14:58:35 +0000"  >&lt;p&gt;first draft:&lt;br/&gt;
&lt;a href=&quot;https://github.com/lukasnalezenec/hbase/commit/bf560b3c19b15cefb114132ac86664ffc44dad32&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/lukasnalezenec/hbase/commit/bf560b3c19b15cefb114132ac86664ffc44dad32&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13887920" author="ndimiduk" created="Fri, 31 Jan 2014 17:28:02 +0000"  >&lt;p&gt;Nice work &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lukas.nalezenec&quot; class=&quot;user-hover&quot; rel=&quot;lukas.nalezenec&quot;&gt;Lukas Nalezenec&lt;/a&gt;! I left some comments on your commit in Github. Can you attach a patch vs trunk so we can run it through the QA bot? Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12680805">HBASE-10019</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Jan 2014 16:14:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10412] Distributed log replay : Cell tags getting missed</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10412</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This is caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10322&quot; title=&quot;Strip tags from KV while sending back to client on reads&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10322&quot;&gt;&lt;del&gt;HBASE-10322&lt;/del&gt;&lt;/a&gt;. The default RPC codec KVCodec strips tags.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690982">HBASE-10412</key>
            <summary>Distributed log replay : Cell tags getting missed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jan 2014 08:25:18 +0000</created>
                <updated>Sat, 25 Jan 2014 13:50:41 +0000</updated>
                            <resolved>Fri, 24 Jan 2014 23:44:18 +0000</resolved>
                                    <version>0.98.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13880817" author="anoop.hbase" created="Fri, 24 Jan 2014 08:32:14 +0000"  >&lt;p&gt;Again this can be solved by setting hbase.client.rpc.codec &lt;b&gt;at the HRS&lt;/b&gt; to some codec which consider tags also.  (KeyValueCodecWithTags or CellCodecWithTags).  With this way, the issue can be solved by a doc update.&lt;/p&gt;

&lt;p&gt;For replication we have introduced a new config to specify a replication specific codec name. Might not be good to add a new config to specify a replay codec.&lt;/p&gt;
</comment>
                            <comment id="13880820" author="ram_krish" created="Fri, 24 Jan 2014 08:34:21 +0000"  >&lt;p&gt;Distributed log replay should be using WALCellCodec to read and write tags?  Right?&lt;/p&gt;</comment>
                            <comment id="13880821" author="anoop.hbase" created="Fri, 24 Jan 2014 08:37:10 +0000"  >&lt;p&gt;The HRS which reads WAL uses this codec. But that HRS will be calling HRS#replay() for the WALEdits and use codec to ship cells to destination RS. At this time the KVCodec is getting used and this strip tags. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13880823" author="ram_krish" created="Fri, 24 Jan 2014 08:37:31 +0000"  >&lt;p&gt;Ok, may be the new way of log replay. got it. So this will need codec change.  May be can we make this by default WALCellCodec only?  anyway internally WALCellcodec and keyvaluecodec are the same execpt that after HBASe-10322 walcellcodec writes tags too?&lt;/p&gt;</comment>
                            <comment id="13880825" author="ram_krish" created="Fri, 24 Jan 2014 08:39:50 +0000"  >&lt;p&gt;Comments clashed.&lt;/p&gt;</comment>
                            <comment id="13880843" author="anoop.hbase" created="Fri, 24 Jan 2014 09:14:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;May be can we make this by default WALCellCodec only? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Looks Fine for me.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeffreyz&quot; class=&quot;user-hover&quot; rel=&quot;jeffreyz&quot;&gt;Jeffrey Zhong&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt; , &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; what do you guys think?&lt;/p&gt;</comment>
                            <comment id="13880884" author="anoop.hbase" created="Fri, 24 Jan 2014 10:45:35 +0000"  >&lt;p&gt;We can set the Codec, to be used by WAL, using hbase.regionserver.wal.codec&lt;br/&gt;
Phoenix is having custom WALCellCodec implementation for index.(WALEditCodec it is as we have that name in 0.94) For the distributed log replay from one RS to another RS, the same custom WALCellCodec should get used?  &lt;br/&gt;
Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesse_yates&quot; class=&quot;user-hover&quot; rel=&quot;jesse_yates&quot;&gt;Jesse Yates&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13881128" author="apurtell" created="Fri, 24 Jan 2014 16:45:48 +0000"  >&lt;p&gt;We should fix this so we are not using a RPC codec for handling a WAL. That is surprising and wrong. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;We can set the Codec, to be used by WAL, using hbase.regionserver.wal.codec&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Phoenix is having custom WALCellCodec implementation for index.(WALEditCodec it is as we have that name in 0.94) For the distributed log replay from one RS to another RS, the same custom WALCellCodec should get used&lt;/p&gt;

&lt;p&gt;+1, something like this&lt;/p&gt;</comment>
                            <comment id="13881129" author="apurtell" created="Fri, 24 Jan 2014 16:47:06 +0000"  >&lt;p&gt;Also, we should have a unit test to cover this. &lt;/p&gt;</comment>
                            <comment id="13881148" author="ram_krish" created="Fri, 24 Jan 2014 17:03:42 +0000"  >&lt;p&gt;We planned to enable distributed log splitting for the existing TestvisibilityLabels itself.  That would ensure that it works at the same time we could solve the issue by using the wal.codec config.  Ideally for all WAL related codecs including writing to HLog we could use this config.  Using the same codec for all wal related operations ideally seems right to me.&lt;/p&gt;</comment>
                            <comment id="13881151" author="apurtell" created="Fri, 24 Jan 2014 17:08:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;We planned to enable distributed log splitting for the existing TestvisibilityLabels itself. That would ensure that it works at the same time we could solve the issue by using the wal.codec config. Ideally for all WAL related codecs including writing to HLog we could use this config. Using the same codec for all wal related operations ideally seems right to me.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13881210" author="apurtell" created="Fri, 24 Jan 2014 17:59:30 +0000"  >&lt;p&gt;Patch looks good to me.&lt;/p&gt;

&lt;p&gt;On this part:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@@ -169,22 +168,25 @@ public class HLogSplitter {
 
   HLogSplitter(Configuration conf, Path rootDir,
       FileSystem fs, LastSequenceId idChecker, ZooKeeperWatcher zkw) {
-    this.conf = conf;
+    this.conf = HBaseConfiguration.create(conf);
+    String codecClassName = conf
+        .get(WALCellCodec.WAL_CELL_CODEC_CLASS_KEY, WALCellCodec.class.getName());
+    this.conf.set(HConstants.RPC_CODEC_CONF_KEY, codecClassName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here we are telling HLogSplitter to use a WAL codec for RPC. Makes sense but could be a future source of surprise. We should update the javadoc of WALCellCodec to let people know this is used not only server side but also for sending edits as part of the distributed splitting process.&lt;/p&gt;</comment>
                            <comment id="13881224" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 18:06:24 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    conf.setBoolean(HConstants.DISTRIBUTED_LOG_REPLAY_KEY, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should the test be parameterized so that both log splitting and log replay are covered ?&lt;/p&gt;</comment>
                            <comment id="13881245" author="jesse_yates" created="Fri, 24 Jan 2014 18:21:51 +0000"  >&lt;p&gt;As Andy said:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;We should fix this so we are not using a RPC codec for handling a WAL. That is surprising and wrong.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Should be ok for now to just update javadoc, but I&apos;m worried we&apos;ll start rolling in custom behavior for RPC that makes it very complicated.&lt;/p&gt;</comment>
                            <comment id="13881259" author="apurtell" created="Fri, 24 Jan 2014 18:27:44 +0000"  >&lt;blockquote&gt;
&lt;p&gt;As Andy said:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;We should fix this so we are not using a RPC codec for handling a WAL. That is surprising and wrong.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Should be ok for now to just update javadoc, but I&apos;m worried we&apos;ll start rolling in custom behavior for RPC that makes it very complicated.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree. &lt;/p&gt;

&lt;p&gt;Looks like we are splitting this into two parts.&lt;/p&gt;

&lt;p&gt;1. Get distributed log replay working with tags using a WALCodec. (Now)&lt;/p&gt;

&lt;p&gt;2. Redo distributed replay a bit so it doesn&apos;t use a bare codec but uses its own. Maybe a RPC codec as static inner class that embeds a WAL codec? (Later) &lt;/p&gt;</comment>
                            <comment id="13881265" author="anoop.hbase" created="Fri, 24 Jan 2014 18:30:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesse_yates&quot; class=&quot;user-hover&quot; rel=&quot;jesse_yates&quot;&gt;Jesse Yates&lt;/a&gt; in case of Phoenix, I think you will need the custom WALCellCodec to do the RS-&amp;gt;RS write.  Then only it will come as IndexedKeyValue object right? Pls correct me if I am wrong.&lt;/p&gt;

&lt;p&gt;Yes I will update the javadoc of WALCellCodec&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt; Need to set conf.setBoolean(HConstants.DISTRIBUTED_LOG_REPLAY_KEY, distributedLogReplay);  in setupBeforeClass for starting the cluster. So I can not go with parameterized way.&lt;/p&gt;</comment>
                            <comment id="13881270" author="jesse_yates" created="Fri, 24 Jan 2014 18:32:20 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Jesse Yates in case of Phoenix, I think you will need the custom WALCellCodec to do the RS-&amp;gt;RS write. Then only it will come as IndexedKeyValue object right? Pls correct me if I am wrong.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No, it needs the custom WALCellCodec to read custom kvs from the WAL. The KVs can then be written normally as regular updates RS-&amp;gt;Rs&lt;/p&gt;</comment>
                            <comment id="13881275" author="jesse_yates" created="Fri, 24 Jan 2014 18:35:00 +0000"  >&lt;blockquote&gt;
&lt;p&gt;1. Get distributed log replay working with tags using a WALCodec. (Now)&lt;/p&gt;

&lt;p&gt;2. Redo distributed replay a bit so it doesn&apos;t use a bare codec but uses its own. Maybe a RPC codec as static inner class that embeds a WAL codec? (Later) &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I can live with that... on you Mr. Release Manager to make it happen &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13881280" author="apurtell" created="Fri, 24 Jan 2014 18:36:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;I can live with that... on you Mr. Release Manager to make it happen &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Wait. #2 not for 0.98.0. &lt;/p&gt;</comment>
                            <comment id="13881295" author="jesse_yates" created="Fri, 24 Jan 2014 18:45:58 +0000"  >&lt;blockquote&gt;&lt;p&gt;Wait. #2 not for 0.98.0. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s fine, but soon in the 98 series?&lt;/p&gt;</comment>
                            <comment id="13881299" author="apurtell" created="Fri, 24 Jan 2014 18:51:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;That&apos;s fine, but soon in the 98 series?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10414&quot; title=&quot;Distributed replay should re-encode WAL entries with its own RPC codec&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10414&quot;&gt;HBASE-10414&lt;/a&gt; for 0.98.1.&lt;/p&gt;</comment>
                            <comment id="13881301" author="anoop.hbase" created="Fri, 24 Jan 2014 18:53:47 +0000"  >&lt;p&gt;Patch addressing comments from Andy and Ted.&lt;/p&gt;</comment>
                            <comment id="13881304" author="ram_krish" created="Fri, 24 Jan 2014 18:55:02 +0000"  >&lt;p&gt;+1 to have the simple and best soln for 0.98.0&lt;/p&gt;</comment>
                            <comment id="13881333" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 19:20:40 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestVisibilityLabelsWithDistributedLogReplay &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; TestVisibilityLabels {
+
+  @BeforeClass
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void setupBeforeClass() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
+    &lt;span class=&quot;code-comment&quot;&gt;// setup configuration
&lt;/span&gt;+    conf = TEST_UTIL.getConfiguration();
+    conf.setBoolean(HConstants.DISTRIBUTED_LOG_REPLAY_KEY, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;nit: if setting DISTRIBUTED_LOG_REPLAY_KEY is the only change from base test, consider reusing TestVisibilityLabels#setupBeforeClass()&lt;/p&gt;</comment>
                            <comment id="13881335" author="apurtell" created="Fri, 24 Jan 2014 19:23:31 +0000"  >&lt;p&gt;Tests should not reuse setup from other tests. That seems to be a basic encapsulation violation.&lt;/p&gt;</comment>
                            <comment id="13881350" author="anoop.hbase" created="Fri, 24 Jan 2014 19:32:52 +0000"  >&lt;p&gt;This version avoids some duplication in setupBeforeClass. &lt;br/&gt;
Have to set&lt;br/&gt;
conf.setBoolean(HConstants.DISTRIBUTED_LOG_REPLAY_KEY, true);&lt;br/&gt;
before starting cluster.&lt;/p&gt;</comment>
                            <comment id="13881352" author="anoop.hbase" created="Fri, 24 Jan 2014 19:34:57 +0000"  >&lt;p&gt;V3 avoids some duplication in test class.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Tests should not reuse setup from other tests. That seems to be a basic encapsulation violation.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Got your point. Can ignore V3 version of patch then.&lt;/p&gt;</comment>
                            <comment id="13881356" author="jeffreyz" created="Fri, 24 Jan 2014 19:41:17 +0000"  >&lt;p&gt;The patch looks good to me! We can combine WALEdit shipment in replay and replication WALEdits shipment to use the same code later. &lt;/p&gt;

&lt;p&gt;Could we in the future to define a tag&apos;s visibility scope so that GET/Scan code path can automatically strip out tags when returns to external clients?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13881357" author="apurtell" created="Fri, 24 Jan 2014 19:42:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;Got your point. Can ignore V3 version of patch then.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ok, I need to delete it so HadoopQA will pick up V2. &lt;/p&gt;</comment>
                            <comment id="13881362" author="apurtell" created="Fri, 24 Jan 2014 19:47:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;Could we in the future to define a tag&apos;s visibility scope so that GET/Scan code path can automatically strip out tags when returns to external clients&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We had some discussion about this on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10322&quot; title=&quot;Strip tags from KV while sending back to client on reads&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10322&quot;&gt;&lt;del&gt;HBASE-10322&lt;/del&gt;&lt;/a&gt;. The short version is per-cell checks introduce performance concerns. That issue has a lot more verbiage. &lt;/p&gt;

&lt;p&gt;With regard to replication, tag scope on a cell shares the same scope as the cell itself.&lt;/p&gt;</comment>
                            <comment id="13881366" author="apurtell" created="Fri, 24 Jan 2014 19:53:14 +0000"  >&lt;p&gt;Looks like HadoopQA may be on vacation. Let me test this locally. I will commit if good.&lt;/p&gt;</comment>
                            <comment id="13881540" author="apurtell" created="Fri, 24 Jan 2014 23:44:18 +0000"  >&lt;p&gt;Local tests are good. Committed to trunk and 0.98.&lt;/p&gt;</comment>
                            <comment id="13881756" author="hudson" created="Sat, 25 Jan 2014 08:43:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #100 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10412&quot; title=&quot;Distributed log replay : Cell tags getting missed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10412&quot;&gt;&lt;del&gt;HBASE-10412&lt;/del&gt;&lt;/a&gt; Distributed log replay: Cell tags getting missed (Anoop Sam John) (apurtell: rev 1561231)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabels.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDistributedLogReplay.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881779" author="hudson" created="Sat, 25 Jan 2014 09:33:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #63 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10412&quot; title=&quot;Distributed log replay : Cell tags getting missed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10412&quot;&gt;&lt;del&gt;HBASE-10412&lt;/del&gt;&lt;/a&gt; Distributed log replay: Cell tags getting missed (Anoop Sam John) (apurtell: rev 1561230)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabels.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDistributedLogReplay.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881788" author="hudson" created="Sat, 25 Jan 2014 09:37:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4853 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4853/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10412&quot; title=&quot;Distributed log replay : Cell tags getting missed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10412&quot;&gt;&lt;del&gt;HBASE-10412&lt;/del&gt;&lt;/a&gt; Distributed log replay: Cell tags getting missed (Anoop Sam John) (apurtell: rev 1561230)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabels.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDistributedLogReplay.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881894" author="hudson" created="Sat, 25 Jan 2014 13:50:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/107/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10412&quot; title=&quot;Distributed log replay : Cell tags getting missed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10412&quot;&gt;&lt;del&gt;HBASE-10412&lt;/del&gt;&lt;/a&gt; Distributed log replay: Cell tags getting missed (Anoop Sam John) (apurtell: rev 1561231)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabels.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDistributedLogReplay.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625076" name="HBASE-10412.patch" size="6790" author="anoop.hbase" created="Fri, 24 Jan 2014 17:53:09 +0000"/>
                            <attachment id="12625088" name="HBASE-10412_V2.patch" size="11911" author="anoop.hbase" created="Fri, 24 Jan 2014 18:53:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Jan 2014 08:34:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369731</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369732</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10411] [Book] Add a kerberos &apos;request is a replay (34)&apos; issue at troubleshooting section</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10411</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;For kerberos &apos;request is a replay (34)&apos; issue (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10379&quot; title=&quot;Lower the msg &amp;quot;Request is a replay (34) - PROCESS_TGS&amp;quot; from logging level ERROR to WARN&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10379&quot;&gt;HBASE-10379&lt;/a&gt;), adding it to the troubleshooting section in HBase book&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690961">HBASE-10411</key>
            <summary>[Book] Add a kerberos &apos;request is a replay (34)&apos; issue at troubleshooting section</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="takeshi.miao">takeshi.miao</assignee>
                                    <reporter username="takeshi.miao">takeshi.miao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jan 2014 03:35:36 +0000</created>
                <updated>Tue, 28 Jan 2014 07:48:47 +0000</updated>
                                                                            <component>documentation</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13883868" author="takeshi.miao" created="Tue, 28 Jan 2014 07:48:47 +0000"  >&lt;p&gt;Added a draft version for review&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12689746">HBASE-10379</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12625539" name="HBASE-10411-v01.odt" size="17591" author="takeshi.miao" created="Tue, 28 Jan 2014 07:48:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369710</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369711</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10410] On some JREs, hbase-server is failing due to &quot;timeout&quot; without any test actually timing out</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10410</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This is frustrating. On some JREs (Java 7) I am seeing hbase-server fail due to timeout, without any test actually reporting a timeout.  This StackOverflow answer talks about how JUnit &amp;lt; 4.12-SNAPSHOT may report a timeout if the test throws an InterruptedException: &lt;a href=&quot;http://stackoverflow.com/questions/17016011/junit-test-times-out-despite-executing-quickly&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/17016011/junit-test-times-out-despite-executing-quickly&lt;/a&gt;  Those happen at various points when shutting down the minicluster. We may be letting one escape. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12690880">HBASE-10410</key>
            <summary>On some JREs, hbase-server is failing due to &quot;timeout&quot; without any test actually timing out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2014 20:53:41 +0000</created>
                <updated>Fri, 24 Jan 2014 19:10:41 +0000</updated>
                            <resolved>Thu, 23 Jan 2014 23:23:08 +0000</resolved>
                                    <version>0.98.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13880345" author="apurtell" created="Thu, 23 Jan 2014 20:56:59 +0000"  >&lt;p&gt;&apos;mvn -fae ...&apos; (fail at end) isn&apos;t sufficient to continue with further modules past hbase-server, checking if &apos;mvn -fn&apos; (fail never) is. Looking to see if we can get a full unit test suite execution despite this issue. If so individual test failures will still show up in JUnit reports, Jenkins build reports, etc.&lt;/p&gt;</comment>
                            <comment id="13880358" author="apurtell" created="Thu, 23 Jan 2014 21:06:36 +0000"  >&lt;p&gt;Also running with -X (debug) to see what exactly is going on (I hope)&lt;/p&gt;</comment>
                            <comment id="13880484" author="apurtell" created="Thu, 23 Jan 2014 22:58:02 +0000"  >&lt;p&gt;Or this could be &lt;a href=&quot;https://jira.codehaus.org/browse/SUREFIRE-817&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://jira.codehaus.org/browse/SUREFIRE-817&lt;/a&gt;, and I think no test failed because nothing was printed after timeout or some other unexpected exit. I notice we are still running with our custom Surefire version 2.12-TRUNK-&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2&quot; title=&quot;hlog numbers should wrap around when they reach 999&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2&quot;&gt;&lt;del&gt;HBASE-2&lt;/del&gt;&lt;/a&gt;. The latest Surefire plugin release is 2.16. Any reason not to be using that one? Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Trying it locally. One difference is ResourceChecker INFO logs are now showing up on the console.&lt;/p&gt;</comment>
                            <comment id="13880488" author="apurtell" created="Thu, 23 Jan 2014 23:00:38 +0000"  >&lt;p&gt;And sometimes INFO and WARN level messages from HBaseTestingUtility&lt;/p&gt;</comment>
                            <comment id="13880490" author="apurtell" created="Thu, 23 Jan 2014 23:01:36 +0000"  >&lt;p&gt;Hmm&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.16:test (secondPartTestsExecution) on project hbase-server: Execution secondPartTestsExecution of goal org.apache.maven.plugins:maven-surefire-plugin:2.16:test failed: Fork mode perThread is not a legal value -&amp;gt; [Help 1]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13880504" author="apurtell" created="Thu, 23 Jan 2014 23:23:08 +0000"  >&lt;p&gt;With Surefire 2.16 and some POM hacks, I&apos;ve found a real culprit.&lt;/p&gt;</comment>
                            <comment id="13880517" author="ghelmling" created="Thu, 23 Jan 2014 23:46:51 +0000"  >&lt;p&gt;FYI, some status of trying to use newer surefire and junit is in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4955&quot; title=&quot;Use the official versions of surefire &amp;amp; junit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4955&quot;&gt;HBASE-4955&lt;/a&gt;.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt; can, I&apos;m sure, provide more detail, but surefire 2.16 seemed to result in tests not finishing?&lt;/p&gt;</comment>
                            <comment id="13881323" author="nkeywal" created="Fri, 24 Jan 2014 19:10:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;Hmm&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The syntax changed in surefire &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;surefire 2.16 seemed to result in tests not finishing?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah, exactly. It seems to be an HBase regression actually, but I&apos;m waiting for the 2.17 to try again. In 2.15 and previous, the bugs were in surefire itself.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Jan 2014 23:46:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369629</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10409] Allow config options related to zookeeper to be passed to IntegrationTestsDriver</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10409</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently IntegrationTestsDriver only accepts one parameter: regex for integration test.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; ret = ToolRunner.run(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IntegrationTestsDriver(), args);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;To allow IntegrationTestsDriver to be activated through Java API, support for passing config options related to zookeeper should be added - similarly to what LoadTestTool supports.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690833">HBASE-10409</key>
            <summary>Allow config options related to zookeeper to be passed to IntegrationTestsDriver</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="7">Later</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2014 18:14:34 +0000</created>
                <updated>Sat, 25 Jan 2014 21:32:22 +0000</updated>
                            <resolved>Fri, 24 Jan 2014 05:28:01 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13880290" author="apurtell" created="Thu, 23 Jan 2014 19:58:15 +0000"  >&lt;p&gt;+1 for trunk and 0.98&lt;/p&gt;</comment>
                            <comment id="13880327" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 20:40:02 +0000"  >&lt;p&gt;Integrated to 0.98 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the quick review, Andy.&lt;/p&gt;</comment>
                            <comment id="13880368" author="eclark" created="Thu, 23 Jan 2014 21:18:04 +0000"  >&lt;p&gt;Why not just use AbstractHBaseTool#doStaticMain that will create and use the HBaseConfiguration#create.  That would allow passing any config values on the command line.&lt;/p&gt;</comment>
                            <comment id="13880402" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 21:47:26 +0000"  >&lt;p&gt;For a downstream project, hbase-site.xml may not be in classpath.&lt;br/&gt;
Hence HBaseConfiguration#create wouldn&apos;t be able to pick up zookeeper quorum information.&lt;/p&gt;

&lt;p&gt;Here is related code in AbstractHBaseTool#doStaticMain :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      ret = ToolRunner.run(HBaseConfiguration.create(), &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, args);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13880404" author="eclark" created="Thu, 23 Jan 2014 21:50:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hbase/blob/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/AbstractHBaseTool.java#L134&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/blob/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/AbstractHBaseTool.java#L134&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;All args from the command line are properly picked up and put into the conf.  So you can add -Dhbase.whatvers=&quot;test&quot;&lt;/p&gt;</comment>
                            <comment id="13880413" author="eclark" created="Thu, 23 Jan 2014 21:59:26 +0000"  >&lt;p&gt;Here&apos;s an example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.apache.hadoop.hbase.util;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.cli.CommandLine;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.HBaseConfiguration;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.util.ToolRunner;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestTool &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractHBaseTool {
  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void addOptions() {

  }

  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void processOptions(CommandLine cmd) {

  }

  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; doWork() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(getConf().get(&lt;span class=&quot;code-quote&quot;&gt;&quot;testValue&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&quot;&lt;/span&gt;));
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; ret;
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      ret = ToolRunner.run(HBaseConfiguration.create(), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TestTool(), args);
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception ex) {
      ret = 1;
    }
    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit(ret);
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Then running that simple code results in:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
eclark@eclark-MBPr ~/Code/&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;/hbase (trunk&#9679;&#9679;)$ bin/hbase org.apache.hadoop.hbase.util.TestTool -DtestValue=&lt;span class=&quot;code-quote&quot;&gt;&quot;my string&quot;&lt;/span&gt;
my string
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13880414" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 22:01:35 +0000"  >&lt;p&gt;In doStaticMain(), the last line is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit(ret);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When run from maven, I would have gotten:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] -&amp;gt; [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.16:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) on project hoya-funtest: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.16:test failed: The forked VM terminated without saying properly goodbye. VM crash or &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit called ?
Command was/bin/sh -c cd /home/yarn/hoya/hoya-funtest &amp;amp;&amp;amp; /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.9.x86_64/jre/bin/java -Xmx1024m -XX:+HeapDumpOnOutOfMemoryError -jar /home/yarn/hoya/hoya-funtest/target/surefire/surefirebooter274017860635722411.jar /home/yarn/hoya/hoya-funtest/target/surefire/surefire6543037778494048137tmp /home/yarn/hoya/hoya-funtest/target/surefire/surefire_07364766695548839031tmp
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:224)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:317)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:317)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:152)
        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:555)
        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:158)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:601)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
Caused by: org.apache.maven.plugin.PluginExecutionException: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.16:test failed: The forked VM terminated without saying properly goodbye. VM crash or &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit called ?
Command was/bin/sh -c cd /home/yarn/hoya/hoya-funtest &amp;amp;&amp;amp; /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.9.x86_64/jre/bin/java -Xmx1024m -XX:+HeapDumpOnOutOfMemoryError -jar /home/yarn/hoya/hoya-funtest/target/surefire/surefirebooter274017860635722411.jar /home/yarn/hoya/hoya-funtest/target/surefire/surefire6543037778494048137tmp /home/yarn/hoya/hoya-funtest/target/surefire/surefire_07364766695548839031tmp
        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:115)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
        ... 19 more
Caused by: java.lang.RuntimeException: The forked VM terminated without saying properly goodbye. VM crash or &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit called ?
Command was/bin/sh -c cd /home/yarn/hoya/hoya-funtest &amp;amp;&amp;amp; /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.9.x86_64/jre/bin/java -Xmx1024m -XX:+HeapDumpOnOutOfMemoryError -jar /home/yarn/hoya/hoya-funtest/target/surefire/surefirebooter274017860635722411.jar /home/yarn/hoya/hoya-funtest/target/surefire/surefire6543037778494048137tmp /home/yarn/hoya/hoya-funtest/target/surefire/surefire_07364766695548839031tmp
        at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:485)
        at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:352)
        at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:158)
        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:958)
        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:822)
        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:720)
        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:106)
        ... 20 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13880423" author="eclark" created="Thu, 23 Jan 2014 22:09:56 +0000"  >&lt;p&gt;Can&apos;t really help you with the hoya tests. For HBase parsing args two different ways (into the conf as has been there for a while, and your added two configurations) just makes it confusing.&lt;/p&gt;

&lt;p&gt;Additionally you&apos;ll notice that the example code I used didn&apos;t even use the doStaticMain it just passed in an hbase config (mimicking what doStaticMain does).  So what I&apos;m suggesting is flexible and is exactly why the AbstractHBaseTool is there.  So that we have things like this as central as possible.&lt;/p&gt;</comment>
                            <comment id="13880431" author="eclark" created="Thu, 23 Jan 2014 22:14:28 +0000"  >&lt;p&gt;Here&apos;s the way to use doStaticMain:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.apache.hadoop.hbase.util;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.cli.CommandLine;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestTool &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AbstractHBaseTool {
  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void addOptions() {

  }

  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void processOptions(CommandLine cmd) {

  }

  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; doWork() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(getConf().get(&lt;span class=&quot;code-quote&quot;&gt;&quot;testValue&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&quot;&lt;/span&gt;));
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {
    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TestTool().doStaticMain(args);
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You&apos;ll see this mirrored in LoadTestTool&lt;/p&gt;</comment>
                            <comment id="13880727" author="stack" created="Fri, 24 Jan 2014 05:16:48 +0000"  >&lt;p&gt;+1 on removing the committed hack and using Elliott suggestion instead.&lt;/p&gt;</comment>
                            <comment id="13881758" author="hudson" created="Sat, 25 Jan 2014 08:43:11 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #100 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10409&quot; title=&quot;Allow config options related to zookeeper to be passed to IntegrationTestsDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10409&quot;&gt;&lt;del&gt;HBASE-10409&lt;/del&gt;&lt;/a&gt; Allow config options related to zookeeper to be passed to IntegrationTestsDriver - revert (tedyu: rev 1560901)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestsDriver.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10409&quot; title=&quot;Allow config options related to zookeeper to be passed to IntegrationTestsDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10409&quot;&gt;&lt;del&gt;HBASE-10409&lt;/del&gt;&lt;/a&gt; Allow config options related to zookeeper to be passed to IntegrationTestsDriver (Ted Yu) (tedyu: rev 1560803)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestsDriver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881781" author="hudson" created="Sat, 25 Jan 2014 09:33:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #63 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10409&quot; title=&quot;Allow config options related to zookeeper to be passed to IntegrationTestsDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10409&quot;&gt;&lt;del&gt;HBASE-10409&lt;/del&gt;&lt;/a&gt; Allow config options related to zookeeper to be passed to IntegrationTestsDriver - revert (tedyu: rev 1560902)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestsDriver.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10409&quot; title=&quot;Allow config options related to zookeeper to be passed to IntegrationTestsDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10409&quot;&gt;&lt;del&gt;HBASE-10409&lt;/del&gt;&lt;/a&gt; Allow config options related to zookeeper to be passed to IntegrationTestsDriver (Ted Yu) (tedyu: rev 1560804)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestsDriver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881790" author="hudson" created="Sat, 25 Jan 2014 09:37:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4853 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4853/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10409&quot; title=&quot;Allow config options related to zookeeper to be passed to IntegrationTestsDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10409&quot;&gt;&lt;del&gt;HBASE-10409&lt;/del&gt;&lt;/a&gt; Allow config options related to zookeeper to be passed to IntegrationTestsDriver - revert (tedyu: rev 1560902)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestsDriver.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10409&quot; title=&quot;Allow config options related to zookeeper to be passed to IntegrationTestsDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10409&quot;&gt;&lt;del&gt;HBASE-10409&lt;/del&gt;&lt;/a&gt; Allow config options related to zookeeper to be passed to IntegrationTestsDriver (Ted Yu) (tedyu: rev 1560804)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestsDriver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881896" author="hudson" created="Sat, 25 Jan 2014 13:50:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/107/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10409&quot; title=&quot;Allow config options related to zookeeper to be passed to IntegrationTestsDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10409&quot;&gt;&lt;del&gt;HBASE-10409&lt;/del&gt;&lt;/a&gt; Allow config options related to zookeeper to be passed to IntegrationTestsDriver - revert (tedyu: rev 1560901)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestsDriver.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10409&quot; title=&quot;Allow config options related to zookeeper to be passed to IntegrationTestsDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10409&quot;&gt;&lt;del&gt;HBASE-10409&lt;/del&gt;&lt;/a&gt; Allow config options related to zookeeper to be passed to IntegrationTestsDriver (Ted Yu) (tedyu: rev 1560803)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestsDriver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13882060" author="stack" created="Sat, 25 Jan 2014 21:32:22 +0000"  >&lt;p&gt;So, this is resolved &apos;later&apos; though a bunch of input from a reviewer to help enable it get implemented correctly?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624874" name="10409-v1.txt" size="1721" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 18:51:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Jan 2014 19:58:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369578</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369581</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10408] Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10408</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Here was the assertion failure:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; java.lang.AssertionError: expected:&amp;amp;lt;1000&amp;gt; but was:&amp;amp;lt;0&amp;gt; at org.junit.Assert.fail(Assert.java:88) at org.junit.Assert.failNotEquals(Assert.java:743) at org.junit.Assert.assertEquals(Assert.java:118) at org.junit.Assert.assertEquals(Assert.java:555) at org.junit.Assert.assertEquals(Assert.java:542) at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.testLogReplayForDisablingTable(TestDistributedLogSplitting.java:838) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This was due to the loop starting around line 823 not picking up any edits &lt;/p&gt;</description>
                <environment></environment>
        <key id="12690816">HBASE-10408</key>
            <summary>Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2014 17:03:29 +0000</created>
                <updated>Sat, 25 Jan 2014 13:50:41 +0000</updated>
                            <resolved>Fri, 24 Jan 2014 21:39:53 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13880082" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 17:05:02 +0000"  >&lt;p&gt;Test output from Jenkins.&lt;/p&gt;</comment>
                            <comment id="13880112" author="apurtell" created="Thu, 23 Jan 2014 17:36:39 +0000"  >&lt;p&gt;+1 for trunk and 0.98 if the patch fixes the problem (Ted?) and if HadoopQA comes back green.&lt;/p&gt;</comment>
                            <comment id="13880171" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 18:17:18 +0000"  >&lt;p&gt;@Andy:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/&lt;/a&gt; is not accessible at the moment.&lt;br/&gt;
I ran TestDistributedLogSplitting with patch on Linux 10 times and they passed.&lt;br/&gt;
Below is the tail of test output:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] HBase - Server .................................... SUCCESS [5:18.152s]
[INFO] HBase - Testing Util .............................. SUCCESS [0.718s]
[INFO] HBase - Thrift .................................... SUCCESS [0.802s]
[INFO] HBase - Shell ..................................... SUCCESS [0.548s]
[INFO] HBase - Integration Tests ......................... SUCCESS [0.518s]
[INFO] HBase - Examples .................................. SUCCESS [0.440s]
[INFO] HBase - Assembly .................................. SUCCESS [0.765s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 5:30.226s
[INFO] Finished at: Thu Jan 23 18:10:06 UTC 2014
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13880177" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 18:21:48 +0000"  >&lt;p&gt;Output file from 10 runs of TestDistributedLogSplitting&lt;/p&gt;</comment>
                            <comment id="13880212" author="jeffreyz" created="Thu, 23 Jan 2014 18:51:52 +0000"  >&lt;p&gt;There is a log as following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-01-18 02:38:13,580 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-615] master.TestDistributedLogSplitting(1449): Creating wal edits across 0 regions.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So it seems the test case chose a wrong RS which doesn&apos;t has regions of disableTable. &lt;/p&gt;</comment>
                            <comment id="13881215" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 18:02:38 +0000"  >&lt;p&gt;Thanks for the reminder, Jeff.&lt;/p&gt;

&lt;p&gt;Here is patch v2 that filters out system table.&lt;/p&gt;

&lt;p&gt;TestDistributedLogSplitting passed locally.&lt;/p&gt;</comment>
                            <comment id="13881222" author="apurtell" created="Fri, 24 Jan 2014 18:06:17 +0000"  >&lt;p&gt;Ted, can you explain how the test is now fixed?&lt;/p&gt;

&lt;p&gt;AFAIK, this &quot;goto&quot; isn&apos;t necessary:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
--- hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java	(revision 1561083)
+++ hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java	(working copy)
@@ -739,16 +739,15 @@
     HRegionServer hrs = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
     &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; hasRegionsForBothTables = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
     &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; tableName = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
+    OUTER:
     &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; NUM_RS; i++) {
       tableName = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
       hasRegionsForBothTables = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
-      &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isCarryingMeta = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
       hrs = rsts.get(i).getRegionServer();
       regions = ProtobufUtil.getOnlineRegions(hrs);
       &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (HRegionInfo region : regions) {
-        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (region.isMetaRegion()) {
-          isCarryingMeta = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
-          &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (region.getTable().isSystemTable()) {
+          &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt; OUTER;
         }
         &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (tableName != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp;
             !tableName.equalsIgnoreCase(region.getTable().getNameAsString())) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13881223" author="stack" created="Fri, 24 Jan 2014 18:06:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; In future, when you put up a patch, can you explain how it fixes the issue?&lt;/p&gt;</comment>
                            <comment id="13881230" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 18:10:56 +0000"  >&lt;p&gt;The failure shown in the attached test output was caused by hasRegionsForBothTables being set to true prematurely.&lt;br/&gt;
It happened when system table was hosted on the underlying region server but &quot;disableTable&quot; was not. This was not covered by region.isMetaRegion() check.&lt;br/&gt;
Patch v2 covers the above scenario.&lt;/p&gt;</comment>
                            <comment id="13881235" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 18:13:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;this &quot;goto&quot; isn&apos;t necessary&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Pardon me. There is no goto with patch v2.&lt;/p&gt;</comment>
                            <comment id="13881272" author="apurtell" created="Fri, 24 Jan 2014 18:34:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;Pardon me. There is no goto with patch v2.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Note the scare quotes.&lt;/p&gt;

&lt;p&gt;What do you call this? &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;continue OUTER;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I really don&apos;t see how my comment wasn&apos;t obvious.&lt;/p&gt;</comment>
                            <comment id="13881282" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 18:38:21 +0000"  >&lt;p&gt;Previously isCarryingMeta was used as a flag to continue with the outer loop:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isCarryingMeta) {
-        &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
-      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This flag was removed by introducing label for outer loop.&lt;/p&gt;</comment>
                            <comment id="13881288" author="apurtell" created="Fri, 24 Jan 2014 18:43:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;This flag was removed by introducing label for outer loop.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yep, labeled jumps aka &quot;gotos&quot; should be avoided unless necessary in my opinion. I realize this is just test code but we are supposed to do code review here after all. No need to point out existing occurrences of this idiom in our code. I said &quot;unless necessary&quot;. This is a bigger change than you needed to make to fix the test.&lt;/p&gt;</comment>
                            <comment id="13881300" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 18:52:06 +0000"  >&lt;p&gt;See if patch v3 is better.&lt;/p&gt;

&lt;p&gt;Thanks for the comments, Andy.&lt;/p&gt;</comment>
                            <comment id="13881306" author="apurtell" created="Fri, 24 Jan 2014 18:57:20 +0000"  >&lt;p&gt;+1 for v3 for trunk and 0.98&lt;/p&gt;</comment>
                            <comment id="13881319" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 19:08:48 +0000"  >&lt;p&gt;Integrated to 0.98 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Andy.&lt;/p&gt;</comment>
                            <comment id="13881759" author="hudson" created="Sat, 25 Jan 2014 08:43:11 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #100 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10408&quot; title=&quot;Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10408&quot;&gt;&lt;del&gt;HBASE-10408&lt;/del&gt;&lt;/a&gt; Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure (tedyu: rev 1561118)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881782" author="hudson" created="Sat, 25 Jan 2014 09:33:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #63 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10408&quot; title=&quot;Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10408&quot;&gt;&lt;del&gt;HBASE-10408&lt;/del&gt;&lt;/a&gt; Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure (tedyu: rev 1561119)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881791" author="hudson" created="Sat, 25 Jan 2014 09:37:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4853 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4853/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10408&quot; title=&quot;Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10408&quot;&gt;&lt;del&gt;HBASE-10408&lt;/del&gt;&lt;/a&gt; Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure (tedyu: rev 1561119)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881897" author="hudson" created="Sat, 25 Jan 2014 13:50:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/107/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10408&quot; title=&quot;Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10408&quot;&gt;&lt;del&gt;HBASE-10408&lt;/del&gt;&lt;/a&gt; Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure (tedyu: rev 1561118)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624827" name="10408-v1.txt" size="894" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 17:05:22 +0000"/>
                            <attachment id="12625078" name="10408-v2.txt" size="1833" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 18:02:38 +0000"/>
                            <attachment id="12625087" name="10408-v3.txt" size="1689" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 18:52:06 +0000"/>
                            <attachment id="12624854" name="TestDistributedLogSplitting.out" size="301820" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 18:21:48 +0000"/>
                            <attachment id="12624826" name="testDistributedLogSplitting-disablingTable.html" size="2804025" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 17:05:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Jan 2014 17:36:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369563</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10407] String Format Exception</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10407</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There is a bug in &lt;tt&gt;hbase/hbase-hadoop2-compat/src/main/java/org/apache/hadoop/metrics2/lib/MetricMutableQuantiles.java:91/92&lt;/tt&gt;.  When the parameter &lt;tt&gt;name&lt;/tt&gt; contains a %, it will cause a format exception by String.Format(...).&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Here is a simple patch to fix it&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;hbase.patch&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
From 43a4b247f5ac69f57264b2c1b20dcca8205514c4 Mon Sep 17 00:00:00 2001
From: Siwakorn Srisakaokul &amp;lt;sping128@gmail.com&amp;gt;
Date: Wed, 22 Jan 2014 10:09:26 -0800
Subject: [PATCH] Format Patch

---
 .../org/apache/hadoop/metrics2/lib/MetricMutableQuantiles.java | 10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

diff --git a/hbase-hadoop2-compat/src/main/java/org/apache/hadoop/metrics2/lib/MetricMutableQuantiles.java b/hbase-hadoop2-compat/src/main/java/org/apache/hadoop/metrics2/lib/MetricMutableQuantiles.java
index b01f88b..c399323 100644
--- a/hbase-hadoop2-compat/src/main/java/org/apache/hadoop/metrics2/lib/MetricMutableQuantiles.java
+++ b/hbase-hadoop2-compat/src/main/java/org/apache/hadoop/metrics2/lib/MetricMutableQuantiles.java
@@ -82,14 +82,12 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class MetricMutableQuantiles &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; MutableMetric &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; MetricHisto
         &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of %s &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; %s with %ds interval&quot;&lt;/span&gt;, lsName, desc, interval));
     &lt;span class=&quot;code-comment&quot;&gt;// Construct the MetricsInfos &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the quantiles, converting to percentiles
&lt;/span&gt;     quantileInfos = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MetricsInfo[quantiles.length];
-    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; nameTemplate = ucName + &lt;span class=&quot;code-quote&quot;&gt;&quot;%dthPercentile&quot;&lt;/span&gt; + interval + &lt;span class=&quot;code-quote&quot;&gt;&quot;sInterval&quot;&lt;/span&gt;
-        + uvName;
-    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; descTemplate = &lt;span class=&quot;code-quote&quot;&gt;&quot;%d percentile &quot;&lt;/span&gt; + lvName + &lt;span class=&quot;code-quote&quot;&gt;&quot; with &quot;&lt;/span&gt; + interval
-        + &lt;span class=&quot;code-quote&quot;&gt;&quot; second interval &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &quot;&lt;/span&gt; + desc;
+    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; nameTemplate = &lt;span class=&quot;code-quote&quot;&gt;&quot;%s%dthPercentile%dsInterval%s&quot;&lt;/span&gt;;
+    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; descTemplate = &lt;span class=&quot;code-quote&quot;&gt;&quot;%d percentile %s with %d second interval &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; %s&quot;&lt;/span&gt;;
     &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; quantiles.length; i++) {
       &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; percentile = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) (100 * quantiles[i].quantile);
-      quantileInfos[i] = info(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(nameTemplate, percentile),
-          &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(descTemplate, percentile));
+      quantileInfos[i] = info(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(nameTemplate, ucName, percentile, interval, uvName),
+          &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(descTemplate, percentile, lvName, interval, desc));
     }
 
     estimator = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MetricSampleQuantiles(quantiles);
-- 
1.8.5.2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12690810">HBASE-10407</key>
            <summary>String Format Exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ping128">Siwakorn Srisakaokul</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2014 16:36:57 +0000</created>
                <updated>Wed, 29 Jan 2014 17:14:54 +0000</updated>
                            <resolved>Wed, 29 Jan 2014 06:06:43 +0000</resolved>
                                    <version>0.99.0</version>
                                    <fixVersion>0.99.0</fixVersion>
                                    <component>hadoop2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13880072" author="jmspaggi" created="Thu, 23 Jan 2014 16:55:23 +0000"  >&lt;p&gt;Sound good to me.&lt;/p&gt;

&lt;p&gt;can you please put the patch in its own file, attach it to this JIRA and clic on &quot;submit patch&quot; to get it tested?&lt;/p&gt;</comment>
                            <comment id="13880097" author="ping128" created="Thu, 23 Jan 2014 17:16:41 +0000"  >&lt;p&gt;There is a bug in hbase/hbase-hadoop2-compat/src/main/java/org/apache/hadoop/metrics2/lib/MetricMutableQuantiles.java:91/92. When the parameter name contains a %, it will cause a format exception by String.Format(...).&lt;/p&gt;

&lt;p&gt;A simple patch to fix is attached&lt;/p&gt;</comment>
                            <comment id="13882089" author="stack" created="Sat, 25 Jan 2014 22:42:56 +0000"  >&lt;p&gt;Retry for hadoopqa&lt;/p&gt;</comment>
                            <comment id="13882126" author="hadoopqa" created="Sun, 26 Jan 2014 00:46:24 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625224/hbase.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625224/hbase.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625224&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8518//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13885044" author="stack" created="Wed, 29 Jan 2014 06:06:43 +0000"  >&lt;p&gt;Committed to trunk.  Thanks for the patch Siwakorn Srisakaokul&lt;/p&gt;</comment>
                            <comment id="13885127" author="hudson" created="Wed, 29 Jan 2014 08:09:05 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4865 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4865/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4865/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10407&quot; title=&quot;String Format Exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10407&quot;&gt;&lt;del&gt;HBASE-10407&lt;/del&gt;&lt;/a&gt; String Format Exception (Siwakorn Srisakaokul) (stack: rev 1562364)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-hadoop2-compat/src/main/java/org/apache/hadoop/metrics2/lib/MetricMutableQuantiles.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885545" author="hudson" created="Wed, 29 Jan 2014 17:14:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #69 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/69/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10407&quot; title=&quot;String Format Exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10407&quot;&gt;&lt;del&gt;HBASE-10407&lt;/del&gt;&lt;/a&gt; String Format Exception (Siwakorn Srisakaokul) (stack: rev 1562364)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-hadoop2-compat/src/main/java/org/apache/hadoop/metrics2/lib/MetricMutableQuantiles.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625224" name="hbase.patch" size="1909" author="stack" created="Sat, 25 Jan 2014 22:42:56 +0000"/>
                            <attachment id="12624829" name="hbase.patch" size="1909" author="ping128" created="Thu, 23 Jan 2014 17:15:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Jan 2014 16:55:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369554</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10406] Column family option is not effective in IntegrationTestSendTraceRequests</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10406</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;If column family option (-f) is specified, the following error would occur:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-01-23 23:21:20,347 [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-2] ERROR util.AbstractHBaseTool (AbstractHBaseTool.java:run(97)) - Error when parsing command-line arguemnts
org.apache.commons.cli.UnrecognizedOptionException: Unrecognized option: -f
	at org.apache.commons.cli.Parser.processOption(Parser.java:363)
	at org.apache.commons.cli.Parser.parse(Parser.java:199)
	at org.apache.commons.cli.Parser.parse(Parser.java:85)
	at org.apache.hadoop.hbase.util.AbstractHBaseTool.parseArgs(AbstractHBaseTool.java:135)
	at org.apache.hadoop.hbase.util.AbstractHBaseTool.run(AbstractHBaseTool.java:94)
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is due to table option is used twice in the following code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void addOptions() {
    addOptWithArg(TABLE_ARG, &lt;span class=&quot;code-quote&quot;&gt;&quot;The table name to target.  Will be created &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; not there already.&quot;&lt;/span&gt;);
    addOptWithArg(TABLE_ARG, &lt;span class=&quot;code-quote&quot;&gt;&quot;The family to target&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12690588">HBASE-10406</key>
            <summary>Column family option is not effective in IntegrationTestSendTraceRequests</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2014 05:13:22 +0000</created>
                <updated>Sat, 25 Jan 2014 13:50:41 +0000</updated>
                            <resolved>Fri, 24 Jan 2014 01:58:41 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13880564" author="eclark" created="Fri, 24 Jan 2014 00:46:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13880580" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 01:04:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;:&lt;br/&gt;
Do you want this in 0.98 ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13880590" author="apurtell" created="Fri, 24 Jan 2014 01:11:34 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13880614" author="yuzhihong@gmail.com" created="Fri, 24 Jan 2014 01:58:37 +0000"  >&lt;p&gt;Integrated to 0.98 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the reviews.&lt;/p&gt;</comment>
                            <comment id="13881757" author="hudson" created="Sat, 25 Jan 2014 08:43:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #100 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10406&quot; title=&quot;Column family option is not effective in IntegrationTestSendTraceRequests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10406&quot;&gt;&lt;del&gt;HBASE-10406&lt;/del&gt;&lt;/a&gt; Column family option is not effective in IntegrationTestSendTraceRequests (tedyu: rev 1560879)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-it/src/test/java/org/apache/hadoop/hbase/trace/IntegrationTestSendTraceRequests.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881780" author="hudson" created="Sat, 25 Jan 2014 09:33:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #63 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10406&quot; title=&quot;Column family option is not effective in IntegrationTestSendTraceRequests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10406&quot;&gt;&lt;del&gt;HBASE-10406&lt;/del&gt;&lt;/a&gt; Column family option is not effective in IntegrationTestSendTraceRequests (tedyu: rev 1560880)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/src/test/java/org/apache/hadoop/hbase/trace/IntegrationTestSendTraceRequests.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881789" author="hudson" created="Sat, 25 Jan 2014 09:37:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4853 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4853/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10406&quot; title=&quot;Column family option is not effective in IntegrationTestSendTraceRequests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10406&quot;&gt;&lt;del&gt;HBASE-10406&lt;/del&gt;&lt;/a&gt; Column family option is not effective in IntegrationTestSendTraceRequests (tedyu: rev 1560880)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/src/test/java/org/apache/hadoop/hbase/trace/IntegrationTestSendTraceRequests.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881895" author="hudson" created="Sat, 25 Jan 2014 13:50:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/107/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10406&quot; title=&quot;Column family option is not effective in IntegrationTestSendTraceRequests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10406&quot;&gt;&lt;del&gt;HBASE-10406&lt;/del&gt;&lt;/a&gt; Column family option is not effective in IntegrationTestSendTraceRequests (tedyu: rev 1560879)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-it/src/test/java/org/apache/hadoop/hbase/trace/IntegrationTestSendTraceRequests.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624950" name="10406-v1.txt" size="680" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 23:33:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Jan 2014 00:46:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369455</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10405] Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10405</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Here was the assertion failure:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; java.lang.AssertionError: expected:&amp;amp;lt;1000&amp;gt; but was:&amp;amp;lt;0&amp;gt; at org.junit.Assert.fail(Assert.java:88) at org.junit.Assert.failNotEquals(Assert.java:743) at org.junit.Assert.assertEquals(Assert.java:118) at org.junit.Assert.assertEquals(Assert.java:555) at org.junit.Assert.assertEquals(Assert.java:542) at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.testLogReplayForDisablingTable(TestDistributedLogSplitting.java:838) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This was due to the loop starting around line 823 not picking up any edits &lt;/p&gt;</description>
                <environment></environment>
        <key id="12690564">HBASE-10405</key>
            <summary>Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2014 03:38:20 +0000</created>
                <updated>Thu, 23 Jan 2014 03:38:20 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369459</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10404] Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10404</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Here was the assertion failure:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; java.lang.AssertionError: expected:&amp;amp;lt;1000&amp;gt; but was:&amp;amp;lt;0&amp;gt; at org.junit.Assert.fail(Assert.java:88) at org.junit.Assert.failNotEquals(Assert.java:743) at org.junit.Assert.assertEquals(Assert.java:118) at org.junit.Assert.assertEquals(Assert.java:555) at org.junit.Assert.assertEquals(Assert.java:542) at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.testLogReplayForDisablingTable(TestDistributedLogSplitting.java:838) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This was due to the loop starting around line 823 not picking up any edits &lt;/p&gt;</description>
                <environment></environment>
        <key id="12690531">HBASE-10404</key>
            <summary>Intermittent TestDistributedLogSplitting#testLogReplayForDisablingTable failure</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2014 02:32:19 +0000</created>
                <updated>Thu, 23 Jan 2014 02:32:19 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369457</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369460</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10403] Simplify offheap cache configuration</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10403</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The BucketCache (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7404&quot; title=&quot;Bucket Cache:A solution about CMS,Heap Fragment and Big Cache on HBASE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7404&quot;&gt;&lt;del&gt;HBASE-7404&lt;/del&gt;&lt;/a&gt;) is a very nice piece of functionality which is hidden behind complex configuration. Enabling it currently requires manual calculation of L1 cache. It&apos;d be nice to make this easier to use and conform better with the existing heap management tools we already have.&lt;/p&gt;

&lt;p&gt;Turning it on currently requires explicitly setting LruBlockCache (L1) instance size and IOEngine (L2) size, making sure that L1 size isn&apos;t too big vs global memstore and total heap. This is further confused by hbase.bucketcache.size accepting a percentage of total heap OR explicit size in MB. Enabling SlabCache is slightly easier in that it just accepts whatever LruBlockCache is provided.&lt;/p&gt;

&lt;p&gt;Turning on BucketCache using off-heap mode could look like:&lt;/p&gt;

&lt;p&gt;hbase-env.sh:&lt;br/&gt;
 Set HBASE_REGIONSERVER_OPTS:&lt;br/&gt;
  -Xmx5000m&lt;br/&gt;
  -XX:MaxDirectMemorySize=15000m&lt;/p&gt;

&lt;p&gt;hbase-site.xml:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;hbase.regionserver.global.memstore.size = 0.7&lt;/li&gt;
	&lt;li&gt;hbase.regionserver.onheap.blockcache.size = 0.1&lt;/li&gt;
	&lt;li&gt;hbase.regionserver.blockcache.impl = BucketCache&lt;/li&gt;
	&lt;li&gt;hbase.bucketcache.ioengine = offheap&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The result being a CombinedCache instance with 500m LruBlockCache + 15000m ByteBufferIOEngine running in direct mode.&lt;/p&gt;

&lt;p&gt;This example does a couple things (mostly for the admin):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;knows NOT to enable SlabCache&lt;/li&gt;
	&lt;li&gt;s/hfile.block.cache.size/hbase.regionserver.onheap.blockcache.size/&lt;/li&gt;
	&lt;li&gt;maintains the validity of HBaseConfiguration&apos;s existing check that global MemStore + LruBlockCache == 0.8&lt;/li&gt;
	&lt;li&gt;maps &quot;BucketCache&quot; into meaning &quot;a CombinedCache instance with these implementations for L1 and L2.&quot;&lt;/li&gt;
	&lt;li&gt;Figures out appropriate values for hbase.bucketcache.size and hbase.bucketcache.percentage.in.combinedcache&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12690435">HBASE-10403</key>
            <summary>Simplify offheap cache configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ndimiduk">Nick Dimiduk</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2014 23:33:30 +0000</created>
                <updated>Sun, 26 Jan 2014 02:24:40 +0000</updated>
                                                                            <component>io</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13879460" author="zjushch" created="Thu, 23 Jan 2014 05:41:10 +0000"  >&lt;p&gt;Current configuration is complex indeed.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; Could you upload a patch?&lt;br/&gt;
Thus,  I could understand better about the new configuration&lt;/p&gt;</comment>
                            <comment id="13880098" author="ndimiduk" created="Thu, 23 Jan 2014 17:17:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt; you noticed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Here&apos;s a sketch of the direction I&apos;m moving. A couple observation:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the logic in CacheConfig#instantiateBlockCache is pretty convoluted, with the different implementations all configured (or partially so) by the same if block&lt;/li&gt;
	&lt;li&gt;CombinedBlockCache and DoubleBlockCache are actually strategies for implementing a 2-level cache. It would be nice, for instance, for a SlabCache user to take advantage of the CombinedBlockCache strategy.&lt;/li&gt;
	&lt;li&gt;A little cleanup here will let us experiment with other caching strategies. IE, I&apos;d like to try a 3-level cache with different implementations for index blocks (L0), decompressed hot blocks (L1), and compressed cold/speculatively read blocks (L2).&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13880686" author="zjushch" created="Fri, 24 Jan 2014 03:01:23 +0000"  >&lt;p&gt;Patch seems great. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Comments:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-      lruCache.setVictimCache(bucketCache);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This code is missed when creating LruBlockCache.&lt;br/&gt;
In the method LruBlockCache#create, we should get BucketCache and set it as VictimCache&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isDirect &amp;amp;&amp;amp; (capacity + 64) &amp;gt; directSize) {&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here we should  use 64*1024*1024 instead of 64?  Using StringUtils#humanReadableInt to print the size would be better.&lt;/p&gt;</comment>
                            <comment id="13880693" author="zjushch" created="Fri, 24 Jan 2014 03:14:21 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    conf.setLong(BucketCache.BUCKET_CACHE_SIZE_KEY, bucketCacheSize);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;   
&lt;p&gt; Here should be &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;conf.setFloat(BucketCache.BUCKET_CACHE_SIZE_KEY, combinedPercentage*conf.getFloat(BucketCache.BUCKET_CACHE_SIZE_KEY));&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13881251" author="ndimiduk" created="Fri, 24 Jan 2014 18:24:49 +0000"  >&lt;p&gt;Thanks for the comments &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt;! I&apos;ll include them in the next patch. This was just a WIP I wanted to share to see if you liked the direct. So you like disentangling BlockCache instantiation into the static factory methods? Any complaint about the reflection business? Is there need for a more &quot;concrete&quot; factory type class, etc?&lt;/p&gt;

&lt;p&gt;Especially now in light of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6048&quot; title=&quot;Table Scan is failing if offheap cache enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6048&quot;&gt;HBASE-6048&lt;/a&gt; resurfacing, I think it&apos;s a good idea to decouple the multilevel cache strategies from the implementations they wrap. This will be more invasive, but it would allow a user to use CombinedBlockCache with SlabCache via configuration.&lt;/p&gt;

&lt;p&gt;What do you think about the idea of &quot;named&quot; configurations? IE, including some preset configuration by the name &quot;BucketCache offheap&quot;. Is that too much?&lt;/p&gt;</comment>
                            <comment id="13882146" author="zjushch" created="Sun, 26 Jan 2014 02:24:40 +0000"  >&lt;p&gt;As my personal thought,  I&apos;d like to fix the usage of BlockCache, Two much combination  would confuse the general users.&lt;/p&gt;

&lt;p&gt;In current configuration implementation with patch,  user should config the class name of &quot;hbase.block.cache.impl&quot;. For me, class name is hard to remember. Also setting it as &apos;CombinedBlockCache&apos; or &apos;DoubleBlockCache&apos; seems unfamiliar.&lt;br/&gt;
So, should we use the &apos;type&apos; instead of &apos;class name&apos;, just like Compression algorithm and DataBlockEncoding algorithm.&lt;br/&gt;
For example,&lt;br/&gt;
hbase.block.cache.type=&apos;LruCache&apos;, default value, use LruBlockCache.&lt;br/&gt;
hbase.block.cache.type=&apos;BucketCache&apos;, according to the value of &apos;hbase.bucketcache.ioengine&apos;,  construct the BlockCache.(&apos;heap&apos; or &apos;offheap&apos; use CombinedBlockCache, &apos;file&apos; use BucketCache directly as the L2 cache)&lt;br/&gt;
hbase.block.cache.type=&apos;SlabCache&apos;, use DoubleBlockCache.&lt;/p&gt;


&lt;p&gt;Finally,  I think the patch is quite well now. If we could set an familiar type value for BlockCache instead of detail class name, it will be better if I&apos;m a general user.&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624830" name="HBASE-10403.0.patch" size="35755" author="ndimiduk" created="Thu, 23 Jan 2014 17:17:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Jan 2014 05:41:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10402] [docs] Add docs on how to create and tag a point release.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10402</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I&apos;ve added a few steps to the &quot;How to release&quot; section of the ref guide based on what I learned about doing a quickie release.&lt;/p&gt;

&lt;p&gt;This is what I think I should have done &amp;#8211; if you disagree please suggest how it should be done.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690424">HBASE-10402</key>
            <summary>[docs] Add docs on how to create and tag a point release.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmhsieh">Jonathan Hsieh</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2014 23:00:16 +0000</created>
                <updated>Tue, 28 Jan 2014 01:08:40 +0000</updated>
                            <resolved>Mon, 27 Jan 2014 19:36:01 +0000</resolved>
                                                                    <component>documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13879323" author="jmhsieh" created="Wed, 22 Jan 2014 23:02:24 +0000"  >&lt;p&gt;patch and the html file generated from the docs build.&lt;/p&gt;</comment>
                            <comment id="13882092" author="stack" created="Sat, 25 Jan 2014 22:50:16 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Nice.&lt;/p&gt;</comment>
                            <comment id="13883384" author="hudson" created="Mon, 27 Jan 2014 21:49:56 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4859 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4859/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4859/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10402&quot; title=&quot;[docs] Add docs on how to create and tag a point release.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10402&quot;&gt;&lt;del&gt;HBASE-10402&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Add docs on how to create and tag a point release (jmhsieh: rev 1561804)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/docbkx/developer.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883595" author="hudson" created="Tue, 28 Jan 2014 01:08:40 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #67 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/67/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/67/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10402&quot; title=&quot;[docs] Add docs on how to create and tag a point release.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10402&quot;&gt;&lt;del&gt;HBASE-10402&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;docs&amp;#93;&lt;/span&gt; Add docs on how to create and tag a point release (jmhsieh: rev 1561804)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/docbkx/developer.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624458" name="book.html" size="22304" author="jmhsieh" created="Wed, 22 Jan 2014 23:02:23 +0000"/>
                            <attachment id="12624457" name="hbase-10402.patch" size="3188" author="jmhsieh" created="Wed, 22 Jan 2014 23:02:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 25 Jan 2014 22:50:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369382</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369383</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10401] [hbck] perform overlap group merges in parallel</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10401</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In a recent support case, we encountered a corrupt hbase that had thousands of &quot;overlap groups&quot; (regions that had overlapping key ranges).  The current implementation repairs these by serially taking a group, perorming a merge and then moving on to the next group.  Because assignments and hdfs nn operations are involved each merge could take on the order of seconds.  With thousands of overlap groups, this could take hours to complete.&lt;/p&gt;

&lt;p&gt;This patch makes it so that these independent merge groups are merged in parallel.  It uses the same thread pool for other fs info-gathering operations.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690368">HBASE-10401</key>
            <summary>[hbck] perform overlap group merges in parallel</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmhsieh">Jonathan Hsieh</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2014 20:14:24 +0000</created>
                <updated>Sat, 25 Jan 2014 13:50:40 +0000</updated>
                            <resolved>Thu, 23 Jan 2014 18:16:38 +0000</resolved>
                                    <version>0.92.2</version>
                    <version>0.98.0</version>
                    <version>0.94.16</version>
                    <version>0.99.0</version>
                    <version>0.96.1.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>0.94.17</fixVersion>
                                    <component>hbck</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13879145" author="jmhsieh" created="Wed, 22 Jan 2014 20:32:41 +0000"  >&lt;p&gt;applies to trunk, should apply to 0.96/0.98.&lt;/p&gt;</comment>
                            <comment id="13879149" author="jmhsieh" created="Wed, 22 Jan 2014 20:33:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10401&quot; title=&quot;[hbck] perform overlap group merges in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10401&quot;&gt;&lt;del&gt;HBASE-10401&lt;/del&gt;&lt;/a&gt; assumes &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10400&quot; title=&quot;[hbck] Continue if region dir missing on region merge attempt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10400&quot;&gt;&lt;del&gt;HBASE-10400&lt;/del&gt;&lt;/a&gt; is applied.  I&apos;ve attached a version that has the two pieces combined for the qabot to test.&lt;/p&gt;</comment>
                            <comment id="13879153" author="jmhsieh" created="Wed, 22 Jan 2014 20:36:28 +0000"  >&lt;p&gt;This was tested manually on a test cluster:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;created 500 regions with data&lt;/li&gt;
	&lt;li&gt;moved them off to another dir&lt;/li&gt;
	&lt;li&gt;drop then create again with 500 regions with different split points.&lt;/li&gt;
	&lt;li&gt;copy the first table&apos;s into region dirs.&lt;/li&gt;
	&lt;li&gt;run hbck.  We end up with 100 or so overlap groups.&lt;/li&gt;
	&lt;li&gt;run hbase hbck -fixOverlaps.&lt;/li&gt;
	&lt;li&gt;eventually we get back to a consistent state.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13879216" author="apurtell" created="Wed, 22 Jan 2014 21:39:12 +0000"  >&lt;p&gt;+1 for 0.98&lt;/p&gt;</comment>
                            <comment id="13879281" author="lhofhansl" created="Wed, 22 Jan 2014 22:31:42 +0000"  >&lt;p&gt;This should go into 0.94 as well.&lt;/p&gt;</comment>
                            <comment id="13879322" author="hadoopqa" created="Wed, 22 Jan 2014 23:02:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624420/hbase-10401.10400.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624420/hbase-10401.10400.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624420&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +  protected ExecutorService executor; // threads to retrieve data from regionservers, and handle region merges.&lt;br/&gt;
+        LOG.warn(&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot; + thread + &amp;quot;&amp;#93;&lt;/span&gt; HDFS region dir &quot; + contained.getHdfsRegionDir() + &quot; is missing. &quot; +&lt;br/&gt;
+        LOG.warn(&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot; + thread + &amp;quot;&amp;#93;&lt;/span&gt; HDFS region dir &quot; + contained.getHdfsRegionDir() + &quot; already sidelined.&quot;);&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8500//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13879421" author="jmhsieh" created="Thu, 23 Jan 2014 03:33:08 +0000"  >&lt;p&gt;v2 fixes bad line lengths.&lt;/p&gt;</comment>
                            <comment id="13880118" author="apurtell" created="Thu, 23 Jan 2014 17:40:38 +0000"  >&lt;p&gt;+1 for v2. You going to commit this today &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13880169" author="jmhsieh" created="Thu, 23 Jan 2014 18:15:49 +0000"  >&lt;p&gt;Thanks for the reviews.  Committed to 0.94, 0.96, 0.98 and trunk.&lt;/p&gt;</comment>
                            <comment id="13880174" author="jmhsieh" created="Thu, 23 Jan 2014 18:18:53 +0000"  >&lt;p&gt;attached what I committed to 0.94.  Its trivially different than trunk&apos;s.&lt;/p&gt;</comment>
                            <comment id="13880291" author="lhofhansl" created="Thu, 23 Jan 2014 19:59:04 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13881740" author="hudson" created="Sat, 25 Jan 2014 07:39:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-on-Hadoop-2 #3 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/3/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10401&quot; title=&quot;[hbck] perform overlap group merges in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10401&quot;&gt;&lt;del&gt;HBASE-10401&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; perform overlap group merges in parallel (jmhsieh: rev 1560776)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881749" author="hudson" created="Sat, 25 Jan 2014 08:32:02 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-security #392 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/392/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/392/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10401&quot; title=&quot;[hbck] perform overlap group merges in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10401&quot;&gt;&lt;del&gt;HBASE-10401&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; perform overlap group merges in parallel (jmhsieh: rev 1560776)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881754" author="hudson" created="Sat, 25 Jan 2014 08:43:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #100 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10401&quot; title=&quot;[hbck] perform overlap group merges in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10401&quot;&gt;&lt;del&gt;HBASE-10401&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; perform overlap group merges in parallel (jmhsieh: rev 1560779)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881763" author="hudson" created="Sat, 25 Jan 2014 09:02:18 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-JDK7 #32 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/32/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/32/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10401&quot; title=&quot;[hbck] perform overlap group merges in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10401&quot;&gt;&lt;del&gt;HBASE-10401&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; perform overlap group merges in parallel (jmhsieh: rev 1560776)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881766" author="hudson" created="Sat, 25 Jan 2014 09:04:08 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #269 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/269/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/269/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10401&quot; title=&quot;[hbck] perform overlap group merges in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10401&quot;&gt;&lt;del&gt;HBASE-10401&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; perform overlap group merges in parallel (jmhsieh: rev 1560775)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881777" author="hudson" created="Sat, 25 Jan 2014 09:33:22 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #63 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10401&quot; title=&quot;[hbck] perform overlap group merges in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10401&quot;&gt;&lt;del&gt;HBASE-10401&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; perform overlap group merges in parallel (jmhsieh: rev 1560774)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881786" author="hudson" created="Sat, 25 Jan 2014 09:37:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4853 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4853/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10401&quot; title=&quot;[hbck] perform overlap group merges in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10401&quot;&gt;&lt;del&gt;HBASE-10401&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; perform overlap group merges in parallel (jmhsieh: rev 1560774)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881795" author="hudson" created="Sat, 25 Jan 2014 09:43:09 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1265 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1265/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1265/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10401&quot; title=&quot;[hbck] perform overlap group merges in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10401&quot;&gt;&lt;del&gt;HBASE-10401&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; perform overlap group merges in parallel (jmhsieh: rev 1560776)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881851" author="hudson" created="Sat, 25 Jan 2014 12:57:00 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #185 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/185/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/185/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10401&quot; title=&quot;[hbck] perform overlap group merges in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10401&quot;&gt;&lt;del&gt;HBASE-10401&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; perform overlap group merges in parallel (jmhsieh: rev 1560775)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881892" author="hudson" created="Sat, 25 Jan 2014 13:50:40 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/107/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10401&quot; title=&quot;[hbck] perform overlap group merges in parallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10401&quot;&gt;&lt;del&gt;HBASE-10401&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; perform overlap group merges in parallel (jmhsieh: rev 1560779)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624420" name="hbase-10401.10400.patch" size="10221" author="jmhsieh" created="Wed, 22 Jan 2014 20:33:42 +0000"/>
                            <attachment id="12624419" name="hbase-10401.patch" size="9928" author="jmhsieh" created="Wed, 22 Jan 2014 20:32:41 +0000"/>
                            <attachment id="12624852" name="hbase-10401.v2.94.patch" size="10170" author="jmhsieh" created="Thu, 23 Jan 2014 18:18:53 +0000"/>
                            <attachment id="12624848" name="hbase-10401.v2.patch" size="10024" author="jmhsieh" created="Thu, 23 Jan 2014 18:14:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Jan 2014 21:39:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369326</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369327</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10400] [hbck] Continue if region dir missing on region merge attempt</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10400</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In a recent support case, the hbck repair tool would eventually hang because we didn&apos;t handle the case where merge info is old using hadoop2 fs.listStatus semantics (throw exn instead of return null).  this is a trivial patch that handles the newer hadoop2 semantics.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690363">HBASE-10400</key>
            <summary>[hbck] Continue if region dir missing on region merge attempt</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmhsieh">Jonathan Hsieh</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2014 19:54:56 +0000</created>
                <updated>Sat, 25 Jan 2014 13:50:40 +0000</updated>
                            <resolved>Thu, 23 Jan 2014 03:23:59 +0000</resolved>
                                    <version>0.92.2</version>
                    <version>0.94.16</version>
                    <version>0.96.1.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>0.94.17</fixVersion>
                                    <component>hbck</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13879111" author="jmhsieh" created="Wed, 22 Jan 2014 20:06:12 +0000"  >&lt;p&gt;Applies to trunk.&lt;/p&gt;</comment>
                            <comment id="13879118" author="jmhsieh" created="Wed, 22 Jan 2014 20:09:43 +0000"  >&lt;p&gt;also applies to 0.96/0.98.  I can do a 0.94 version if requested.&lt;/p&gt;</comment>
                            <comment id="13879166" author="hadoopqa" created="Wed, 22 Jan 2014 20:51:24 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624411/hbase-10400.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624411/hbase-10400.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624411&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestSplitTransaction&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8499//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13879215" author="apurtell" created="Wed, 22 Jan 2014 21:38:49 +0000"  >&lt;p&gt;+1 for 0.98&lt;/p&gt;</comment>
                            <comment id="13879407" author="jmhsieh" created="Thu, 23 Jan 2014 03:15:49 +0000"  >&lt;p&gt;Split transaction is unrelated.  Will be committing to 0.94 and up.&lt;/p&gt;</comment>
                            <comment id="13879408" author="jmhsieh" created="Thu, 23 Jan 2014 03:16:16 +0000"  >&lt;p&gt;This was tested on a cluster using running CDH4.x&apos;s hadoop2 flavor.&lt;/p&gt;</comment>
                            <comment id="13879413" author="jmhsieh" created="Thu, 23 Jan 2014 03:26:30 +0000"  >&lt;p&gt;patch applied to all branches (for 94 I applied via &apos;patch -p1 &amp;lt; xxx&apos;)&lt;/p&gt;</comment>
                            <comment id="13881741" author="hudson" created="Sat, 25 Jan 2014 07:39:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-on-Hadoop-2 #3 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/3/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10400&quot; title=&quot;[hbck] Continue if region dir missing on region merge attempt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10400&quot;&gt;&lt;del&gt;HBASE-10400&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; Continue if region dir missing on region merge attempt (jmhsieh: rev 1560579)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881750" author="hudson" created="Sat, 25 Jan 2014 08:32:02 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-security #392 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/392/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/392/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10400&quot; title=&quot;[hbck] Continue if region dir missing on region merge attempt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10400&quot;&gt;&lt;del&gt;HBASE-10400&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; Continue if region dir missing on region merge attempt (jmhsieh: rev 1560579)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881755" author="hudson" created="Sat, 25 Jan 2014 08:43:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #100 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10400&quot; title=&quot;[hbck] Continue if region dir missing on region merge attempt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10400&quot;&gt;&lt;del&gt;HBASE-10400&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; Continue if region dir missing on region merge attempt (jmhsieh: rev 1560578)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881764" author="hudson" created="Sat, 25 Jan 2014 09:02:19 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-JDK7 #32 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/32/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/32/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10400&quot; title=&quot;[hbck] Continue if region dir missing on region merge attempt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10400&quot;&gt;&lt;del&gt;HBASE-10400&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; Continue if region dir missing on region merge attempt (jmhsieh: rev 1560579)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881767" author="hudson" created="Sat, 25 Jan 2014 09:04:08 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #269 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/269/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/269/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10400&quot; title=&quot;[hbck] Continue if region dir missing on region merge attempt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10400&quot;&gt;&lt;del&gt;HBASE-10400&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; Continue if region dir missing on region merge attempt (jmhsieh: rev 1560580)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881778" author="hudson" created="Sat, 25 Jan 2014 09:33:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #63 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10400&quot; title=&quot;[hbck] Continue if region dir missing on region merge attempt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10400&quot;&gt;&lt;del&gt;HBASE-10400&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; Continue if region dir missing on region merge attempt (jmhsieh: rev 1560577)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881787" author="hudson" created="Sat, 25 Jan 2014 09:37:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4853 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4853/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10400&quot; title=&quot;[hbck] Continue if region dir missing on region merge attempt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10400&quot;&gt;&lt;del&gt;HBASE-10400&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; Continue if region dir missing on region merge attempt (jmhsieh: rev 1560577)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881796" author="hudson" created="Sat, 25 Jan 2014 09:43:09 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1265 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1265/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1265/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10400&quot; title=&quot;[hbck] Continue if region dir missing on region merge attempt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10400&quot;&gt;&lt;del&gt;HBASE-10400&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; Continue if region dir missing on region merge attempt (jmhsieh: rev 1560579)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881852" author="hudson" created="Sat, 25 Jan 2014 12:57:00 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #185 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/185/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/185/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10400&quot; title=&quot;[hbck] Continue if region dir missing on region merge attempt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10400&quot;&gt;&lt;del&gt;HBASE-10400&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; Continue if region dir missing on region merge attempt (jmhsieh: rev 1560580)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881893" author="hudson" created="Sat, 25 Jan 2014 13:50:40 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/107/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10400&quot; title=&quot;[hbck] Continue if region dir missing on region merge attempt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10400&quot;&gt;&lt;del&gt;HBASE-10400&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; Continue if region dir missing on region merge attempt (jmhsieh: rev 1560578)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624411" name="hbase-10400.patch" size="1457" author="jmhsieh" created="Wed, 22 Jan 2014 20:06:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Jan 2014 20:51:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369321</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369322</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10399] Add documentation for VerifyReplication to refguide</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10399</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HBase refguide currently doesn&apos;t document how VerifyReplication is used for comparing local table with remote table.&lt;/p&gt;

&lt;p&gt;Document for VerifyReplication should be added so that users know how to use it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690326">HBASE-10399</key>
            <summary>Add documentation for VerifyReplication to refguide</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="gustavoanatoly">Gustavo Anatoly</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2014 17:40:10 +0000</created>
                <updated>Thu, 30 Jan 2014 18:55:34 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13879012" author="stack" created="Wed, 22 Jan 2014 18:56:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; You going to do it?  Else suggest closing this issue.  If we had an issue for all that was undocumented we&apos;d be at 100k issues.&lt;/p&gt;</comment>
                            <comment id="13879392" author="gustavoanatoly" created="Thu, 23 Jan 2014 02:52:26 +0000"  >&lt;p&gt;I can do this task. This issue will remain open?&lt;/p&gt;</comment>
                            <comment id="13882063" author="stack" created="Sat, 25 Jan 2014 21:33:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gustavoanatoly&quot; class=&quot;user-hover&quot; rel=&quot;gustavoanatoly&quot;&gt;Gustavo Anatoly&lt;/a&gt; That is gracious of you.&lt;/p&gt;

&lt;p&gt;Wouldn&apos;t mind an answer to my question &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13882091" author="yuzhihong@gmail.com" created="Sat, 25 Jan 2014 22:49:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;You going to do it?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I can do this if Gustavo don&apos;t have time.&lt;/p&gt;</comment>
                            <comment id="13886901" author="gustavoanatoly" created="Thu, 30 Jan 2014 18:48:16 +0000"  >&lt;p&gt;Ted,&lt;/p&gt;

&lt;p&gt;I found some documentation about VerifyReplication on:&lt;br/&gt;
&lt;a href=&quot;http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/replication/package-summary.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/replication/package-summary.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We could complement these descriptions and add to refguide. What do you think about it?&lt;/p&gt;</comment>
                            <comment id="13886906" author="yuzhihong@gmail.com" created="Thu, 30 Jan 2014 18:51:43 +0000"  >&lt;p&gt;Sounds good.&lt;/p&gt;</comment>
                            <comment id="13886915" author="gustavoanatoly" created="Thu, 30 Jan 2014 18:55:34 +0000"  >&lt;p&gt;I will work on this. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Jan 2014 18:56:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369284</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10398] HBase book updates for Replication after HBASE-10322</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10398</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description></description>
                <environment></environment>
        <key id="12690313">HBASE-10398</key>
            <summary>HBase book updates for Replication after HBASE-10322</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2014 16:56:20 +0000</created>
                <updated>Wed, 22 Jan 2014 16:56:20 +0000</updated>
                                            <version>0.98.0</version>
                                                    <component>documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369272</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10397] Fix findbugs introduced from HBASE-9426</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10397</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Method org.apache.hadoop.hbase.client.HBaseAdmin.execProcedure(String, String, Map) makes inefficient use of keySet iterator instead of entrySet iterator&lt;/p&gt;

&lt;p&gt;Method org.apache.hadoop.hbase.client.HBaseAdmin.isProcedureFinished(String, String, Map) makes inefficient use of keySet iterator instead of entrySet iterator&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690243">HBASE-10397</key>
            <summary>Fix findbugs introduced from HBASE-9426</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2014 11:08:23 +0000</created>
                <updated>Wed, 22 Jan 2014 20:33:13 +0000</updated>
                            <resolved>Wed, 22 Jan 2014 17:20:19 +0000</resolved>
                                    <version>0.99.0</version>
                                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13878607" author="hadoopqa" created="Wed, 22 Jan 2014 12:51:43 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624325/HBASE-10397.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624325/HBASE-10397.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624325&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8496//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13878617" author="yuzhihong@gmail.com" created="Wed, 22 Jan 2014 12:58:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13878846" author="jmhsieh" created="Wed, 22 Jan 2014 17:11:02 +0000"  >&lt;p&gt;+1.  thanks!&lt;/p&gt;</comment>
                            <comment id="13878860" author="anoop.hbase" created="Wed, 22 Jan 2014 17:20:19 +0000"  >&lt;p&gt;Committed to Trunk.  Thanks Ted &amp;amp; Jon.&lt;/p&gt;</comment>
                            <comment id="13879148" author="hudson" created="Wed, 22 Jan 2014 20:33:13 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4849 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4849/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4849/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10397&quot; title=&quot;Fix findbugs introduced from HBASE-9426&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10397&quot;&gt;&lt;del&gt;HBASE-10397&lt;/del&gt;&lt;/a&gt; Fix findbugs introduced from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9426&quot; title=&quot;Make custom distributed barrier procedure pluggable &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9426&quot;&gt;&lt;del&gt;HBASE-9426&lt;/del&gt;&lt;/a&gt;. (anoopsamjohn: rev 1560427)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624325" name="HBASE-10397.patch" size="2015" author="anoop.hbase" created="Wed, 22 Jan 2014 11:09:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Jan 2014 12:51:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10396] The constructor of HBaseAdmin may close the shared HConnection </title>
                <link>https://issues.apache.org/jira/browse/HBASE-10396</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HBaseAdmin has the constructor:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; HBaseAdmin(Configuration c)
  &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; MasterNotRunningException, ZooKeeperConnectionException {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.conf = HBaseConfiguration.create(c);
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.connection = HConnectionManager.getConnection(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.conf);
    ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As shown in above code, HBaseAdmin will get a cached HConnection or create a new HConnection and use this HConnection to connect to Master. Then, HBaseAdmin will delete the HConnection when connecting to master fail as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ( &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; ){
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.connection.getMaster();
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (MasterNotRunningException mnre) {
        HConnectionManager.deleteStaleConnection(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.connection);
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.connection = HConnectionManager.getConnection(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.conf);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;The above code will invoke HConnectionManager#deleteStaleConnection to delete the HConnection from global HConnection cache. The risk is that the deleted HConnection might be sharing by other threads, such as HTable or HTablePool. Then, these threads which sharing the deleted HConnection will get closed HConnection exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation@61bc59aa closed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If users use HTablePool, the situation will become worse because closing HTable will only return HTable to HTablePool which won&apos;t reduce the reference count of the closed HConnection. Then, the closed HConnection will always be used before clearing HTablePool. In 0.94, some modules such as Rest server are using HTablePool, therefore may suffer from this problem. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12690224">HBASE-10396</key>
            <summary>The constructor of HBaseAdmin may close the shared HConnection </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cuijianwei">cuijianwei</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2014 08:53:52 +0000</created>
                <updated>Sun, 26 Jan 2014 11:57:19 +0000</updated>
                                            <version>0.94.16</version>
                                                    <component>Admin</component>
                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13878423" author="cuijianwei" created="Wed, 22 Jan 2014 09:00:11 +0000"  >&lt;p&gt;To alleviate this problem, we might invoke HConnection#close when connecting to Master fail. However, this won&apos;t close the HConnection immediately if the HConnection is sharing by other threads. Then, the same HConnection will be got in the next retry.&lt;/p&gt;</comment>
                            <comment id="13878436" author="zjushch" created="Wed, 22 Jan 2014 09:11:47 +0000"  >&lt;p&gt;Trunk seems fixed this problem.  Make a backport? &lt;/p&gt;</comment>
                            <comment id="13878481" author="cuijianwei" created="Wed, 22 Jan 2014 10:06:28 +0000"  >&lt;p&gt;Thanks for your comment &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt;, I go through the code of HBaseAdmin in trunk. The HConnection will be closed in HBaseAdmin#close so that fixed the problem. The code of HBaseAdmin changed a lot between 0.94 and trunk, will we supply a patch for 0.94 to fix this problem? &lt;/p&gt;</comment>
                            <comment id="13882093" author="stack" created="Sat, 25 Jan 2014 22:52:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cuijianwei&quot; class=&quot;user-hover&quot; rel=&quot;cuijianwei&quot;&gt;cuijianwei&lt;/a&gt; Go for it boss.&lt;/p&gt;</comment>
                            <comment id="13882228" author="cuijianwei" created="Sun, 26 Jan 2014 08:19:29 +0000"  >&lt;p&gt;will not delete as stale HConnection when connecting master fail &lt;/p&gt;</comment>
                            <comment id="13882231" author="cuijianwei" created="Sun, 26 Jan 2014 08:35:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; Thanks for your concern. I make a patch for 0.94 to use HConnectionManager#deleteConnection(Configuration) so that will not delete the shared HConnection if other threads are using it. BTW, There are two constructors of HBaseAdmin:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; HBaseAdmin(Configuration c) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; MasterNotRunningException, ZooKeeperConnectionException;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; and:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; HBaseAdmin(HConnection connection) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; MasterNotRunningException, ZooKeeperConnectionException;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The first constructor will retry when invoking HConnection#getMaster fail, which performing differently as the second constructor. The second constructor will not retry if connecting master fail. As HConnection#getMaster will also retry if connecting fail, is it reasonable that the first constructor will not retry when invoking HConnection#getMaster fail? Then, the two constructors will have the same action.&lt;/p&gt;</comment>
                            <comment id="13882235" author="zjushch" created="Sun, 26 Jan 2014 08:53:46 +0000"  >&lt;p&gt;After the patch, &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (MasterNotRunningException mnre) {
        HConnectionManager.deleteConnection(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.connection);
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.connection = HConnectionManager.getConnection(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.conf);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It means the connection  won&apos;t be changed in the while block since always get the cached one. Is it expected?&lt;/p&gt;

&lt;p&gt;I think we could  move the HBaseAdmin code from trunk to 0.94&lt;/p&gt;</comment>
                            <comment id="13882278" author="cuijianwei" created="Sun, 26 Jan 2014 11:48:32 +0000"  >&lt;p&gt;Backport trunk code for constructors of HBaseAdmin&lt;/p&gt;</comment>
                            <comment id="13882281" author="cuijianwei" created="Sun, 26 Jan 2014 11:57:19 +0000"  >&lt;p&gt;Thanks for your advice &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt;, I think moving trunk code of HBaseAdmin to 0.94 is a better choice. In patch 0.94-v1, HBaseAdmin might get a new HConnection only when all the other threads deleted the shared HConnection, which is not good enough. The trunk code of HBaseAdmin is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; HBaseAdmin(Configuration c)
  &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; MasterNotRunningException, ZooKeeperConnectionException, IOException {
    &lt;span class=&quot;code-comment&quot;&gt;// Will not leak connections, as the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; implementation of the constructor
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// does not &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; exceptions anymore.
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;(HConnectionManager.getConnection(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Configuration(c)));
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.cleanupConnectionOnClose = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
  }

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; HBaseAdmin(HConnection connection)
  &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; MasterNotRunningException, ZooKeeperConnectionException {
    ....
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The constructs of HBaseAdmin in trunk will not throw exceptions. However, in 0.94, HConnection#getMaster will throw exceptions in constructor which might cause Hconnection leak. Therefore, the second patch will not invoke HConnection#getMaster in HBaseAdmin. Then, HConnection#getMaster will be invoked when really needing to connect to master.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12625243" name="HBASE-10396-0.94-v1.patch" size="1450" author="cuijianwei" created="Sun, 26 Jan 2014 08:19:29 +0000"/>
                            <attachment id="12625250" name="HBASE-10396-0.94-v2.patch" size="2940" author="cuijianwei" created="Sun, 26 Jan 2014 11:48:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Jan 2014 09:11:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369183</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369184</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10395] endTime won&apos;t be set in VerifyReplication if startTime is not set</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10395</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In VerifyReplication, we may set startTime and endTime to restrict the data to verfiy. However, the endTime won&apos;t be set in the program if we only pass endTime without startTime in command line argument. The reason is the following code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (startTime != 0) {
          scan.setTimeRange(startTime,
              endTime == 0 ? HConstants.LATEST_TIMESTAMP : endTime);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The code will ignore endTime setting when not passing startTime in command line argument. Another place needs to improvement is the help message as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(&lt;span class=&quot;code-quote&quot;&gt;&quot; stoprow      end of the row&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, the program actually use &quot;endrow&quot; to parse the arguments:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; endTimeArgKey = &lt;span class=&quot;code-quote&quot;&gt;&quot;--endtime=&quot;&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cmd.startsWith(endTimeArgKey)) {
          endTime = &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.parseLong(cmd.substring(endTimeArgKey.length()));
          &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12690218">HBASE-10395</key>
            <summary>endTime won&apos;t be set in VerifyReplication if startTime is not set</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png">Patch Available</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="cuijianwei">cuijianwei</assignee>
                                    <reporter username="cuijianwei">cuijianwei</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2014 08:17:00 +0000</created>
                <updated>Sat, 25 Jan 2014 19:12:17 +0000</updated>
                                            <version>0.94.16</version>
                                    <fixVersion>0.98.1</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>mapreduce</component>
                    <component>Replication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13878390" author="cuijianwei" created="Wed, 22 Jan 2014 08:19:49 +0000"  >&lt;p&gt;This patch will set endTime and use &quot;endTime&quot; as the argument name in help message.&lt;/p&gt;</comment>
                            <comment id="13878418" author="hadoopqa" created="Wed, 22 Jan 2014 08:54:45 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624298/HBASE-10395-0.94-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624298/HBASE-10395-0.94-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624298&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8493//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8493//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13878428" author="cuijianwei" created="Wed, 22 Jan 2014 09:05:26 +0000"  >&lt;p&gt;attach patch for trunk&lt;/p&gt;</comment>
                            <comment id="13878444" author="cuijianwei" created="Wed, 22 Jan 2014 09:21:23 +0000"  >&lt;p&gt;set endTime in replication Scan&lt;/p&gt;</comment>
                            <comment id="13878454" author="cuijianwei" created="Wed, 22 Jan 2014 09:34:30 +0000"  >&lt;p&gt;polish&lt;/p&gt;</comment>
                            <comment id="13878525" author="hadoopqa" created="Wed, 22 Jan 2014 11:05:13 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624315/HBASE-10395-trunk-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624315/HBASE-10395-trunk-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624315&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8495//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13878527" author="hadoopqa" created="Wed, 22 Jan 2014 11:05:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624315/HBASE-10395-trunk-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624315/HBASE-10395-trunk-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624315&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.coprocessor.TestRegionObserverInterface.testHBase3583(TestRegionObserverInterface.java:244)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8494//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13878862" author="yuzhihong@gmail.com" created="Wed, 22 Jan 2014 17:23:07 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;:&lt;br/&gt;
Do you want this in 0.98 ?&lt;/p&gt;</comment>
                            <comment id="13878864" author="apurtell" created="Wed, 22 Jan 2014 17:24:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13878870" author="yuzhihong@gmail.com" created="Wed, 22 Jan 2014 17:29:11 +0000"  >&lt;p&gt;Integrated to 0.98 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Jianwei&lt;/p&gt;

&lt;p&gt;Thanks for the review, Andy.&lt;/p&gt;</comment>
                            <comment id="13879100" author="hudson" created="Wed, 22 Jan 2014 19:51:40 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #103 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/103/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/103/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10395&quot; title=&quot;endTime won&amp;#39;t be set in VerifyReplication if startTime is not set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10395&quot;&gt;HBASE-10395&lt;/a&gt; endTime won&apos;t be set in VerifyReplication if startTime is not set (Jianwei Cui) (Tedyu: rev 1560433)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13879147" author="hudson" created="Wed, 22 Jan 2014 20:33:13 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4849 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4849/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4849/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10395&quot; title=&quot;endTime won&amp;#39;t be set in VerifyReplication if startTime is not set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10395&quot;&gt;HBASE-10395&lt;/a&gt; endTime won&apos;t be set in VerifyReplication if startTime is not set (Jianwei Cui) (Tedyu: rev 1560434)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13879194" author="hudson" created="Wed, 22 Jan 2014 21:19:50 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #97 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/97/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/97/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10395&quot; title=&quot;endTime won&amp;#39;t be set in VerifyReplication if startTime is not set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10395&quot;&gt;HBASE-10395&lt;/a&gt; endTime won&apos;t be set in VerifyReplication if startTime is not set (Jianwei Cui) (Tedyu: rev 1560433)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881996" author="apurtell" created="Sat, 25 Jan 2014 19:12:17 +0000"  >&lt;p&gt;Moved to 0.98.1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624298" name="HBASE-10395-0.94-v1.patch" size="1815" author="cuijianwei" created="Wed, 22 Jan 2014 08:19:49 +0000"/>
                            <attachment id="12624308" name="HBASE-10395-0.94-v2.patch" size="2345" author="cuijianwei" created="Wed, 22 Jan 2014 09:21:23 +0000"/>
                            <attachment id="12624314" name="HBASE-10395-0.94-v3.patch" size="3064" author="cuijianwei" created="Wed, 22 Jan 2014 09:34:30 +0000"/>
                            <attachment id="12624305" name="HBASE-10395-trunk-v1.patch" size="1867" author="cuijianwei" created="Wed, 22 Jan 2014 09:05:26 +0000"/>
                            <attachment id="12624309" name="HBASE-10395-trunk-v2.patch" size="2397" author="cuijianwei" created="Wed, 22 Jan 2014 09:21:23 +0000"/>
                            <attachment id="12624315" name="HBASE-10395-trunk-v3.patch" size="3116" author="cuijianwei" created="Wed, 22 Jan 2014 09:34:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Jan 2014 08:54:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369178</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10394] Test for Replication with tags</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10394</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Followup task for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10322&quot; title=&quot;Strip tags from KV while sending back to client on reads&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10322&quot;&gt;&lt;del&gt;HBASE-10322&lt;/del&gt;&lt;/a&gt; for adding a test to assert Replication works well and replicate cells with Tags when tags are being used.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690210">HBASE-10394</key>
            <summary>Test for Replication with tags</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jan 2014 07:37:11 +0000</created>
                <updated>Wed, 22 Jan 2014 22:15:10 +0000</updated>
                            <resolved>Wed, 22 Jan 2014 22:15:10 +0000</resolved>
                                    <version>0.98.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13878443" author="hadoopqa" created="Wed, 22 Jan 2014 09:21:16 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624291/HBASE-10394.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624291/HBASE-10394.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624291&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8491//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13878966" author="apurtell" created="Wed, 22 Jan 2014 18:30:59 +0000"  >&lt;p&gt;+1 for trunk and 0.98. I will commit this shortly unless objection.&lt;/p&gt;</comment>
                            <comment id="13879267" author="apurtell" created="Wed, 22 Jan 2014 22:15:10 +0000"  >&lt;p&gt;Committed to trunk and 0.98. Looped the new test 20 times locally, passed every time.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624291" name="HBASE-10394.patch" size="10210" author="anoop.hbase" created="Wed, 22 Jan 2014 07:40:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Jan 2014 09:21:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369170</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10393] [fb-0.89] Expose a hook to compact files in hbase on the CLI</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10393</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Sometimes we need way to perform compactions outside of the regionserver, example before turning on the cluster. The task is to expose a way to compact files from the CLI without requiring a running RS.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690149">HBASE-10393</key>
            <summary>[fb-0.89] Expose a hook to compact files in hbase on the CLI</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="adela">Adela Maznikar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jan 2014 23:55:45 +0000</created>
                <updated>Wed, 22 Jan 2014 00:18:17 +0000</updated>
                                            <version>0.89-fb</version>
                                    <fixVersion>0.89-fb</fixVersion>
                                    <component>Compaction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13878060" author="stack" created="Wed, 22 Jan 2014 00:14:24 +0000"  >&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=adela&quot; class=&quot;user-hover&quot; rel=&quot;adela&quot;&gt;Adela Maznikar&lt;/a&gt;, we have a CompactionTool in trunk.  It might serve for inspiration.&lt;/p&gt;</comment>
                            <comment id="13878061" author="adela" created="Wed, 22 Jan 2014 00:15:58 +0000"  >&lt;p&gt;oh great, thanks stack! I wasn&apos;t aware of this&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Jan 2014 00:14:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369112</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10392] Correct references to hbase.regionserver.global.memstore.upperLimit</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10392</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;As part of the awesome new &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5349&quot; title=&quot;Automagically tweak global memstore and block cache sizes based on workload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5349&quot;&gt;&lt;del&gt;HBASE-5349&lt;/del&gt;&lt;/a&gt;, a couple references to &lt;tt&gt;hbase.regionserver.global.memstore.upperLimit&lt;/tt&gt; was missed. Clean those up to use the new &lt;tt&gt;hbase.regionserver.global.memstore.size&lt;/tt&gt; instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12690138">HBASE-10392</key>
            <summary>Correct references to hbase.regionserver.global.memstore.upperLimit</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png">Patch Available</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ndimiduk">Nick Dimiduk</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jan 2014 22:55:39 +0000</created>
                <updated>Sun, 26 Jan 2014 16:01:00 +0000</updated>
                                                            <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13877963" author="ndimiduk" created="Tue, 21 Jan 2014 22:59:13 +0000"  >&lt;p&gt;Does this look right, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13877970" author="stack" created="Tue, 21 Jan 2014 23:03:00 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="13878133" author="hadoopqa" created="Wed, 22 Jan 2014 01:39:06 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624213/HBASE-10392.0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624213/HBASE-10392.0.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624213&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8484//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13878198" author="anoop.hbase" created="Wed, 22 Jan 2014 03:15:48 +0000"  >&lt;p&gt;Thanks for finding out this Nick!  Sorry I missed&lt;br/&gt;
In other places where the new config is added, giving BC for the old config also.  So if old config alone is present then also this check should work correctly right?  We can handle that way?&lt;/p&gt;</comment>
                            <comment id="13878827" author="ndimiduk" created="Wed, 22 Jan 2014 16:53:29 +0000"  >&lt;p&gt;Ah you&apos;re right. I missed the occurrence in MemStoreFlusher. Currently it respects both the old and new parameter. Maybe we could continue respecting new or old but print a warning if the old is used? I&apos;ll update the patch to do that and we&apos;ll see what folks think.&lt;/p&gt;</comment>
                            <comment id="13878837" author="anoop.hbase" created="Wed, 22 Jan 2014 17:04:38 +0000"  >&lt;p&gt;In fact this check is duplicated at 2 places now. But HeapMemoryManager will get initialized only when the auto tuning is ON..  Thinking whether we can remove the check at HeapMemoryManager.&lt;/p&gt;</comment>
                            <comment id="13878890" author="ndimiduk" created="Wed, 22 Jan 2014 17:42:27 +0000"  >&lt;p&gt;It might me better if HeapMemoryManager would concede the check to HBaseConfiguration. Neither class are considering the presence of BucketCache running in heap mode, which I intend to address in a different ticket.&lt;/p&gt;</comment>
                            <comment id="13878901" author="ndimiduk" created="Wed, 22 Jan 2014 17:50:33 +0000"  >&lt;p&gt;Defer to o.a.h.conf.Configuration#addDeprecation where appropriate. Fix additional book references and fix site build.&lt;/p&gt;</comment>
                            <comment id="13878916" author="hadoopqa" created="Wed, 22 Jan 2014 18:02:43 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624378/HBASE-10392.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624378/HBASE-10392.1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624378&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 hadoop1.0&lt;/font&gt;.  The patch failed to compile against the hadoop 1.0 profile.&lt;br/&gt;
    Here is snippet of errors:&lt;/p&gt;
    &lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) on project hbase-common: Compilation failure: Compilation failure:
[ERROR] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:[51,15] sun.misc.Unsafe is Sun proprietary API and may be removed in a &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; release
[ERROR] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:[1110,19] sun.misc.Unsafe is Sun proprietary API and may be removed in a &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; release
[ERROR] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:[1116,21] sun.misc.Unsafe is Sun proprietary API and may be removed in a &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; release
[ERROR] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:[1121,28] sun.misc.Unsafe is Sun proprietary API and may be removed in a &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; release
[ERROR] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java:[103,8] cannot find symbol
--
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) on project hbase-common: Compilation failure
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
--
Caused by: org.apache.maven.plugin.CompilationFailureException: Compilation failure
	at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:729)
	at org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
	... 19 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8497//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8497//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13878972" author="ndimiduk" created="Wed, 22 Jan 2014 18:33:29 +0000"  >&lt;p&gt;once more for hadoop1 profile. this is less of a code change and more of a doc patch at this point...&lt;/p&gt;</comment>
                            <comment id="13879122" author="hadoopqa" created="Wed, 22 Jan 2014 20:12:41 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624388/HBASE-10392.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624388/HBASE-10392.2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624388&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8498//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13880102" author="ndimiduk" created="Thu, 23 Jan 2014 17:25:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; This is a small correction to check the correct configuration. Will I disrupt your process if I bring this into 0.98 in the next hour?&lt;/p&gt;</comment>
                            <comment id="13880105" author="ndimiduk" created="Thu, 23 Jan 2014 17:26:21 +0000"  >&lt;p&gt;Scratch that. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5349&quot; title=&quot;Automagically tweak global memstore and block cache sizes based on workload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5349&quot;&gt;&lt;del&gt;HBASE-5349&lt;/del&gt;&lt;/a&gt; was only applied to trunk. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; kindly disregard &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13880115" author="apurtell" created="Thu, 23 Jan 2014 17:37:46 +0000"  >&lt;p&gt;Ok &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13880129" author="ndimiduk" created="Thu, 23 Jan 2014 17:48:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; Let me correct the heap sizing checks in HeapMemoryManager as a part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10403&quot; title=&quot;Simplify offheap cache configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10403&quot;&gt;HBASE-10403&lt;/a&gt;, or perhaps after it. Maybe you can have a look at the BucketCache&apos;s onheap implementation and see if it needs to provide any additional metadata to be properly managed.&lt;/p&gt;</comment>
                            <comment id="13881260" author="ndimiduk" created="Fri, 24 Jan 2014 18:28:44 +0000"  >&lt;p&gt;I take lack of further commentary as lack of interest and acceptance of patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Will commit later today.&lt;/p&gt;</comment>
                            <comment id="13881329" author="anoop.hbase" created="Fri, 24 Jan 2014 19:17:51 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-      &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; globalMemstoreLimit = conf.getFloat(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.regionserver.global.memstore.upperLimit&quot;&lt;/span&gt;, 0.4f);
-      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; gml = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)(globalMemstoreLimit * CONVERT_TO_PERCENTAGE);
+      &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; globalMemstoreSize = conf.getFloat(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.regionserver.global.memstore.size&quot;&lt;/span&gt;, 0.4f);
+      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; gml = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)(globalMemstoreSize * CONVERT_TO_PERCENTAGE);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I was/am worried abt this change where we look at the new config alone.  What if a user configure hbase.regionserver.global.memstore.upperLimit (old) to 0.5 and HConstants.HFILE_BLOCK_CACHE_SIZE_KEY to 0.4 ?  This check will not find out that right?&lt;/p&gt;</comment>
                            <comment id="13882147" author="ndimiduk" created="Sun, 26 Jan 2014 02:28:47 +0000"  >&lt;p&gt;You&apos;re correct; that was depending on the Hadoop2 API. Now the logic in the two places is identical. Thanks.&lt;/p&gt;</comment>
                            <comment id="13882151" author="hadoopqa" created="Sun, 26 Jan 2014 02:38:21 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625234/HBASE-10392.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625234/HBASE-10392.3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625234&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8521//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8521//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13882154" author="ndimiduk" created="Sun, 26 Jan 2014 02:56:01 +0000"  >&lt;p&gt;rebased to trunk.&lt;/p&gt;</comment>
                            <comment id="13882168" author="hadoopqa" created="Sun, 26 Jan 2014 04:26:15 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12625236/HBASE-10392.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12625236/HBASE-10392.4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12625236&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8523//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13882333" author="anoop.hbase" created="Sun, 26 Jan 2014 16:01:00 +0000"  >&lt;p&gt;LGTM&lt;br/&gt;
BTW&lt;br/&gt;
MemStoreFlusher&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; oldValue = c.get(MEMSTORE_SIZE_OLD_KEY);
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (oldValue != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+      LOG.warn(MEMSTORE_SIZE_OLD_KEY + &lt;span class=&quot;code-quote&quot;&gt;&quot; is deprecated by &quot;&lt;/span&gt; + MEMSTORE_SIZE_KEY);
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This addition may be not needed. Already we check and log warn in HBaseConfiguration. Can avoid this duplicate log message.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624213" name="HBASE-10392.0.patch" size="6565" author="ndimiduk" created="Tue, 21 Jan 2014 22:59:13 +0000"/>
                            <attachment id="12624378" name="HBASE-10392.1.patch" size="10580" author="ndimiduk" created="Wed, 22 Jan 2014 17:50:33 +0000"/>
                            <attachment id="12624388" name="HBASE-10392.2.patch" size="10256" author="ndimiduk" created="Wed, 22 Jan 2014 18:33:29 +0000"/>
                            <attachment id="12625234" name="HBASE-10392.3.patch" size="10550" author="ndimiduk" created="Sun, 26 Jan 2014 02:28:47 +0000"/>
                            <attachment id="12625236" name="HBASE-10392.4.patch" size="9745" author="ndimiduk" created="Sun, 26 Jan 2014 02:56:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jan 2014 23:03:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10391] Deprecate KeyValue#getBuffer</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10391</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Make the deprecation a subtask of the parent.  Let the parent stand as an umbrella issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689965">HBASE-10391</key>
            <summary>Deprecate KeyValue#getBuffer</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12623342">HBASE-7320</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jan 2014 07:23:19 +0000</created>
                <updated>Wed, 22 Jan 2014 01:32:19 +0000</updated>
                            <resolved>Tue, 21 Jan 2014 08:21:19 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13877299" author="stack" created="Tue, 21 Jan 2014 07:24:09 +0000"  >&lt;p&gt;Carried over from parent issue.&lt;/p&gt;</comment>
                            <comment id="13877300" author="stack" created="Tue, 21 Jan 2014 07:25:03 +0000"  >&lt;p&gt;Or let me wait on @apuretll ok before committing....&lt;/p&gt;</comment>
                            <comment id="13877324" author="ram_krish" created="Tue, 21 Jan 2014 08:08:14 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;</comment>
                            <comment id="13877330" author="stack" created="Tue, 21 Jan 2014 08:21:19 +0000"  >&lt;p&gt;Committed to 0.98 and 0.99. Hope that ok &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13877342" author="hadoopqa" created="Tue, 21 Jan 2014 09:00:28 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624089/10391.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624089/10391.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624089&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8480//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13877384" author="hudson" created="Tue, 21 Jan 2014 11:07:11 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4842 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4842/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4842/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10391&quot; title=&quot;Deprecate KeyValue#getBuffer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10391&quot;&gt;&lt;del&gt;HBASE-10391&lt;/del&gt;&lt;/a&gt; Deprecate KeyValue#getBuffer (stack: rev 1559935)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13877398" author="hudson" created="Tue, 21 Jan 2014 11:32:22 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #91 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/91/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/91/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10391&quot; title=&quot;Deprecate KeyValue#getBuffer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10391&quot;&gt;&lt;del&gt;HBASE-10391&lt;/del&gt;&lt;/a&gt; Deprecate KeyValue#getBuffer (stack: rev 1559934)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-common/src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13877633" author="apurtell" created="Tue, 21 Jan 2014 17:29:34 +0000"  >&lt;p&gt;Sure, belated +1&lt;/p&gt;</comment>
                            <comment id="13878096" author="hudson" created="Wed, 22 Jan 2014 01:03:06 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #100 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/100/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/100/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10391&quot; title=&quot;Deprecate KeyValue#getBuffer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10391&quot;&gt;&lt;del&gt;HBASE-10391&lt;/del&gt;&lt;/a&gt; Deprecate KeyValue#getBuffer (stack: rev 1559934)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-common/src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13878124" author="hudson" created="Wed, 22 Jan 2014 01:32:19 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #61 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/61/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/61/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10391&quot; title=&quot;Deprecate KeyValue#getBuffer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10391&quot;&gt;&lt;del&gt;HBASE-10391&lt;/del&gt;&lt;/a&gt; Deprecate KeyValue#getBuffer (stack: rev 1559935)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624089" name="10391.txt" size="644" author="stack" created="Tue, 21 Jan 2014 07:24:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jan 2014 08:08:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368937</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10390] expose checkAndPut/Delete custom comparators thru HTable</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10390</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;checkAndPut/Delete appear to support custom comparators. However, thru HTable, there&apos;s no way to pass one, it always creates BinaryComparator from value. It would be good to expose the custom ones in the API.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689928">HBASE-10390</key>
            <summary>expose checkAndPut/Delete custom comparators thru HTable</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jan 2014 01:45:47 +0000</created>
                <updated>Tue, 21 Jan 2014 01:46:03 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12496562">HBASE-3468</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368899</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368900</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10389] Add namespace help info in table related shell commands</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10389</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently in the help info of table related shell command, we don&apos;t mention or give namespace as part of the table name.  &lt;br/&gt;
For example, to create table:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):001:0&amp;gt; help &apos;create&apos;
Creates a table. Pass a table name, and a set of column family
specifications (at least one), and, optionally, table configuration.
Column specification can be a simple string (name), or a dictionary
(dictionaries are described below in main help output), necessarily
including NAME attribute.
Examples:

  hbase&amp;gt; create &apos;t1&apos;, {NAME =&amp;gt; &apos;f1&apos;, VERSIONS =&amp;gt; 5}
  hbase&amp;gt; create &apos;t1&apos;, {NAME =&amp;gt; &apos;f1&apos;}, {NAME =&amp;gt; &apos;f2&apos;}, {NAME =&amp;gt; &apos;f3&apos;}
  hbase&amp;gt; # The above in shorthand would be the following:
  hbase&amp;gt; create &apos;t1&apos;, &apos;f1&apos;, &apos;f2&apos;, &apos;f3&apos;
  hbase&amp;gt; create &apos;t1&apos;, {NAME =&amp;gt; &apos;f1&apos;, VERSIONS =&amp;gt; 1, TTL =&amp;gt; 2592000, BLOCKCACHE =&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;}
  hbase&amp;gt; create &apos;t1&apos;, {NAME =&amp;gt; &apos;f1&apos;, CONFIGURATION =&amp;gt; {&apos;hbase.hstore.blockingStoreFiles&apos; =&amp;gt; &apos;10&apos;}}

Table configuration options can be put at the end.
Examples:

  hbase&amp;gt; create &apos;t1&apos;, &apos;f1&apos;, SPLITS =&amp;gt; [&apos;10&apos;, &apos;20&apos;, &apos;30&apos;, &apos;40&apos;]
  hbase&amp;gt; create &apos;t1&apos;, &apos;f1&apos;, SPLITS_FILE =&amp;gt; &apos;splits.txt&apos;, OWNER =&amp;gt; &apos;johndoe&apos;
  hbase&amp;gt; create &apos;t1&apos;, {NAME =&amp;gt; &apos;f1&apos;, VERSIONS =&amp;gt; 5}, METADATA =&amp;gt; { &apos;mykey&apos; =&amp;gt; &apos;myvalue&apos; }
  hbase&amp;gt; # Optionally pre-split the table into NUMREGIONS, using
  hbase&amp;gt; # SPLITALGO (&lt;span class=&quot;code-quote&quot;&gt;&quot;HexStringSplit&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;UniformSplit&quot;&lt;/span&gt; or classname)
  hbase&amp;gt; create &apos;t1&apos;, &apos;f1&apos;, {NUMREGIONS =&amp;gt; 15, SPLITALGO =&amp;gt; &apos;HexStringSplit&apos;}
  hbase&amp;gt; create &apos;t1&apos;, &apos;f1&apos;, {NUMREGIONS =&amp;gt; 15, SPLITALGO =&amp;gt; &apos;HexStringSplit&apos;, CONFIGURATION =&amp;gt; {&apos;hbase.hregion.scan.loadColumnFamiliesOnDemand&apos; =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}}

You can also keep around a reference to the created table:

  hbase&amp;gt; t1 = create &apos;t1&apos;, &apos;f1&apos;

Which gives you a reference to the table named &apos;t1&apos;, on which you can then
call methods.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We should document the usage of namespace in these commands.&lt;br/&gt;
For example:&lt;/p&gt;

&lt;p&gt;#namespace=foo and table qualifier=bar&lt;br/&gt;
create &apos;foo:bar&apos;, &apos;fam&apos;&lt;/p&gt;

&lt;p&gt;#namespace=default and table qualifier=bar&lt;br/&gt;
create &apos;bar&apos;, &apos;fam&apos;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689922">HBASE-10389</key>
            <summary>Add namespace help info in table related shell commands</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jinghe">Jerry He</assignee>
                                    <reporter username="jinghe">Jerry He</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jan 2014 00:32:26 +0000</created>
                <updated>Fri, 24 Jan 2014 20:00:46 +0000</updated>
                                            <version>0.96.0</version>
                    <version>0.96.1</version>
                                                    <component>shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13877937" author="jmhsieh" created="Tue, 21 Jan 2014 22:35:05 +0000"  >&lt;p&gt;sounds great.  is a patch coming?&lt;/p&gt;</comment>
                            <comment id="13878319" author="jinghe" created="Wed, 22 Jan 2014 06:21:48 +0000"  >&lt;p&gt;I will do an initial survey of those commands, and get comments from there.&lt;/p&gt;</comment>
                            <comment id="13880705" author="apurtell" created="Fri, 24 Jan 2014 04:22:27 +0000"  >&lt;p&gt;No patch, unscheduling.&lt;/p&gt;</comment>
                            <comment id="13881371" author="enis" created="Fri, 24 Jan 2014 20:00:46 +0000"  >&lt;p&gt;There is some documentation here: &lt;a href=&quot;http://hbase.apache.org/book/namespace.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book/namespace.html&lt;/a&gt;&lt;br/&gt;
We can use this as a base. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jan 2014 22:35:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368893</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368894</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10388] Add export control notice in README</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10388</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;A discussion on general@incubator for Twill mentioned that the (out-of-date?) document at &lt;a href=&quot;http://www.apache.org/dev/crypto.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.apache.org/dev/crypto.html&lt;/a&gt; suggests an export notice in the project README. I know Apache Accumulo added a transparent encryption feature recently and found an export notice in their README on their trunk. Adding one to ours out of an abundance of caution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689909">HBASE-10388</key>
            <summary>Add export control notice in README</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apurtell">Andrew Purtell</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2014 23:17:46 +0000</created>
                <updated>Wed, 22 Jan 2014 01:32:19 +0000</updated>
                            <resolved>Tue, 21 Jan 2014 00:20:49 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.99.0</version>
                                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13876988" author="apurtell" created="Mon, 20 Jan 2014 23:44:50 +0000"  >&lt;p&gt;I&apos;m not able to get the site target to build (trust anchors are empty) but emacs did validate the XML I put together.&lt;/p&gt;</comment>
                            <comment id="13877009" author="stack" created="Tue, 21 Jan 2014 00:11:00 +0000"  >&lt;p&gt;Go for it Andrew.&lt;/p&gt;</comment>
                            <comment id="13877021" author="apurtell" created="Tue, 21 Jan 2014 00:20:49 +0000"  >&lt;p&gt;Committed to trunk. Thanks Stack.&lt;/p&gt;</comment>
                            <comment id="13877220" author="hudson" created="Tue, 21 Jan 2014 05:33:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4840 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4840/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4840/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10388&quot; title=&quot;Add export control notice in README&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10388&quot;&gt;&lt;del&gt;HBASE-10388&lt;/del&gt;&lt;/a&gt;. Add export control notice in README (apurtell: rev 1559858)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/README.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/site/xdoc/export_control.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/site/xdoc/index.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13878123" author="hudson" created="Wed, 22 Jan 2014 01:32:19 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #61 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/61/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/61/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10388&quot; title=&quot;Add export control notice in README&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10388&quot;&gt;&lt;del&gt;HBASE-10388&lt;/del&gt;&lt;/a&gt;. Add export control notice in README (apurtell: rev 1559858)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/README.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/site/xdoc/export_control.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/site/xdoc/index.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12627246">HBASE-7544</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12624034" name="10388.patch" size="4227" author="apurtell" created="Mon, 20 Jan 2014 23:44:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jan 2014 00:11:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368881</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10387] Add config option to LoadTestTool which allows skipping call to System.exit()</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10387</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I was running Hoya load test which uses LoadTestTool.&lt;br/&gt;
The load was successful. However Hoya test failed with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Command was/bin/sh -c cd /home/yarn/hoya/hoya-funtest &amp;amp;&amp;amp; /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.9.x86_64/jre/bin/java -Xmx1024m -XX:+HeapDumpOnOutOfMemoryError -jar /home/yarn/hoya/hoya-funtest/target/surefire/surefirebooter274017860635722411.jar /home/yarn/hoya/hoya-funtest/target/surefire/surefire6543037778494048137tmp /home/yarn/hoya/hoya-funtest/target/surefire/surefire_07364766695548839031tmp
[ERROR] -&amp;gt; [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.16:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) on project hoya-funtest: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.16:test failed: The forked VM terminated without saying properly goodbye. VM crash or &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit called ?
Command was/bin/sh -c cd /home/yarn/hoya/hoya-funtest &amp;amp;&amp;amp; /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.9.x86_64/jre/bin/java -Xmx1024m -XX:+HeapDumpOnOutOfMemoryError -jar /home/yarn/hoya/hoya-funtest/target/surefire/surefirebooter274017860635722411.jar /home/yarn/hoya/hoya-funtest/target/surefire/surefire6543037778494048137tmp /home/yarn/hoya/hoya-funtest/target/surefire/surefire_07364766695548839031tmp
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:224)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:317)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:317)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:152)
        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:555)
        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:214)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:158)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:601)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
Caused by: org.apache.maven.plugin.PluginExecutionException: Execution &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.16:test failed: The forked VM terminated without saying properly goodbye. VM crash or &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit called ?
Command was/bin/sh -c cd /home/yarn/hoya/hoya-funtest &amp;amp;&amp;amp; /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.9.x86_64/jre/bin/java -Xmx1024m -XX:+HeapDumpOnOutOfMemoryError -jar /home/yarn/hoya/hoya-funtest/target/surefire/surefirebooter274017860635722411.jar /home/yarn/hoya/hoya-funtest/target/surefire/surefire6543037778494048137tmp /home/yarn/hoya/hoya-funtest/target/surefire/surefire_07364766695548839031tmp
        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:115)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
        ... 19 more
Caused by: java.lang.RuntimeException: The forked VM terminated without saying properly goodbye. VM crash or &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit called ?
Command was/bin/sh -c cd /home/yarn/hoya/hoya-funtest &amp;amp;&amp;amp; /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.9.x86_64/jre/bin/java -Xmx1024m -XX:+HeapDumpOnOutOfMemoryError -jar /home/yarn/hoya/hoya-funtest/target/surefire/surefirebooter274017860635722411.jar /home/yarn/hoya/hoya-funtest/target/surefire/surefire6543037778494048137tmp /home/yarn/hoya/hoya-funtest/target/surefire/surefire_07364766695548839031tmp
        at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:485)
        at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:352)
        at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:158)
        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:958)
        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:822)
        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:720)
        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:106)
        ... 20 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This was due to the following call in doStaticMain():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit(ret);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;A config option can be added so that the above call is skipped in the case where LoadTestTool is activated from maven and load test succeeds.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689883">HBASE-10387</key>
            <summary>Add config option to LoadTestTool which allows skipping call to System.exit()</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2014 21:19:25 +0000</created>
                <updated>Mon, 20 Jan 2014 22:17:29 +0000</updated>
                            <resolved>Mon, 20 Jan 2014 21:58:35 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13876883" author="yuzhihong@gmail.com" created="Mon, 20 Jan 2014 21:51:37 +0000"  >&lt;p&gt;Patch v1 adds skip_sys_exit option.&lt;br/&gt;
At the end of successful load test, System.exit() would be skipped if this option was specified.&lt;/p&gt;</comment>
                            <comment id="13876893" author="apurtell" created="Mon, 20 Jan 2014 21:58:35 +0000"  >&lt;p&gt;Integration tests and unit tests can successfully use LoadTestTool. Suggest finding out how they do it and do that instead of introducing a hack.&lt;/p&gt;</comment>
                            <comment id="13876917" author="yuzhihong@gmail.com" created="Mon, 20 Jan 2014 22:17:29 +0000"  >&lt;p&gt;Should have consulted hbase-it module earlier &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624018" name="10387-v1.txt" size="1862" author="yuzhihong@gmail.com" created="Mon, 20 Jan 2014 21:51:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Jan 2014 21:58:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368854</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10386] MultiThreadedWriter should utilize LOG in waitForFinish()</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10386</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I was doing load test on a 0.98 cluster and saw the following in output:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-01-20 20:44:52,567 [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-2] INFO  client.HBaseAdmin (HBaseAdmin.java:enableTable(761)) - Enabled table test
Starting to write data...
Failed to write keys: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above was from call to System.out.println()&lt;/p&gt;

&lt;p&gt;There is LOG field in MultiThreadedWriter which is used in other methods except for waitForFinish()&lt;br/&gt;
waitForFinish() should utilize LOG as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689879">HBASE-10386</key>
            <summary>MultiThreadedWriter should utilize LOG in waitForFinish()</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2014 21:00:43 +0000</created>
                <updated>Mon, 20 Jan 2014 21:55:22 +0000</updated>
                            <resolved>Mon, 20 Jan 2014 21:55:22 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13876890" author="apurtell" created="Mon, 20 Jan 2014 21:55:22 +0000"  >&lt;p&gt;LoadTestTool reports other status updates via System.out and System.err. Better to change all or change none. Might as well change none, since nobody has asked for it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Jan 2014 21:55:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368850</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368851</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10385] ImportTsv to parse date time from typical loader formats</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10385</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Simple patch to enable parsing of standard date time fields from TSV files into Hbase.&lt;/p&gt;

&lt;p&gt;***************&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;57,62 ****&lt;/li&gt;
		&lt;/ul&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;57,70 ----&lt;br/&gt;
  import com.google.common.base.Splitter;&lt;br/&gt;
  import com.google.common.collect.Lists;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+ //2013-08-19T04:39:07&lt;br/&gt;
+ import java.text.DateFormat;&lt;br/&gt;
+ import java.util.*;&lt;br/&gt;
+ import java.text.SimpleDateFormat;&lt;br/&gt;
+ import java.text.ParseException;&lt;br/&gt;
+ &lt;br/&gt;
+ &lt;br/&gt;
+ &lt;br/&gt;
  /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Tool to import data from a TSV file.&lt;br/&gt;
   *&lt;br/&gt;
***************
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;220,229 ****&lt;br/&gt;
              getColumnOffset(timestampKeyColumnIndex),&lt;br/&gt;
              getColumnLength(timestampKeyColumnIndex));&lt;br/&gt;
          try 
{
!           return Long.parseLong(timeStampStr);
          }
&lt;p&gt; catch (NumberFormatException nfe) &lt;/p&gt;
{
            // treat this record as bad record
!           throw new BadTsvLineException(&quot;Invalid timestamp &quot; + timeStampStr);
          }
&lt;p&gt;        }&lt;/p&gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&amp;#8212; 228,239 ----&lt;br/&gt;
              getColumnOffset(timestampKeyColumnIndex),&lt;br/&gt;
              getColumnLength(timestampKeyColumnIndex));&lt;br/&gt;
          try &lt;/p&gt;
{
! 	    return Long.parseLong(timeStampStr);
          }
&lt;p&gt; catch (NumberFormatException nfe) &lt;/p&gt;
{
+ 	    // Try this record with string to date in mseconds long
+ 	    return extractTimestampInput(timeStampStr);
            // treat this record as bad record
!           //throw new BadTsvLineException(&quot;Invalid timestamp &quot; + timeStampStr);
          }
&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;***************&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;243,248 ****&lt;/li&gt;
		&lt;/ul&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;253,274 ----&lt;br/&gt;
          return lineBytes;&lt;br/&gt;
        }&lt;br/&gt;
      }&lt;br/&gt;
+  public static long extractTimestampInput(String strDate) throws BadTsvLineException{&lt;br/&gt;
+     final List&amp;lt;String&amp;gt; dateFormats = Arrays.asList(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;, &quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss&quot;);    &lt;br/&gt;
+ &lt;br/&gt;
+     for(String format: dateFormats)
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {+         SimpleDateFormat sdf = new SimpleDateFormat(format);+         try{
+             Date d= sdf.parse(strDate);
+ 	    long msecs = d.getTime();
+ 	    return msecs;
+         } catch (ParseException e) {
+ 	    //intentionally empty
+         }+     }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;+     // If we come here we have a problem with converting timestamps for this row.&lt;br/&gt;
+     throw new BadTsvLineException(&quot;Invalid timestamp &quot; + strDate); &lt;br/&gt;
+  } &lt;/p&gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;      public static class BadTsvLineException extends Exception {&lt;br/&gt;
        public BadTsvLineException(String err) {&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689859">HBASE-10385</key>
            <summary>ImportTsv to parse date time from typical loader formats</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ericavijay">Vijay Sarvepali</reporter>
                        <labels>
                            <label>importtsv</label>
                    </labels>
                <created>Mon, 20 Jan 2014 19:22:26 +0000</created>
                <updated>Tue, 21 Jan 2014 01:10:40 +0000</updated>
                                            <version>0.96.1.1</version>
                                                    <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="13876885" author="stack" created="Mon, 20 Jan 2014 21:51:46 +0000"  >&lt;p&gt;Thank you for the contrib &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ericavijay&quot; class=&quot;user-hover&quot; rel=&quot;ericavijay&quot;&gt;Vijay Sarvepali&lt;/a&gt;.  Would you mind formatting it as a patch file attached to the issue and having the code follow the convention of the rest of the code base (see the reference guide on how to contribute if you need more).  Also, this looks like a behavior that should be optional?&lt;/p&gt;</comment>
                            <comment id="13877024" author="ndimiduk" created="Tue, 21 Jan 2014 00:25:27 +0000"  >&lt;p&gt;The design of ImportTsv makes is customary to add &quot;business logic&quot; by way of specifying a custom mapper. Field conversion strikes me as a feature implemented through precisely such means. Have a look at &lt;tt&gt;-Dimporttsv.mapper.class&lt;/tt&gt; as &lt;a href=&quot;http://hbase.apache.org/book/ops_mgt.html#importtsv&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;documented&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If we had loads of folks banging down the door demanding this feature, I&apos;d be inclined to reconsider, but this is the first request I&apos;m aware of.&lt;/p&gt;</comment>
                            <comment id="13877048" author="ericavijay" created="Tue, 21 Jan 2014 00:59:45 +0000"  >&lt;p&gt;Hi Nick,&lt;/p&gt;

&lt;p&gt;Got it.  I will just wait to see how this can help.  I found the change handy to import a bunch of text files, may be I will just write a simple custom mapper class.&lt;/p&gt;

&lt;p&gt;Regards&lt;br/&gt;
Vijay&lt;/p&gt;</comment>
                            <comment id="13877061" author="ericavijay" created="Tue, 21 Jan 2014 01:10:40 +0000"  >&lt;p&gt;My first heroic attempt to patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624051" name="HBASE-10385.patch" size="1875" author="ericavijay" created="Tue, 21 Jan 2014 01:10:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Jan 2014 21:51:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368832</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10384] Failed to increment serveral columns in one Increment</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10384</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We have some problem to increment several columns of a row in one increment request.&lt;/p&gt;

&lt;p&gt;This one works, we can get all columns incremented as expected:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;      Increment inc1 = new Increment(row);
      inc1.addColumn(cf, Bytes.toBytes(&quot;counter_A&quot;), 1L);
      inc1.addColumn(cf, Bytes.toBytes(&quot;counter_B&quot;), 1L);
      inc1.addColumn(cf, Bytes.toBytes(&quot;counter_C&quot;), 1L);
      inc1.addColumn(cf, Bytes.toBytes(&quot;counter_D&quot;), 1L);
      testTable.increment(inc1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, this one just increments counter_A, other columns are reset to 1 instead of incremented:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;      Increment inc1 = new Increment(row);
      inc1.addColumn(cf, Bytes.toBytes(&quot;counter_B&quot;), 1L);
      inc1.addColumn(cf, Bytes.toBytes(&quot;counter_C&quot;), 1L);
      inc1.addColumn(cf, Bytes.toBytes(&quot;counter_A&quot;), 1L);
      inc1.addColumn(cf, Bytes.toBytes(&quot;counter_D&quot;), 1L);
      testTable.increment(inc1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="12689847">HBASE-10384</key>
            <summary>Failed to increment serveral columns in one Increment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jxiang">Jimmy Xiang</assignee>
                                    <reporter username="jxiang">Jimmy Xiang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2014 17:51:44 +0000</created>
                <updated>Wed, 22 Jan 2014 01:32:20 +0000</updated>
                            <resolved>Tue, 21 Jan 2014 00:11:50 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.99.0</version>
                    <version>0.96.1.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13876636" author="jxiang" created="Mon, 20 Jan 2014 18:01:22 +0000"  >&lt;p&gt;I see the problem on 0.96 tip too. So it should be in 0.98 as well.&lt;/p&gt;</comment>
                            <comment id="13876739" author="jmhsieh" created="Mon, 20 Jan 2014 19:18:40 +0000"  >&lt;p&gt;This seems like a blocker.  This is a semantics change from 0.94 right?&lt;/p&gt;</comment>
                            <comment id="13876745" author="stack" created="Mon, 20 Jan 2014 19:20:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt; This anything to do w/ our moving Increment to be a Mutation?  Or pb&apos;ing?&lt;/p&gt;</comment>
                            <comment id="13876781" author="jxiang" created="Mon, 20 Jan 2014 19:44:32 +0000"  >&lt;p&gt;At first, want to point out: 0.94 doesn&apos;t have this issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, it is very likely related to moving Increment to be a Mutation.  The root cause is that the cells in the familymap of Increment are not sorted any more (an ArrayList now). &lt;/p&gt;</comment>
                            <comment id="13876797" author="jxiang" created="Mon, 20 Jan 2014 19:52:01 +0000"  >&lt;p&gt;Append could have the same issue too since its cells are in an array list too. In 0.94, it is used to be a set.&lt;/p&gt;</comment>
                            <comment id="13876836" author="jxiang" created="Mon, 20 Jan 2014 20:32:34 +0000"  >&lt;p&gt;Append doesn&apos;t have the issue. It sorted the cells:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Collections.sort(family.getValue(), store.getComparator());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13876855" author="jxiang" created="Mon, 20 Jan 2014 20:59:03 +0000"  >&lt;p&gt;Fixed increment the same way as we do for Append. Added a unit test to cover it. The existing unit test for Append is good.&lt;/p&gt;</comment>
                            <comment id="13876868" author="stack" created="Mon, 20 Jan 2014 21:29:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;On commit, add comment on why you bother sorting.&lt;/p&gt;</comment>
                            <comment id="13876873" author="jxiang" created="Mon, 20 Jan 2014 21:34:10 +0000"  >&lt;p&gt;Sure. Thanks for the review.&lt;/p&gt;</comment>
                            <comment id="13876905" author="apurtell" created="Mon, 20 Jan 2014 22:08:59 +0000"  >&lt;p&gt;+1 with the comment for 0.98. WTF. Good catch.&lt;/p&gt;</comment>
                            <comment id="13876958" author="hadoopqa" created="Mon, 20 Jan 2014 23:13:04 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624012/hbase-10384.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624012/hbase-10384.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624012&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8477//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13877011" author="jxiang" created="Tue, 21 Jan 2014 00:11:50 +0000"  >&lt;p&gt;Integrated into 0.96, 0.98, and trunk. Thanks.&lt;/p&gt;</comment>
                            <comment id="13877126" author="hudson" created="Tue, 21 Jan 2014 02:48:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4839 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4839/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4839/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10384&quot; title=&quot;Failed to increment serveral columns in one Increment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10384&quot;&gt;&lt;del&gt;HBASE-10384&lt;/del&gt;&lt;/a&gt; Failed to increment serveral columns in one Increment (jxiang: rev 1559855)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13877143" author="hudson" created="Tue, 21 Jan 2014 03:27:43 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #264 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/264/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/264/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10384&quot; title=&quot;Failed to increment serveral columns in one Increment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10384&quot;&gt;&lt;del&gt;HBASE-10384&lt;/del&gt;&lt;/a&gt; Failed to increment serveral columns in one Increment (jxiang: rev 1559857)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13877159" author="ram_krish" created="Tue, 21 Jan 2014 03:59:38 +0000"  >&lt;p&gt;Nice one. belated +1.&lt;/p&gt;</comment>
                            <comment id="13877172" author="hudson" created="Tue, 21 Jan 2014 04:23:01 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #97 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/97/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/97/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10384&quot; title=&quot;Failed to increment serveral columns in one Increment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10384&quot;&gt;&lt;del&gt;HBASE-10384&lt;/del&gt;&lt;/a&gt; Failed to increment serveral columns in one Increment (jxiang: rev 1559856)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13877238" author="hudson" created="Tue, 21 Jan 2014 05:57:25 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #90 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/90/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/90/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10384&quot; title=&quot;Failed to increment serveral columns in one Increment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10384&quot;&gt;&lt;del&gt;HBASE-10384&lt;/del&gt;&lt;/a&gt; Failed to increment serveral columns in one Increment (jxiang: rev 1559856)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13877431" author="hudson" created="Tue, 21 Jan 2014 12:36:48 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #182 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/182/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/182/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10384&quot; title=&quot;Failed to increment serveral columns in one Increment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10384&quot;&gt;&lt;del&gt;HBASE-10384&lt;/del&gt;&lt;/a&gt; Failed to increment serveral columns in one Increment (jxiang: rev 1559857)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13878126" author="hudson" created="Wed, 22 Jan 2014 01:32:20 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #61 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/61/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/61/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10384&quot; title=&quot;Failed to increment serveral columns in one Increment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10384&quot;&gt;&lt;del&gt;HBASE-10384&lt;/del&gt;&lt;/a&gt; Failed to increment serveral columns in one Increment (jxiang: rev 1559855)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624012" name="hbase-10384.patch" size="2682" author="jxiang" created="Mon, 20 Jan 2014 20:59:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Jan 2014 19:18:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368819</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368820</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10383] Secure Bulk Load for &apos;completebulkload&apos; fails for version 0.94.15</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10383</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Secure Bulk Load with kerberos enabled fails for Complete Bulk LoadLoadIncrementalHfile with following exception         ERROR org.apache.hadoop.hbase.regionserver.HRegionServer: &lt;br/&gt;
org.apache.hadoop.hbase.ipc.HBaseRPC$UnknownProtocolException: No matching handler for protocol org.apache.hadoop.hbase.security.access.SecureBulkLoadProtocol in region t1,,1389699438035.28bb0284d971d0676cf562efea80199b.&lt;br/&gt;
 at org.apache.hadoop.hbase.regionserver.HRegion.exec(HRegion.java)&lt;br/&gt;
 at org.apache.hadoop.hbase.regionserver.HRegionServer.execCoprocessor(HRegionServer.java)&lt;br/&gt;
 at sun.reflect.GeneratedMethodAccessor18.invoke(Unknown Source)&lt;br/&gt;
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)&lt;br/&gt;
 at java.lang.reflect.Method.invoke(Method.java)&lt;br/&gt;
 at org.apache.hadoop.hbase.ipc.SecureRpcEngine$Server.call(SecureRpcEngine.java)&lt;br/&gt;
 at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java) &lt;/p&gt;
</description>
                <environment></environment>
        <key id="12689819">HBASE-10383</key>
            <summary>Secure Bulk Load for &apos;completebulkload&apos; fails for version 0.94.15</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jesse_yates">Jesse Yates</assignee>
                                    <reporter username="kashifjs@huawei.com">Kashif J S</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2014 14:35:52 +0000</created>
                <updated>Sat, 25 Jan 2014 09:43:09 +0000</updated>
                            <resolved>Sat, 25 Jan 2014 01:21:06 +0000</resolved>
                                    <version>0.94.15</version>
                                    <fixVersion>0.94.17</fixVersion>
                                    <component>Coprocessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13876474" author="kashifjs@huawei.com" created="Mon, 20 Jan 2014 14:41:17 +0000"  >&lt;p&gt;This happens because the SecureBulkLoadClient tries to invoke &quot;bulkLoadHfiles&quot; with arguments passed as &quot;List, Token, String, Boolean&quot;  . But the SecureBulkLoadProtocol does not define any method with such signature.  &lt;br/&gt;
SecureBulkLoadProtocol has an interface bulkLoadHFiles(List&amp;lt;Pair&amp;lt;byte[], String&amp;gt;&amp;gt; familyPaths,&lt;br/&gt;
                         Token&amp;lt;?&amp;gt; userToken, String bulkToken)&lt;/p&gt;

&lt;p&gt;Hence the method invocation fails. &lt;/p&gt;</comment>
                            <comment id="13876703" author="lhofhansl" created="Mon, 20 Jan 2014 18:53:22 +0000"  >&lt;p&gt;Probably just this.&lt;br/&gt;
Is anybody in the position to test this?&lt;/p&gt;</comment>
                            <comment id="13876717" author="ndimiduk" created="Mon, 20 Jan 2014 18:59:54 +0000"  >&lt;p&gt;We have IntegrationTestBulkLoad, so this should be easy enough to test for someone with a secure cluster. Let me see about giving this a spin this afternoon.&lt;/p&gt;</comment>
                            <comment id="13876736" author="lhofhansl" created="Mon, 20 Jan 2014 19:17:20 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;.&lt;br/&gt;
I would have preferred if TestSecureLoadIncrementalHFiles had failed.&lt;br/&gt;
Actually, why &lt;b&gt;doesn&apos;t&lt;/b&gt; it fail? Looking through the code, it should have called exactly the method that fails, yet it passes locally (without this change here).&lt;/p&gt;

&lt;p&gt;I&apos;ll have a look at that, when as soon as I get a chance.&lt;/p&gt;</comment>
                            <comment id="13877038" author="ndimiduk" created="Tue, 21 Jan 2014 00:43:50 +0000"  >&lt;p&gt;Infra is on the fritz. Let me get back to you on this.&lt;/p&gt;</comment>
                            <comment id="13877204" author="kashifjs@huawei.com" created="Tue, 21 Jan 2014 05:20:08 +0000"  >&lt;p&gt;It still fails with the same exception probably bacuse it tries to invoke method with &quot;Boolean&quot; and not boolean. I am providing another patch which works in my Test.&lt;/p&gt;</comment>
                            <comment id="13877206" author="kashifjs@huawei.com" created="Tue, 21 Jan 2014 05:21:13 +0000"  >&lt;p&gt;Complete bulk load in Secure mode fix updated&lt;/p&gt;</comment>
                            <comment id="13877209" author="lhofhansl" created="Tue, 21 Jan 2014 05:24:31 +0000"  >&lt;p&gt;This was wrong on many levels &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
So this fixes it for you?&lt;/p&gt;

&lt;p&gt;Patch looks good. +1&lt;/p&gt;

</comment>
                            <comment id="13877212" author="lhofhansl" created="Tue, 21 Jan 2014 05:25:19 +0000"  >&lt;p&gt;Also figured why the test is not failing, it is actually not testing with secure HBase, since that requires Kerberos, which we cannot use the unit tests. Meh.&lt;/p&gt;</comment>
                            <comment id="13877628" author="toffer" created="Tue, 21 Jan 2014 17:24:47 +0000"  >&lt;p&gt;Kerberos authentication is not needed to test this api. There&apos;s actually two unit test classes:&lt;/p&gt;

&lt;p&gt;-TestSecureLoadIncrementalHFiles&lt;br/&gt;
-TestSecureLoadIncrementalHFilesSplitRecovery&lt;/p&gt;

&lt;p&gt;It seems something has caused these tests to run in non-secure mode thus not using the SecureBulkLoadClient and causing these tests to falsely pass.&lt;/p&gt;</comment>
                            <comment id="13877630" author="toffer" created="Tue, 21 Jan 2014 17:26:27 +0000"  >&lt;p&gt;Looks like this line:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    UserProvider.setUserProviderForTesting(util.getConfiguration(),
      HadoopSecurityEnabledUserProviderForTesting.class);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13877647" author="toffer" created="Tue, 21 Jan 2014 17:42:32 +0000"  >&lt;p&gt;Looks like the constructor to force LoadIncrementalHFiles to use the secure mode has been removed. I manually changed useSecure to true and looks like it&apos;s failing on renaming files. &lt;/p&gt;</comment>
                            <comment id="13877749" author="lhofhansl" created="Tue, 21 Jan 2014 19:08:18 +0000"  >&lt;p&gt;Yep. I found that too. HadoopSecurityEnabledUserProviderForTesting returns false from isHBaseSecurityEnabled. Need to fix that.&lt;/p&gt;</comment>
                            <comment id="13880185" author="lhofhansl" created="Thu, 23 Jan 2014 18:27:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesse_yates&quot; class=&quot;user-hover&quot; rel=&quot;jesse_yates&quot;&gt;Jesse Yates&lt;/a&gt;, that&apos;s actually from your change. Mind having a look?&lt;/p&gt;</comment>
                            <comment id="13880292" author="jesse_yates" created="Thu, 23 Jan 2014 20:00:04 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Looks like the constructor to force LoadIncrementalHFiles to use the secure mode has been removed. I manually changed useSecure to true and looks like it&apos;s failing on renaming files.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Removed since it was covered by setting the the UserProvider to one that would enable security. The extra boolean flag was not a pretty solution... too bad I did the cleanup wrong :-/ I&apos;ll work on patch that makes it right, should work together with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kashifjs%40huawei.com&quot; class=&quot;user-hover&quot; rel=&quot;kashifjs@huawei.com&quot;&gt;Kashif J S&lt;/a&gt;&apos;s.&lt;/p&gt;</comment>
                            <comment id="13880432" author="jesse_yates" created="Thu, 23 Jan 2014 22:16:25 +0000"  >&lt;p&gt;Sat with Lars for a little while and figured out what was going on.  The changes that need to be made are:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Adding in &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kashifjs%40huawei.com&quot; class=&quot;user-hover&quot; rel=&quot;kashifjs@huawei.com&quot;&gt;Kashif J S&lt;/a&gt;&apos;s changes - definitely needed&lt;/li&gt;
	&lt;li&gt;remove setting the UserProvider and add back in the boolean override flag
	&lt;ul&gt;
		&lt;li&gt;the default provider already says security is false in minicluster (so no tokens are created, which is currently happening). Setting the provider also messes with the mini-cluster configuration.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;SecureBulkLoadEndpoint does not honor DoNotRetryIOExceptions, so that needs to be rethrown to avoid endless retries (lines 172-200).
	&lt;ul&gt;
		&lt;li&gt;This case is covered in TestLoadIncrementalHFiles#testNonexistentColumnFamilyLoad()&lt;/li&gt;
		&lt;li&gt;It not clear how this worked at all...Essentially, the secure client has to do a doAs call, but that just ignores any exception thrown and returns false, which means &quot;recoverable exception&quot; from the HRegion return value. Unfortunately, its an annonymous inner class, so we have to do a little hacky to make it work around return values (but that&apos;s java for ya!).&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;SecureBulkLoads don&apos;t need an extra retry loop on the server callable
	&lt;ul&gt;
		&lt;li&gt;Actually, not strictly necessary, but does help the retry fix above.&lt;/li&gt;
		&lt;li&gt;The callable is actually wrapped in two layers (one from the BulkLoad client and one from the SecureBulkLoad client), leading to many more retries than necessary.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ll look into TestSecureLoadIncrementalHFilesSplitRecovery to see if that also needs a similar fix for the user provider (probably for the UP stuff, at a minimum).&lt;/p&gt;</comment>
                            <comment id="13880454" author="jesse_yates" created="Thu, 23 Jan 2014 22:28:09 +0000"  >&lt;p&gt;Attaching patch with the above changes.&lt;/p&gt;</comment>
                            <comment id="13880551" author="lhofhansl" created="Fri, 24 Jan 2014 00:35:37 +0000"  >&lt;p&gt;+1 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Nit:&lt;br/&gt;
&lt;tt&gt;useSecureHBaseOverride ? true : userProvider.isHBaseSecurityEnabled()&lt;/tt&gt;&lt;br/&gt;
is equivalent to&lt;br/&gt;
&lt;tt&gt;useSecureHBaseOverride || userProvider.isHBaseSecurityEnabled()&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;might be a bit easier to read.&lt;/p&gt;</comment>
                            <comment id="13880710" author="lhofhansl" created="Fri, 24 Jan 2014 04:36:45 +0000"  >&lt;p&gt;Going to commit to 0.94 unless you want to, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesse_yates&quot; class=&quot;user-hover&quot; rel=&quot;jesse_yates&quot;&gt;Jesse Yates&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13880711" author="jesse_yates" created="Fri, 24 Jan 2014 04:41:39 +0000"  >&lt;p&gt;Was gonna wait until someone else takes a look... Probably better to have&lt;br/&gt;
an outside reviewer&lt;/p&gt;
</comment>
                            <comment id="13880712" author="lhofhansl" created="Fri, 24 Jan 2014 04:43:59 +0000"  >&lt;p&gt;Sure. Seems uncontentious enough, though, and two committers looked at it.&lt;/p&gt;</comment>
                            <comment id="13880713" author="jesse_yates" created="Fri, 24 Jan 2014 04:47:38 +0000"  >&lt;p&gt;Two commiters who worked on it together...&lt;/p&gt;

&lt;p&gt;If anyone wants to comment, you have until tomorrow evening PST to either&lt;br/&gt;
+&amp;#45;1 or ask for more time.&lt;/p&gt;
</comment>
                            <comment id="13880772" author="kashifjs@huawei.com" created="Fri, 24 Jan 2014 06:58:06 +0000"  >&lt;p&gt;LGTM,  I will do a test to confirm if all works well today soon. &lt;br/&gt;
TestLoadIncrementalHFiles &amp;amp; TestLoadIncrementalHFilesSplitRecovery really need to introduce protected static boolean useSecureHBaseOverride = false; ?  &lt;br/&gt;
IMO, the default constructor for non secure mode is already setting it to non secure &lt;br/&gt;
public LoadIncrementalHFiles(Configuration conf) throws Exception &lt;/p&gt;
{
   this(conf, false);
  }

&lt;p&gt;Is there a need to modifyTestLoadIncrementalHFiles &amp;amp; TestLoadIncrementalHFilesSplitRecovery ? &lt;/p&gt;</comment>
                            <comment id="13880784" author="lhofhansl" created="Fri, 24 Jan 2014 07:16:35 +0000"  >&lt;p&gt;The patch restores what was there before. The problem is that we want to test the secure import but at the same do not want full security, since Kerberos does not work in our MiniClusters.&lt;/p&gt;</comment>
                            <comment id="13880811" author="kashifjs@huawei.com" created="Fri, 24 Jan 2014 08:25:59 +0000"  >&lt;p&gt;Yes Lars Hofhansl.&lt;br/&gt;
I have tested the patch, by first only modifying only the secure test cases and having old SecureBulkLoadProtocol and SecureBulkLoadEndPoint. The secure test cases FAIL in that case. So the TCs LG as they detect the failure now unlike before.&lt;/p&gt;

&lt;p&gt;After applying patch in SecureBulkLoadProtocol and SecureBulkLoadEndPoint, the test cases pass Successfully.&lt;/p&gt;

&lt;p&gt;Also in my cluster setup with Kerberos, the patch works fine and secure bulk load is Fine.&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="13880856" author="rajesh23" created="Fri, 24 Jan 2014 09:40:56 +0000"  >&lt;p&gt;Thanks for testing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kashifjs%40huawei.com&quot; class=&quot;user-hover&quot; rel=&quot;kashifjs@huawei.com&quot;&gt;Kashif J S&lt;/a&gt;. The patch working fine with kerberos. &lt;br/&gt;
+1&lt;/p&gt;</comment>
                            <comment id="13881590" author="jesse_yates" created="Sat, 25 Jan 2014 01:20:55 +0000"  >&lt;p&gt;Committed to 0.94. Thanks for the reviews and finding this bug!&lt;/p&gt;</comment>
                            <comment id="13881742" author="hudson" created="Sat, 25 Jan 2014 07:39:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-on-Hadoop-2 #3 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/3/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10383&quot; title=&quot;Secure Bulk Load for &amp;#39;completebulkload&amp;#39; fails for version 0.94.15&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10383&quot;&gt;&lt;del&gt;HBASE-10383&lt;/del&gt;&lt;/a&gt; Secure Bulk Load for &apos;completebulkload&apos; fails for version 0.94.15 (jyates: rev 1561243)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadProtocol.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/coprocessor/SecureBulkLoadClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/LoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/HadoopSecurityEnabledUserProviderForTesting.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881751" author="hudson" created="Sat, 25 Jan 2014 08:32:03 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-security #392 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/392/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/392/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10383&quot; title=&quot;Secure Bulk Load for &amp;#39;completebulkload&amp;#39; fails for version 0.94.15&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10383&quot;&gt;&lt;del&gt;HBASE-10383&lt;/del&gt;&lt;/a&gt; Secure Bulk Load for &apos;completebulkload&apos; fails for version 0.94.15 (jyates: rev 1561243)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadProtocol.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/coprocessor/SecureBulkLoadClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/LoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/HadoopSecurityEnabledUserProviderForTesting.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881765" author="hudson" created="Sat, 25 Jan 2014 09:02:19 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-JDK7 #32 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/32/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/32/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10383&quot; title=&quot;Secure Bulk Load for &amp;#39;completebulkload&amp;#39; fails for version 0.94.15&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10383&quot;&gt;&lt;del&gt;HBASE-10383&lt;/del&gt;&lt;/a&gt; Secure Bulk Load for &apos;completebulkload&apos; fails for version 0.94.15 (jyates: rev 1561243)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadProtocol.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/coprocessor/SecureBulkLoadClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/LoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/HadoopSecurityEnabledUserProviderForTesting.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881797" author="hudson" created="Sat, 25 Jan 2014 09:43:09 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1265 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1265/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1265/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10383&quot; title=&quot;Secure Bulk Load for &amp;#39;completebulkload&amp;#39; fails for version 0.94.15&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10383&quot;&gt;&lt;del&gt;HBASE-10383&lt;/del&gt;&lt;/a&gt; Secure Bulk Load for &apos;completebulkload&apos; fails for version 0.94.15 (jyates: rev 1561243)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadEndpoint.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadProtocol.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/coprocessor/SecureBulkLoadClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/LoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/HadoopSecurityEnabledUserProviderForTesting.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12646931">HBASE-8521</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12623985" name="10383.txt" size="2189" author="lhofhansl" created="Mon, 20 Jan 2014 18:53:22 +0000"/>
                            <attachment id="12624075" name="HBASE-10383-v2.patch" size="2586" author="kashifjs@huawei.com" created="Tue, 21 Jan 2014 05:21:13 +0000"/>
                            <attachment id="12624931" name="hbase-10383-jyates-0.94-v0.patch" size="16266" author="jesse_yates" created="Thu, 23 Jan 2014 22:28:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Jan 2014 18:53:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368791</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10382] HBase fails to start when hbase.rootdir contains a whitespace character</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10382</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When hbase.rootdir contains a whitespace, e.g. when it is set to &quot;C:\Program Files\...&quot; then HBase fails to start with the following exception being logged:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.IllegalArgumentException: Illegal character in path at index 50: file:/C:/Users/cwat-ggsenger/.dynaTrace/easyTravel 2.0.0/easyTravel/database/hbase-data/data
	at java.net.URI.create(URI.java:859)
	at org.apache.hadoop.fs.FileSystem.getDefaultUri(FileSystem.java:131)
	at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:123)
	at org.apache.hadoop.hbase.fs.HFileSystem.&amp;lt;init&amp;gt;(HFileSystem.java:79)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.handleReportForDutyResponse(HRegionServer.java:1182)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.run(HRegionServer.java:795)
	at java.lang.Thread.run(Thread.java:724)
Caused by: java.net.URISyntaxException: Illegal character in path at index 50: file:/C:/Users/cwat-ggsenger/.dynaTrace/easyTravel 2.0.0/easyTravel/database/hbase-data/data
	at java.net.URI$Parser.fail(URI.java:2829)
	at java.net.URI$Parser.checkChars(URI.java:3002)
	at java.net.URI$Parser.parseHierarchical(URI.java:3086)
	at java.net.URI$Parser.parse(URI.java:3034)
	at java.net.URI.&amp;lt;init&amp;gt;(URI.java:595)
	at java.net.URI.create(URI.java:857)
	... 6 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This does &lt;b&gt;not&lt;/b&gt; apply to the hbase.zookeeper.property.dataDir property, which may contain whitespace characters.&lt;/p&gt;

&lt;p&gt;I tried using a workaround by providing the complete URL instead of a path name (e.g. &lt;a href=&quot;file:/C:/Program%20Files/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/C:/Program%20Files/&lt;/a&gt;...) but in this case %20 is not interpreted as a whitespace but literally, so that HBase creates the path C:\Program%20Files\...&quot;.&lt;/p&gt;

&lt;p&gt;Finally I was able to create a workaround by using DOS-style path names like C:\PROGRA~1\....&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689797">HBASE-10382</key>
            <summary>HBase fails to start when hbase.rootdir contains a whitespace character</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggs">G G</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2014 11:47:03 +0000</created>
                <updated>Mon, 20 Jan 2014 11:47:03 +0000</updated>
                                            <version>0.96.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368769</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368770</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10381] HBase shell scripts do not handle whitespaces in path names</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10381</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When setting one of the HBASE_CONF_DIR, HBASE_LOG_DIR, or HBASE_CLASSPATH environment variables to a directory containing a whitespace, the Linux shell scripts to start/stop hbase daemons (bin/start-hbase.sh) resp. the scripts it calls stop working. I tried to create a patch for this but unfortunately my shell-script knowledge does not suffice.&lt;br/&gt;
In some lines, escaping the used environment variables seems to do the trick but I was not able to fix the code that builds the command line in bin/hbase which looks like this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;HBASE_OPTS=&quot;$HBASE_OPTS -Dhbase.log.dir=$HBASE_LOG_DIR&quot;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If HBASE_LOG_DIR is e.g. &quot;/tmp/foo bar&quot; then HBASE_OPTS becomes &quot;... -Dhbase.log.dir=/tmp/foo bar&quot; and when java is started it interprets bar as the main-class argument.&lt;/p&gt;

&lt;p&gt;On Windows, HBase would not start unless I escaped the HBASE_CONF_DIR environment variable using double quotes.&lt;/p&gt;

&lt;p&gt;If anyone has an idea on how to fix this, I could try to build a patch.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows, Linux&lt;/p&gt;</environment>
        <key id="12689793">HBASE-10381</key>
            <summary>HBase shell scripts do not handle whitespaces in path names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggs">G G</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2014 11:09:15 +0000</created>
                <updated>Mon, 20 Jan 2014 11:09:15 +0000</updated>
                                            <version>0.96.0</version>
                                                    <component>scripts</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368765</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368766</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10380] Add bytesBinary and filter options to CopyTable</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10380</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Add options in CopyTable to:&lt;br/&gt;
1. Specify the start and stop row in &quot;bytesBinary&quot; format &lt;br/&gt;
2. Use filters&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689780">HBASE-10380</key>
            <summary>Add bytesBinary and filter options to CopyTable</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png">Patch Available</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ishanc">Ishan Chhabra</assignee>
                                    <reporter username="ishanc">Ishan Chhabra</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2014 08:38:54 +0000</created>
                <updated>Wed, 22 Jan 2014 08:41:00 +0000</updated>
                                                                            <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13876257" author="ishanc" created="Mon, 20 Jan 2014 08:48:56 +0000"  >&lt;p&gt;For filters, the patch allows one to specify a file containing the filter in a serialized form. This seemed to be the only generic way to specify filters and allows complex filters (including filter lists).&lt;/p&gt;</comment>
                            <comment id="13876259" author="ishanc" created="Mon, 20 Jan 2014 08:49:33 +0000"  >&lt;p&gt;If the approach looks good, then I can build a patch for trunk.&lt;/p&gt;</comment>
                            <comment id="13876260" author="hadoopqa" created="Mon, 20 Jan 2014 08:52:41 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623922/HBASE_10380_0.94-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623922/HBASE_10380_0.94-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12623922&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8472//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8472//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13876722" author="ndimiduk" created="Mon, 20 Jan 2014 19:03:57 +0000"  >&lt;p&gt;The HBase process for applying changes is to start with trunk and work backwards to the released branches. Please post a patch against first trunk so we can get the process of patch review and acceptance started.&lt;/p&gt;</comment>
                            <comment id="13876880" author="ishanc" created="Mon, 20 Jan 2014 21:50:27 +0000"  >&lt;p&gt;Ok. Ill submit a trunk patch then. I tend to create 0.94 patches first since we are running that internally.&lt;/p&gt;</comment>
                            <comment id="13876900" author="apurtell" created="Mon, 20 Jan 2014 22:04:52 +0000"  >&lt;p&gt;I concur with Nick about starting with a trunk patch, but I looked at the attached patch anyhow. &lt;/p&gt;

&lt;p&gt;I don&apos;t like the idea of serializing and deserializing filters from a file. We have a filter than accepts a textual input language, see ParseFilter. If 0.94 doesn&apos;t support this than a backport could be in order, but ParseFilter for trunk definitely seems a better option to me. &lt;/p&gt;

&lt;p&gt;Check the imports on this patch, some unwanted/unneeded ones slipped through.&lt;/p&gt;</comment>
                            <comment id="13878402" author="ishanc" created="Wed, 22 Jan 2014 08:41:00 +0000"  >&lt;p&gt;Sure. I didn&apos;t know about ParseFiler. I tried to build my own textual language initially, but it became complicated quickly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623922" name="HBASE_10380_0.94-v1.patch" size="9330" author="ishanc" created="Mon, 20 Jan 2014 08:41:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Jan 2014 08:52:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368752</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368753</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10379] Lower the msg &quot;Request is a replay (34) - PROCESS_TGS&quot; from logging level ERROR to WARN</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10379</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Hi All,&lt;/p&gt;

&lt;p&gt;Recently we got the error msg &quot;Request is a replay (34) - PROCESS_TGS&quot; while we are using the HBase client API to put data into HBase-0.94.16 with krb5-1.6.1 enabled. The related msg as follows...&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[2014-01-15 09:40:38,452][hbase-tablepool-1-thread-3][ERROR][org.apache.hadoop.security.UserGroupInformation](org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1124)): PriviledgedActionException as:takeshi_miao@LAB cause:javax.security.sasl.SaslException: GSS initiate failed [Caused by GSSException: No valid credentials provided (Mechanism level: Request is a replay (34) - PROCESS_TGS)]
[2014-01-15 09:40:38,453][hbase-tablepool-1-thread-3][DEBUG][org.apache.hadoop.security.UserGroupInformation](org.apache.hadoop.security.UserGroupInformation.logPriviledgedAction(UserGroupInformation.java:1143)): PriviledgedAction as:takeshi_miao@LAB from:sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)                                                                                          
[2014-01-15 09:40:38,453][hbase-tablepool-1-thread-3][DEBUG][org.apache.hadoop.ipc.SecureClient](org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection$1.run(SecureClient.java:213)): Exception encountered &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; connecting to the server : javax.security.sasl.SaslException: GSS initiate failed [Caused by GSSException: No valid credentials provided (Mechanism level: Request is a replay (34) - PROCESS_TGS)]
[2014-01-15 09:40:38,454][hbase-tablepool-1-thread-3][INFO ][org.apache.hadoop.security.UserGroupInformation](org.apache.hadoop.security.UserGroupInformation.reloginFromTicketCache(UserGroupInformation.java:657)): Initiating logout &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; takeshi_miao@LAB
[2014-01-15 09:40:38,454][hbase-tablepool-1-thread-3][DEBUG][org.apache.hadoop.security.UserGroupInformation](org.apache.hadoop.security.UserGroupInformation$HadoopLoginModule.logout(UserGroupInformation.java:154)): hadoop logout
[2014-01-15 09:40:38,454][hbase-tablepool-1-thread-3][INFO ][org.apache.hadoop.security.UserGroupInformation](org.apache.hadoop.security.UserGroupInformation.reloginFromTicketCache(UserGroupInformation.java:667)): Initiating re-login &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; takeshi_miao@LAB
[2014-01-15 09:40:38,455][hbase-tablepool-1-thread-3][DEBUG][org.apache.hadoop.security.UserGroupInformation](org.apache.hadoop.security.UserGroupInformation$HadoopLoginModule.login(UserGroupInformation.java:146)): hadoop login
[2014-01-15 09:40:38,456][hbase-tablepool-1-thread-3][DEBUG][org.apache.hadoop.security.UserGroupInformation](org.apache.hadoop.security.UserGroupInformation$HadoopLoginModule.commit(UserGroupInformation.java:95)): hadoop login commit
[2014-01-15 09:40:38,456][hbase-tablepool-1-thread-3][DEBUG][org.apache.hadoop.security.UserGroupInformation](org.apache.hadoop.security.UserGroupInformation$HadoopLoginModule.commit(UserGroupInformation.java:100)): using existing subject:[takeshi_miao@LAB, UnixPrincipal: takeshi_miao, UnixNumericUserPrincipal: 501, UnixNumericGroupPrincipal [Primary Group]: 501, UnixNumericGroupPrincipal [Supplementary Group]: 502, takeshi_miao@LAB]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;At the beginning, we were worry about the &quot;data loss&quot; occurring while we found the &quot;Request is a replay (34) - PROCESS_TGS&quot; (especially it is the ERROR level) in log, but after code study, this is basically &lt;b&gt;NOT&lt;/b&gt; a data loss issue due to HBase client API would try 5 times internally (o.a.h.hbase.ipc.SecureClient, L#296, a one thread) and also 10 times of retry externally (o.a.h.hbase.client.HConnectionManager, L#1661, for all failed thread), The HTable API would also throw IOEcxeption to client code if any thread still fail after these retries.&lt;/p&gt;

&lt;p&gt;Based on HBase users&apos; viewpoint as us, we think this is better to change the logging level from &apos;ERROR&apos; to &apos;WARN&apos;, due to the &apos;ERROR&apos; level had been confused us for a while...But this code change may need to change boht HBase code and Hadoop code as well; so I am wondering how community think about this small thing but may be important to the pure HBase users.&lt;/p&gt;

&lt;p&gt;mailing list&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hbase-user/201401.mbox/%3CCADcMMgGiEyho0HGwgbfOUS78ymDpCo5Q0PStWAPUk40W%3DPfcFQ%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hbase-user/201401.mbox/%3CCADcMMgGiEyho0HGwgbfOUS78ymDpCo5Q0PStWAPUk40W%3DPfcFQ%40mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689746">HBASE-10379</key>
            <summary>Lower the msg &quot;Request is a replay (34) - PROCESS_TGS&quot; from logging level ERROR to WARN</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="takeshi.miao">takeshi.miao</assignee>
                                    <reporter username="takeshi.miao">takeshi.miao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2014 02:38:37 +0000</created>
                <updated>Fri, 24 Jan 2014 03:48:14 +0000</updated>
                                            <version>0.94.16</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13876105" author="takeshi.miao" created="Mon, 20 Jan 2014 02:39:22 +0000"  >&lt;p&gt;Will apply a patch later&lt;/p&gt;</comment>
                            <comment id="13879416" author="takeshi.miao" created="Thu, 23 Jan 2014 03:28:28 +0000"  >&lt;p&gt;I did some test on &lt;ins&gt;new version of Krb5-server (1.10.3), and seems this issue is mitigated&lt;/ins&gt;. I have been using 20-threads of HBase Client to put 7 records into one HTable with corresponding 7 regions scattered on three regionservers, with three round of tests; this simple test can simply reproduce this &apos;Request is a replay&apos; issue on the first environment (HBase-0.94.16 with krb5-server-1.6.1 on CentOS-5.3); But in second environment (HBase-0.94.16 with krb5-server-1.10.3 on RHEL-6.4_GA-x86_64-10-Hourly2 on AWS), I did not reproduce this issue. It seems that this issue was fixed in the later of krb5-server release.&lt;/p&gt;

&lt;p&gt;I did this test further on new version of krb5-server is due to I googled two tickets (&lt;a href=&quot;http://krbdev.mit.edu/rt/Ticket/Display.html?id=5924&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;#5924&lt;/a&gt; &amp;amp; &lt;a href=&quot;http://krbdev.mit.edu/rt/Ticket/Display.html?id=1201&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;#1201&lt;/a&gt;) whom were talking about &apos;&lt;em&gt;KRB5KRB_AP_ERR_REPEAT&lt;/em&gt;&apos; bug in krb5 community.&lt;/p&gt;
</comment>
                            <comment id="13879418" author="apurtell" created="Thu, 23 Jan 2014 03:29:59 +0000"  >&lt;p&gt;We should put this in the troubleshooting section of the manual. &lt;/p&gt;</comment>
                            <comment id="13879419" author="takeshi.miao" created="Thu, 23 Jan 2014 03:30:47 +0000"  >&lt;p&gt;I think that we still need a patch for this issue is due to we can not expect that what environments user may use for HBase.&lt;/p&gt;</comment>
                            <comment id="13879420" author="takeshi.miao" created="Thu, 23 Jan 2014 03:32:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;br/&gt;
Tks for quick review, do I need to open a new ticket for troubleshooting section in HBase book ?&lt;/p&gt;</comment>
                            <comment id="13880695" author="takeshi.miao" created="Fri, 24 Jan 2014 03:37:11 +0000"  >&lt;p&gt;opened a ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10411&quot; title=&quot;[Book] Add a kerberos &amp;#39;request is a replay (34)&amp;#39; issue at troubleshooting section&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10411&quot;&gt;HBASE-10411&lt;/a&gt; for troubleshooting docs&lt;/p&gt;</comment>
                            <comment id="13880697" author="takeshi.miao" created="Fri, 24 Jan 2014 03:48:14 +0000"  >&lt;p&gt;added &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-10274&quot; title=&quot;Lower the logging level from ERROR to WARN for UGI.doAs method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-10274&quot;&gt;&lt;del&gt;HADOOP-10274&lt;/del&gt;&lt;/a&gt; for discussing the logging level change at &lt;em&gt;o.a.hadoop.security,UserGroupInfo#doAs&lt;/em&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12690961">HBASE-10411</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12690959">HADOOP-10274</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Jan 2014 03:29:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368719</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10378] Divide HLog interface into User and Implementor specific interfaces</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10378</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5937&quot; title=&quot;Refactor HLog into an interface.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5937&quot;&gt;&lt;del&gt;HBASE-5937&lt;/del&gt;&lt;/a&gt; introduces the HLog interface as a first step to support multiple WAL implementations. This interface is a good start, but has some limitations/drawbacks in its current state, such as:&lt;br/&gt;
1) There is no clear distinction b/w User and Implementor APIs, and it provides APIs both for WAL users (append, sync, etc) and also WAL implementors (Reader/Writer interfaces, etc). There are APIs which are very much implementation specific (getFileNum, etc) and a user such as a RegionServer shouldn&apos;t know about it.&lt;br/&gt;
2) There are about 14 methods in FSHLog which are not present in HLog interface but are used at several places in the unit test code. These tests typecast HLog to FSHLog, which makes it very difficult to test multiple WAL implementations without doing some ugly checks.&lt;/p&gt;

&lt;p&gt;I&apos;d like to propose some changes in HLog interface that would ease the multi WAL story:&lt;/p&gt;

&lt;p&gt;1) Have two interfaces WAL and WALService. WAL provides APIs for implementors. WALService provides APIs for users (such as RegionServer).&lt;br/&gt;
2) A skeleton implementation of the above two interface as the base class for other WAL implementations (AbstractWAL). It provides required fields for all subclasses (fs, conf, log dir, etc). Make a minimal set of test only methods and add this set in AbstractWAL.&lt;br/&gt;
3) HLogFactory returns a WALService reference when creating a WAL instance; if a user need to access impl specific APIs (there are unit tests which get WAL from a HRegionServer and then call impl specific APIs), use AbstractWAL type casting,&lt;br/&gt;
4) Make TestHLog abstract and let all implementors provide their respective test class which extends TestHLog (TestFSHLog, for example).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689687">HBASE-10378</key>
            <summary>Divide HLog interface into User and Implementor specific interfaces</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12687287">HBASE-10278</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png">Patch Available</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="v.himanshu">Himanshu Vashishtha</reporter>
                        <labels>
                    </labels>
                <created>Sun, 19 Jan 2014 00:43:14 +0000</created>
                <updated>Mon, 3 Feb 2014 08:02:07 +0000</updated>
                                                                            <component>wal</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13875786" author="v.himanshu" created="Sun, 19 Jan 2014 00:50:53 +0000"  >&lt;p&gt;Attaching an initial patch implementing the above mentioned changes. Please have a look at the overall approach. Thanks.&lt;/p&gt;

&lt;p&gt;For testing, mvn clean test -PrunAllTests passes for both hadoop1 and hadoop2. Also ran the patched version on a test cluster/killing nodes and doing log splitting for basic sanity test. It looks good.&lt;/p&gt;</comment>
                            <comment id="13875796" author="hadoopqa" created="Sun, 19 Jan 2014 02:41:14 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623840/10378-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623840/10378-1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12623840&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 128 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8469//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13876174" author="ram_krish" created="Mon, 20 Jan 2014 06:17:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=himanshu%40cloudera.com&quot; class=&quot;user-hover&quot; rel=&quot;himanshu@cloudera.com&quot;&gt;Himanshu Vashishtha&lt;/a&gt;&lt;br/&gt;
Had a glance at the patch.  The WAL and WALService looks good.  &lt;br/&gt;
I have some basic questions, incase of rollWriter and replications (including starting the syncer and writer threads), should we have an implemenation for the WALservice where based on the number of hLogs those many syncer and writer threads need to be started along with the replicaiton services for them?  &lt;br/&gt;
Currently the HRS just instantiates one HLog and starts them.  What do you say?&lt;br/&gt;
I was having an idea of defining an interface called WALGrouper and every region server would use an type of this WALGrouper and this grouper would know how many hLog instance he is creating and for every instance those syncer and writer threads would be started. &lt;br/&gt;
And the api &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; WALService getWAL() {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;How will this make sense when there are more than one hlog for that RS?  I know that in ur current implementation there are only 2 HLog and one among them is going to be active? But what if my multiwal impl is not that way and i may have more than one active HLog?  &lt;br/&gt;
I can discuss with you offline too on some my concerns and questions that I had while doing &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8610&quot; title=&quot;Introduce interfaces to support MultiWAL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8610&quot;&gt;HBASE-8610&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13876942" author="v.himanshu" created="Mon, 20 Jan 2014 22:51:33 +0000"  >&lt;p&gt;Thanks for taking a look at the patch. These are really good questions, and are applicable for the current WAL implementation as well.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;should we have an implemenation for the WALservice where based on the number of hLogs those many syncer and writer threads need to be started along with the replicaiton services for them? Currently the HRS just instantiates one HLog and starts them. What do you say?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes,  that is definitely one possible implementation.&lt;/p&gt;

&lt;p&gt;Re: getWAL() api wrt grouping WALs:&lt;br/&gt;
Yes, the grouping logic needs to be extracted and made available, it can be either in HRS, or in the WAL implementor. One way is to use an array of WALService instances in HRegionServer, and let the WALGroup return an array to the region server? That way, the region server could invoke its usual method (append/sync, etc) just like it does currently? The grouping logic would be present in HRs in this case.&lt;br/&gt;
Or, have the grouping logic in WAL impl and rewrite the getWAL to use this grouping knowledge? i.e., getWAL passes a Hregioninfo to the underlying Group-WAL-impl, and the underlying Group-wal impl returns a WALService instance based on its grouping. In either case, I see WALGroup can extend &#197;bstractWAL interface. What do you think? Or, let&apos;s chat offline?&lt;/p&gt;</comment>
                            <comment id="13877189" author="ram_krish" created="Tue, 21 Jan 2014 04:54:18 +0000"  >&lt;p&gt;We could discuss offline too, not an issue. and then consolidate our thoughts here. &lt;br/&gt;
&amp;gt;bq.Or, have the grouping logic in WAL impl and rewrite the getWAL to use this grouping knowledge? i.e., getWAL passes a Hregioninfo to the underlying Group-WAL-impl, and the underlying Group-wal impl returns a WALService instance based on its grouping.&lt;br/&gt;
I would prefer this.  Let HRS not deal with these things.  The HRS at any point of time should only say instantiate WAL and based on what grouping or mechanism we select those many HLogs should be instantiated and the supporting feature like syncer,writers and replication for every HLog should be done inside the Group-WAL impl.  &lt;br/&gt;
Another API which I was not sure how to go about was the rollWriter() called from admin. Currently it returns set of regions that were flushed on calling rollWriter.  &lt;br/&gt;
Now it should be an array of regions or a list of regions.  We can discuss offline, fine with it.&lt;/p&gt;</comment>
                            <comment id="13877193" author="stack" created="Tue, 21 Jan 2014 05:03:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;should we have an implemenation for the WALservice where based on the number of hLogs those many syncer and writer threads...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Or shouldn&apos;t the above be encapsulated inside the implementation and not pass out from behind the WALService Interface?  (Which seems to be what you favor in your later comment &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="13877195" author="ram_krish" created="Tue, 21 Jan 2014 05:12:03 +0000"  >&lt;p&gt;Yes Stack. I meant the implementation of the WALService.  May be we can have an Abstract implementation for those like where we call Sycner.start(), writer.start() etc.&lt;/p&gt;
{edit}
&lt;p&gt; : Changed spelling&lt;/p&gt;</comment>
                            <comment id="13877251" author="v.himanshu" created="Tue, 21 Jan 2014 06:16:06 +0000"  >&lt;p&gt;Yes, hiding the impl specific details from HRS is one big point of this feature. Looks like we both are on same page re getWAL() api? That is, hiding the details in the impl.&lt;/p&gt;

&lt;p&gt;Re: rollWriter()&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;... called from admin. Currently it returns set of regions that were flushed on calling rollWriter.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No, it doesn&apos;t flush any region. It just returns regions which the caller should flush in order to archive the oldest WAL file. Actually, this return value is never used by the shell. &lt;br/&gt;
Anyway, though rolling is an internal stuff, we have exposed it as an API in shell. I would again go the same route and let WAL impl decide how to deal with it. For example, TableGroupWALImpl could roll the logs for all tables. Since it requires user&apos;s input, we can also overload the API as per WAL requirement?&lt;br/&gt;
As mentioned in the parent jira, I will take a stab at it once basic switching is done.&lt;/p&gt;</comment>
                            <comment id="13877265" author="ram_krish" created="Tue, 21 Jan 2014 06:30:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;Since it requires user&apos;s input, we can also overload the API as per WAL requirement?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ok. Fine with it.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Looks like we both are on same page re getWAL() api? That is, hiding the details in the impl.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1.  We are on the same page.&lt;br/&gt;
I can send you what I made on this WAL Grouping things.  &lt;br/&gt;
One issue would be with performance inside getWAL api.  Currently getWAL is getting called on every region Opening in OPenRegionHandler.  So when multiple regions of the same table arrive we would add up synchronization there and that would slow down reigon opening. &lt;/p&gt;</comment>
                            <comment id="13877302" author="v.himanshu" created="Tue, 21 Jan 2014 07:29:35 +0000"  >&lt;p&gt;Sounds great Ram krishna. &lt;br/&gt;
Btw, I tried sending an email to ramakrishna.s.vasudevan@gmail.com, but it bounced back. Let me know your email id and we can chat more on it offline. Thanks.&lt;/p&gt;</comment>
                            <comment id="13880458" author="v.himanshu" created="Thu, 23 Jan 2014 22:31:51 +0000"  >&lt;p&gt;Fixed the javadoc warning. Please review. Thanks.&lt;/p&gt;</comment>
                            <comment id="13881949" author="hadoopqa" created="Sat, 25 Jan 2014 17:10:32 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624933/10378-2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624933/10378-2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624933&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 128 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8507//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13885058" author="stack" created="Wed, 29 Jan 2014 06:26:47 +0000"  >&lt;p&gt;I like the doing away with the awful HLog name replacing it w/ WAL.&lt;/p&gt;

&lt;p&gt;I suppose we should remove NamespaceUpgrade.java now we are past out 0.96.  But that is not for this issue.&lt;/p&gt;

&lt;p&gt;This is a bit odd, returning a &apos;Service&apos; when we asked for a &apos;Log&apos;:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public HLog getLog() {&lt;br/&gt;
+  public WALService getLog() 
{
     return this.log;
   }&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;Similar here, final WALService wal, in that the parameter name should be walService, not just wal... and here &apos;WALService log&apos;&lt;/p&gt;

&lt;p&gt;Here in the comment it says:&lt;/p&gt;

&lt;p&gt;+   * need to explicitly close the &lt;/p&gt;
{@link WALService} it created too; &lt;br/&gt;
&lt;br/&gt;
... but I&apos;d think we&apos;d start and stop a Service, not &apos;close&apos; it.  What you think?&lt;br/&gt;
&lt;br/&gt;
It shouldn&apos;t be &apos;{@link WALService}
&lt;p&gt; file. &apos; a file here... how WALService is implemented should not be a concern of the user (whether it uses files or not).  This is a &apos;nit&apos;.&lt;/p&gt;

&lt;p&gt;Yeah, you &apos;stop&apos; a service I&apos;d say: &apos;+   * The &lt;/p&gt;
{@link WALService}
&lt;p&gt; for the created region needs to be closed explicitly.&apos;&lt;/p&gt;

&lt;p&gt;Fix this:&lt;/p&gt;

&lt;p&gt;  final WALService hlog,&lt;/p&gt;

&lt;p&gt;This should be cleaned up:&lt;/p&gt;

&lt;p&gt;+    WALService effectiveHLog = hlog;&lt;/p&gt;

&lt;p&gt;something like &apos;+    WALService effectiveWALService = walService;&apos;&lt;/p&gt;

&lt;p&gt;Fix &apos;    final WALService hlog)&apos;&lt;/p&gt;

&lt;p&gt;+  protected volatile WALService hlogForMeta; should be &apos;walServiceForMeta&apos;.&lt;/p&gt;

&lt;p&gt;+  private WALService getMetaWAL() throws IOException { should be getMetaWALService&lt;/p&gt;

&lt;p&gt;+  protected WALService instantiateHLog( should be instantiateWALService...&lt;/p&gt;

&lt;p&gt;I think you get the point.&lt;/p&gt;

&lt;p&gt;I skipped forward to the Interfaces:&lt;/p&gt;

&lt;p&gt;It is a pity that rollWriter has to be let outside of WALService but there is probably little to do about it.&lt;/p&gt;

&lt;p&gt;stop rather than &apos;close&apos;.  Does it need a &apos;start&apos;?&lt;/p&gt;

&lt;p&gt;+  // TODO: Do we need all these versions of sync?&lt;br/&gt;
+  void hsync() throws IOException;&lt;br/&gt;
+&lt;br/&gt;
+  void hflush() throws IOException;&lt;br/&gt;
+&lt;br/&gt;
+  void sync() throws IOException;&lt;br/&gt;
+&lt;br/&gt;
+  void sync(long txid) throws IOException;&lt;/p&gt;

&lt;p&gt;?&lt;/p&gt;

&lt;p&gt;Does this have to be in the WALService &amp;#8211; +  WALCoprocessorHost getCoprocessorHost();?&lt;/p&gt;

&lt;p&gt;Otherwise, the WALService looks nice and clean.&lt;/p&gt;

&lt;p&gt;These belong in WALService instead?&lt;/p&gt;

&lt;p&gt;+  /**&lt;br/&gt;
+   * @return the total number of WAL files (including rolled WALs).&lt;br/&gt;
+   */&lt;br/&gt;
+  int getNumLogFiles();&lt;br/&gt;
+&lt;br/&gt;
+  /**&lt;br/&gt;
+   * returns the number of rolled WAL files.&lt;br/&gt;
+   */&lt;br/&gt;
+  int getNumRolledLogFiles();&lt;br/&gt;
+&lt;br/&gt;
+  /**&lt;br/&gt;
+   * @return the path of the current WAL file.&lt;br/&gt;
+   */&lt;br/&gt;
+  Path getCurrentFileName();&lt;br/&gt;
+&lt;/p&gt;

&lt;p&gt;+  /**&lt;br/&gt;
+   * Get LowReplication-Roller status&lt;br/&gt;
+   * @return lowReplicationRollEnabled&lt;br/&gt;
+   */&lt;br/&gt;
+  boolean isLowReplicationRollEnabled();&lt;/p&gt;

&lt;p&gt;We should get rid of this:&lt;/p&gt;

&lt;p&gt;+  // TODO: Remove this Writable.&lt;br/&gt;
+  class Entry implements Writable {&lt;/p&gt;

&lt;p&gt;Should just be the pb.  But another patch.&lt;/p&gt;

&lt;p&gt;Otherwise WAL looks good.&lt;/p&gt;


</comment>
                            <comment id="13889294" author="hv.csuoa@gmail.com" created="Mon, 3 Feb 2014 08:02:07 +0000"  >&lt;p&gt;Thanks for the comments Stack. I would get back on this once I am back.&lt;/p&gt;


</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623840" name="10378-1.patch" size="294711" author="v.himanshu" created="Sun, 19 Jan 2014 01:03:36 +0000"/>
                            <attachment id="12624933" name="10378-2.patch" size="294704" author="v.himanshu" created="Thu, 23 Jan 2014 22:31:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 19 Jan 2014 02:41:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368659</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10377] Add test for HBASE-10370 Compaction in out-of-date Store causes region split failure</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10377</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; fixes the issue where region split fails following compacting out-of-date Store&lt;/p&gt;

&lt;p&gt;The new test failed in this build:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/82/testReport/org.apache.hadoop.hbase.regionserver/TestSplitTransactionOnCluster/testSplitFailedCompactionAndSplit/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/82/testReport/org.apache.hadoop.hbase.regionserver/TestSplitTransactionOnCluster/testSplitFailedCompactionAndSplit/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This issue is to make the new test, testSplitFailedCompactionAndSplit, robust.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689593">HBASE-10377</key>
            <summary>Add test for HBASE-10370 Compaction in out-of-date Store causes region split failure</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liushaohui">Liu Shaohui</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jan 2014 23:15:35 +0000</created>
                <updated>Tue, 21 Jan 2014 01:02:09 +0000</updated>
                            <resolved>Mon, 20 Jan 2014 21:58:28 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13875386" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 23:18:23 +0000"  >&lt;p&gt;Test output from Jenkins.&lt;/p&gt;</comment>
                            <comment id="13876369" author="liushaohui" created="Mon, 20 Jan 2014 11:38:18 +0000"  >&lt;p&gt;Run the test for several times in local machine and they all pass.&lt;/p&gt;

&lt;p&gt;Someone help to re-trigger the ci tests.&lt;/p&gt;

&lt;p&gt;The reason why test failed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; is that RS had run a major compaction , so when test request a compaction manually, it return null&#65292; which made the test failed.&lt;/p&gt;

</comment>
                            <comment id="13876504" author="hadoopqa" created="Mon, 20 Jan 2014 15:17:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623939/HBASE-10377-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623939/HBASE-10377-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12623939&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8473//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13876566" author="stack" created="Mon, 20 Jan 2014 16:38:47 +0000"  >&lt;p&gt;+1 from me.  Nice looking test.&lt;/p&gt;</comment>
                            <comment id="13876892" author="stack" created="Mon, 20 Jan 2014 21:58:29 +0000"  >&lt;p&gt;Committed to trunk.  Thank you for the nice test &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liushaohui&quot; class=&quot;user-hover&quot; rel=&quot;liushaohui&quot;&gt;Liu Shaohui&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13877014" author="hudson" created="Tue, 21 Jan 2014 00:13:30 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4838 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4838/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4838/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10377&quot; title=&quot;Add test for HBASE-10370 Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10377&quot;&gt;&lt;del&gt;HBASE-10377&lt;/del&gt;&lt;/a&gt; Add test for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failure (stack: rev 1559838)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13877052" author="hudson" created="Tue, 21 Jan 2014 01:02:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #60 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/60/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/60/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10377&quot; title=&quot;Add test for HBASE-10370 Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10377&quot;&gt;&lt;del&gt;HBASE-10377&lt;/del&gt;&lt;/a&gt; Add test for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failure (stack: rev 1559838)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623749" name="10377-testSplitFailedCompactionAndSplit.html" size="33361" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 23:18:23 +0000"/>
                            <attachment id="12623939" name="HBASE-10377-v1.patch" size="3134" author="liushaohui" created="Mon, 20 Jan 2014 11:38:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Jan 2014 11:38:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368565</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368566</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10376] Backport JvmPauseMonitor to 0.94 branch</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10376</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In the following thread:&lt;br/&gt;
&lt;a href=&quot;http://search-hadoop.com/m/NniICiuKee1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://search-hadoop.com/m/NniICiuKee1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Nick mentioned using JvmPauseMonitor to help track down an anomaly.&lt;/p&gt;

&lt;p&gt;This JIRA is to backport JvmPauseMonitor (introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9630&quot; title=&quot;Add thread which detects JVM pauses like HADOOP&amp;#39;s&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9630&quot;&gt;&lt;del&gt;HBASE-9630&lt;/del&gt;&lt;/a&gt;) to 0.94 branch&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689591">HBASE-10376</key>
            <summary>Backport JvmPauseMonitor to 0.94 branch</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jan 2014 23:06:48 +0000</created>
                <updated>Sat, 18 Jan 2014 00:19:08 +0000</updated>
                            <resolved>Sat, 18 Jan 2014 00:19:08 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13875429" author="stack" created="Sat, 18 Jan 2014 00:19:08 +0000"  >&lt;p&gt;Resolving as invalid &amp;#8211; unfortunately there is no &apos;silly&apos; in the resolution drop down menu &amp;#8211; an issue whose justification is an aside made by another suggesting review of emissions that might  might not actually have bearing on the issue being discussed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 18 Jan 2014 00:19:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368563</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368564</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10375] hbase-default.xml hbase.status.multicast.address.port does not match code</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10375</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In hbase-default.xml&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &amp;lt;property&amp;gt;
+    &amp;lt;name&amp;gt;hbase.status.multicast.address.port&amp;lt;/name&amp;gt;
+    &amp;lt;value&amp;gt;6100&amp;lt;/value&amp;gt;
+    &amp;lt;description&amp;gt;
+      Multicast port to use &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the status publication by multicast.
+    &amp;lt;/description&amp;gt;
+  &amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In HConstants it was 60100.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; STATUS_MULTICAST_PORT = &lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.status.multicast.port&quot;&lt;/span&gt;;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; DEFAULT_STATUS_MULTICAST_PORT = 16100;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(it was 60100 in the code for 0.96 and 0.98.)&lt;/p&gt;

&lt;p&gt;I lean towards going with the code as opposed to the config file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689529">HBASE-10375</key>
            <summary>hbase-default.xml hbase.status.multicast.address.port does not match code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jan 2014 17:50:38 +0000</created>
                <updated>Thu, 23 Jan 2014 00:53:56 +0000</updated>
                            <resolved>Wed, 22 Jan 2014 11:51:29 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.99.0</version>
                    <version>0.96.1.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13875126" author="apurtell" created="Fri, 17 Jan 2014 19:14:19 +0000"  >&lt;p&gt;60100 or 16100 ? &lt;/p&gt;</comment>
                            <comment id="13875131" author="jmhsieh" created="Fri, 17 Jan 2014 19:16:34 +0000"  >&lt;p&gt;I committed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10123&quot; title=&quot;Change default ports; move them out of linux ephemeral port range&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10123&quot;&gt;&lt;del&gt;HBASE-10123&lt;/del&gt;&lt;/a&gt; to trunk only so i believe:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;all should say hbase.status.multicast.port instead of hbase.status.multicast.address.port&lt;/li&gt;
	&lt;li&gt;0.96/0.98 should be 60100&lt;/li&gt;
	&lt;li&gt;trunk should be 16100&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We should get &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt; to take a quick look to verify this.&lt;/p&gt;</comment>
                            <comment id="13876534" author="nkeywal" created="Mon, 20 Jan 2014 15:59:37 +0000"  >&lt;p&gt;Yep, it&apos;s a typo. The code is right.&lt;br/&gt;
This can be changed: if someone listens on the wrong port, its mttr will be decreased, but nothing else will be broken, and it won&apos;t impact the other nodes.&lt;/p&gt;</comment>
                            <comment id="13876562" author="stack" created="Mon, 20 Jan 2014 16:33:57 +0000"  >&lt;p&gt;+1 on all patches.&lt;/p&gt;</comment>
                            <comment id="13876748" author="jmhsieh" created="Mon, 20 Jan 2014 19:23:59 +0000"  >&lt;p&gt;Hey, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;, we need to change the property name in the hbase-defaults.xml too &amp;#8211; &lt;/p&gt;

&lt;p&gt;hbase.status.multicast.address.port != hbase.status.multicast.port.&lt;/p&gt;

&lt;p&gt;+1 when the change is done to the hbase-defaults.xml files.&lt;/p&gt;</comment>
                            <comment id="13876823" author="apurtell" created="Mon, 20 Jan 2014 20:16:13 +0000"  >&lt;p&gt;+1 after what Jon says.&lt;/p&gt;</comment>
                            <comment id="13877498" author="nkeywal" created="Tue, 21 Jan 2014 14:36:03 +0000"  >&lt;p&gt;I was about to commit, but:&lt;br/&gt;
Should we go for &quot;hbase.status.multicast.port&apos; or &quot;hbase.status.multicast.address.port&quot; ?&lt;/p&gt;

&lt;p&gt;The ip address is named &quot;hbase.status.multicast.address.ip&quot;&lt;/p&gt;</comment>
                            <comment id="13877567" author="stack" created="Tue, 21 Jan 2014 16:09:38 +0000"  >&lt;p&gt;Sounds like  &quot;hbase.status.multicast.address.port&quot; would be following convention so +1&lt;/p&gt;</comment>
                            <comment id="13877664" author="apurtell" created="Tue, 21 Jan 2014 17:56:44 +0000"  >&lt;p&gt;+1 for &quot;hbase.status.multicast.address.port&quot;&lt;/p&gt;</comment>
                            <comment id="13878567" author="nkeywal" created="Wed, 22 Jan 2014 11:52:46 +0000"  >&lt;p&gt;Committed to .99, .98, .96. Thanks, lads.&lt;/p&gt;</comment>
                            <comment id="13878651" author="hudson" created="Wed, 22 Jan 2014 13:43:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4848 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4848/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4848/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10375&quot; title=&quot;hbase-default.xml hbase.status.multicast.address.port does not match code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10375&quot;&gt;&lt;del&gt;HBASE-10375&lt;/del&gt;&lt;/a&gt; hbase-default.xml hbase.status.multicast.address.port does not match code (nkeywal: rev 1560319)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13878735" author="hudson" created="Wed, 22 Jan 2014 15:04:38 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #267 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/267/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/267/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10375&quot; title=&quot;hbase-default.xml hbase.status.multicast.address.port does not match code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10375&quot;&gt;&lt;del&gt;HBASE-10375&lt;/del&gt;&lt;/a&gt; hbase-default.xml hbase.status.multicast.address.port does not match code (nkeywal: rev 1560322)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13878748" author="hudson" created="Wed, 22 Jan 2014 15:14:50 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #96 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/96/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/96/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10375&quot; title=&quot;hbase-default.xml hbase.status.multicast.address.port does not match code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10375&quot;&gt;&lt;del&gt;HBASE-10375&lt;/del&gt;&lt;/a&gt; hbase-default.xml hbase.status.multicast.address.port does not match code (nkeywal: rev 1560320)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13879099" author="hudson" created="Wed, 22 Jan 2014 19:51:40 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #103 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/103/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/103/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10375&quot; title=&quot;hbase-default.xml hbase.status.multicast.address.port does not match code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10375&quot;&gt;&lt;del&gt;HBASE-10375&lt;/del&gt;&lt;/a&gt; hbase-default.xml hbase.status.multicast.address.port does not match code (nkeywal: rev 1560320)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13879365" author="hudson" created="Thu, 23 Jan 2014 00:53:56 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #184 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/184/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/184/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10375&quot; title=&quot;hbase-default.xml hbase.status.multicast.address.port does not match code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10375&quot;&gt;&lt;del&gt;HBASE-10375&lt;/del&gt;&lt;/a&gt; hbase-default.xml hbase.status.multicast.address.port does not match code (nkeywal: rev 1560322)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12683919">HBASE-10123</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12667347">HBASE-9452</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12623959" name="10375.v1.98-96.patch" size="581" author="nkeywal" created="Mon, 20 Jan 2014 16:03:45 +0000"/>
                            <attachment id="12623958" name="10375.v1.patch" size="581" author="nkeywal" created="Mon, 20 Jan 2014 16:03:00 +0000"/>
                            <attachment id="12624135" name="10375.v2.96-98.patch" size="1302" author="nkeywal" created="Tue, 21 Jan 2014 14:32:54 +0000"/>
                            <attachment id="12624134" name="10375.v2.trunk.patch" size="1302" author="nkeywal" created="Tue, 21 Jan 2014 14:32:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jan 2014 19:14:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368502</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10374] add jemalloc into the choice of memstore allocation </title>
                <link>https://issues.apache.org/jira/browse/HBASE-10374</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://blog.twitter.com/2013/netty-4-at-twitter-reduced-gc-overhead&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://blog.twitter.com/2013/netty-4-at-twitter-reduced-gc-overhead&lt;/a&gt; introduced that Netty used jemalloc to gain benefits from GC.&lt;br/&gt;
It can be a good choice for memstore block allocation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689460">HBASE-10374</key>
            <summary>add jemalloc into the choice of memstore allocation </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jiangbinglover">Bing Jiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jan 2014 09:22:40 +0000</created>
                <updated>Tue, 21 Jan 2014 08:15:41 +0000</updated>
                                            <version>0.96.1.1</version>
                                                    <component>regionserver</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13875022" author="stack" created="Fri, 17 Jan 2014 18:01:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jianbginglover&quot; class=&quot;user-hover&quot; rel=&quot;jianbginglover&quot;&gt;Bing Jiang&lt;/a&gt; What you thinking?  We pull in netty4, redo our core on top of it (smile), then as a side benefit, use their jemalloc implementation for block cache?  Poking around, I don&apos;t see it here &lt;a href=&quot;http://netty.io/4.0/api/index.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://netty.io/4.0/api/index.html&lt;/a&gt;  Thanks.&lt;/p&gt;</comment>
                            <comment id="13875179" author="apurtell" created="Fri, 17 Jan 2014 19:41:57 +0000"  >&lt;p&gt;I found it here: &lt;a href=&quot;http://netty.io/4.0/api/io/netty/buffer/ByteBufAllocator.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://netty.io/4.0/api/io/netty/buffer/ByteBufAllocator.html&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="13875181" author="apurtell" created="Fri, 17 Jan 2014 19:44:10 +0000"  >&lt;p&gt;Someone should try pulling in netty4 while excluding earlier versions to see what happens. I bet it will be a mess &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; given our dependencies on Jetty 6 and ZooKeeper.&lt;/p&gt;</comment>
                            <comment id="13875262" author="ndimiduk" created="Fri, 17 Jan 2014 21:13:39 +0000"  >&lt;p&gt;Yeah, I tried this once and it didn&apos;t go very well. I am keen to pursue Stack&apos;s suggestion though. I haven&apos;t come to a conclusive decision for why we&apos;d pursue Netty&apos;s ByteBuf vs nio&lt;/p&gt;</comment>
                            <comment id="13875265" author="ndimiduk" created="Fri, 17 Jan 2014 21:15:04 +0000"  >&lt;p&gt;Premature submit. As I was a saying.&lt;/p&gt;

&lt;p&gt;I don&apos;t have conclusive reasons to pursue Netty ByteBufs vs nio ByteBuffers. The compositional structure Netty provides is really nice, if we can use it, but I think it could be implemented on top of stock ByteBuffers as well.&lt;/p&gt;</comment>
                            <comment id="13875319" author="apurtell" created="Fri, 17 Jan 2014 22:19:28 +0000"  >&lt;p&gt;This is also directly related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10191&quot; title=&quot;Move large arena storage off heap&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10191&quot;&gt;HBASE-10191&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13875587" author="jiangbinglover" created="Sat, 18 Jan 2014 08:19:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; I have a question, if we try to use the feature which Netty provides, I believe there are two choices, the one is to add dependence upon Netty, the other one is to implements the jemalloc by the help of their codes. I want to take your suggestion.&lt;/p&gt;
</comment>
                            <comment id="13877326" author="stack" created="Tue, 21 Jan 2014 08:15:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jianbginglover&quot; class=&quot;user-hover&quot; rel=&quot;jianbginglover&quot;&gt;Bing Jiang&lt;/a&gt; You suggest jemalloc for memstore block allocations.  What are you thinking we&apos;ll see by way of benefit?   I&apos;d think that isolating the MemStore and then in a simple testing harness trying various options would be the way to go (MemStore can be stood up outside of a HStore IIRC).  Try netty implementation first since code is done.   See if you can get any speedup in your testing rig.  If improvement, then lets talk.  We&apos;ll have to see about what &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; reminds us of, that netty implemenation is ByteBuf-based (as opposed to ByteBuffer).&lt;/p&gt;

&lt;p&gt;On pulling in netty4, it might not be too bad since they changed the package from org.jboss to io.netty.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jan 2014 18:01:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368432</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368433</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10373] Add more details info for ACL group in HBase book</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10373</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Current ACL section &apos;8.3. Access Control&apos; in HBase book, not instructs user to grant ACL for group. I think this is good to make it clear for users due to I think that this is great and important feature for users to manage their ACL more easily.&lt;/p&gt;

&lt;p&gt;mailing list&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hbase-user/201401.mbox/%3CCA+RK=_B+UMFZWiAeud9FsQJk8RS8L-VUo6aRVos8k5SUtOGFjA@mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hbase-user/201401.mbox/%3CCA+RK=_B+UMFZWiAeud9FsQJk8RS8L-VUo6aRVos8k5SUtOGFjA@mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689438">HBASE-10373</key>
            <summary>Add more details info for ACL group in HBase book</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="takeshi.miao">takeshi.miao</assignee>
                                    <reporter username="takeshi.miao">takeshi.miao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jan 2014 06:21:38 +0000</created>
                <updated>Tue, 21 Jan 2014 01:02:09 +0000</updated>
                            <resolved>Mon, 20 Jan 2014 21:53:51 +0000</resolved>
                                    <version>0.99.0</version>
                                    <fixVersion>0.99.0</fixVersion>
                                    <component>documentation</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13874498" author="takeshi.miao" created="Fri, 17 Jan 2014 06:31:28 +0000"  >&lt;p&gt;will submit patch in couple days&lt;/p&gt;</comment>
                            <comment id="13876156" author="takeshi.miao" created="Mon, 20 Jan 2014 05:19:17 +0000"  >&lt;p&gt;patch-v01 submitted&lt;br/&gt;
added some descriptions in section &lt;em&gt;&apos;8.4.5. Shell Enhancements for Access Control&apos;&lt;/em&gt; for demonstrating the ACL group as well&lt;/p&gt;</comment>
                            <comment id="13876191" author="hadoopqa" created="Mon, 20 Jan 2014 06:52:36 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623897/HBASE-10373-trunk-v01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623897/HBASE-10373-trunk-v01.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12623897&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+0 tests included&lt;/font&gt;.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +    grant &amp;lt;user|@group&amp;gt; &amp;lt;permissions&amp;gt; [ &amp;lt;table&amp;gt; [ &amp;lt;column family&amp;gt; [ &amp;lt;column qualifier&amp;gt; ] ] ]&lt;br/&gt;
+    &amp;lt;code class=&quot;code&quot;&amp;gt;&amp;lt;user|@group&amp;gt;&amp;lt;/code&amp;gt; is user or group  (start with character &apos;@&apos;), Groups are created and manipulated via the Hadoop group mapping service.&lt;br/&gt;
+    revoke &amp;lt;user|@group&amp;gt; [ &amp;lt;table&amp;gt; [ &amp;lt;column family&amp;gt; [ &amp;lt;column qualifier&amp;gt; ] ] ]&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8471//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13876888" author="stack" created="Mon, 20 Jan 2014 21:53:51 +0000"  >&lt;p&gt;Committed to trunk.  Will show the next time we push the doc.  Thank you for the contrib Takeshi Miao.&lt;/p&gt;</comment>
                            <comment id="13877015" author="hudson" created="Tue, 21 Jan 2014 00:13:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4838 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4838/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4838/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10373&quot; title=&quot;Add more details info for ACL group in HBase book&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10373&quot;&gt;&lt;del&gt;HBASE-10373&lt;/del&gt;&lt;/a&gt; Add more details info for ACL group in HBase book (stack: rev 1559836)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/docbkx/security.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13877053" author="hudson" created="Tue, 21 Jan 2014 01:02:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #60 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/60/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/60/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10373&quot; title=&quot;Add more details info for ACL group in HBase book&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10373&quot;&gt;&lt;del&gt;HBASE-10373&lt;/del&gt;&lt;/a&gt; Add more details info for ACL group in HBase book (stack: rev 1559836)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/docbkx/security.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623897" name="HBASE-10373-trunk-v01.patch" size="1731" author="takeshi.miao" created="Mon, 20 Jan 2014 05:19:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Jan 2014 06:52:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368411</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10372] TestHBaseFsck#testSplitDaughtersNotInMeta often fails</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10372</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This test fails quite often.&lt;/p&gt;

&lt;p&gt;Here are some examples:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/88/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/88/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/89/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/89/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This assertion fails:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      assertNotNull(HRegionInfo.getHRegionInfo(result));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the split hbase:meta entry didn&apos;t have corresponding HRegionInfo.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689432">HBASE-10372</key>
            <summary>TestHBaseFsck#testSplitDaughtersNotInMeta often fails</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jan 2014 05:30:29 +0000</created>
                <updated>Fri, 24 Jan 2014 04:23:02 +0000</updated>
                            <resolved>Fri, 24 Jan 2014 04:23:02 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13875163" author="apurtell" created="Fri, 17 Jan 2014 19:33:32 +0000"  >&lt;p&gt;This is only happening on builds.apache.org ? Not saying it&apos;s not a problem, just that I haven&apos;t seen this locally on three boxes running the unit tests continuously. &lt;/p&gt;</comment>
                            <comment id="13875164" author="apurtell" created="Fri, 17 Jan 2014 19:34:59 +0000"  >&lt;p&gt;These days I&apos;m inclined to close any issue opened from a builds.apache.org result that cannot be reproduced locally as Cannot Reproduce. &lt;/p&gt;</comment>
                            <comment id="13875173" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 19:39:02 +0000"  >&lt;p&gt;The above did happen on Apache Jenkins.&lt;/p&gt;

&lt;p&gt;I am running the test locally.&lt;/p&gt;

&lt;p&gt;Will resolve if cannot reproduce.&lt;/p&gt;</comment>
                            <comment id="13875175" author="apurtell" created="Fri, 17 Jan 2014 19:40:06 +0000"  >&lt;p&gt;Ok, I will mark this with a fix version for 0.98.0 but if at RC time there&apos;s no patch on the issue or this cannot be reproduced locally, I will do the above.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623582" name="10372-testSplitDaughtersNotInMeta-output.html" size="223976" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 05:31:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jan 2014 19:33:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368405</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10371] Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10371</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;(1) Select HFile for compaction&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-01-16 01:01:25,111 INFO org.apache.hadoop.hbase.regionserver.compactions.CompactSelection: Deleting the expired store file by compaction: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//dump002002.cm6:9000/hbase-0.90/storagetable/7d8941661904fb99a41f79a1fce47767/a/f3e38d10d579420494079e17a2557f0b whose maxTimeStamp is -1 &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; the max expired timestamp is 1389632485111&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(2) Compact&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-01-16 01:01:26,042 DEBUG org.apache.hadoop.hbase.regionserver.Compactor: Compacting hdfs:&lt;span class=&quot;code-comment&quot;&gt;//dump002002.cm6:9000/hbase-0.90/storagetable/7d8941661904fb99a41f79a1fce47767/a/f3e38d10d579420494079e17a2557f0b, keycount=0, bloomtype=NONE, size=534, encoding=NONE
&lt;/span&gt;2014-01-16 01:01:26,045 DEBUG org.apache.hadoop.hbase.util.FSUtils: Creating file=hdfs:&lt;span class=&quot;code-comment&quot;&gt;//dump002002.cm6:9000/hbase-0.90/storagetable/7d8941661904fb99a41f79a1fce47767/.tmp/40de5d79f80e4fb197e409fb99ab0fd8 with permission=rwxrwxrwx
&lt;/span&gt;2014-01-16 01:01:26,076 INFO org.apache.hadoop.hbase.regionserver.Store: Renaming compacted file at hdfs:&lt;span class=&quot;code-comment&quot;&gt;//dump002002.cm6:9000/hbase-0.90/storagetable/7d8941661904fb99a41f79a1fce47767/.tmp/40de5d79f80e4fb197e409fb99ab0fd8 to hdfs://dump002002.cm6:9000/hbase-0.90/storagetable/7d8941661904fb99a41f79a1fce47767/a/40de5d79f80e4fb197e409fb99ab0fd8
&lt;/span&gt;2014-01-16 01:01:26,142 INFO org.apache.hadoop.hbase.regionserver.Store: Completed compaction of 1 file(s) in a of storagetable,01:,1369377609136.7d8941661904fb99a41f79a1fce47767. into 40de5d79f80e4fb197e409fb99ab0fd8, size=534; total size &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; store is 399.0 M
2014-01-16 01:01:26,142 INFO org.apache.hadoop.hbase.regionserver.compactions.CompactionRequest: completed compaction: regionName=storagetable,01:,1369377609136.7d8941661904fb99a41f79a1fce47767., storeName=a, fileCount=1, fileSize=534, priority=16, time=18280340606333745; duration=0sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(3) Select HFile for compaction&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-01-16 03:48:05,120 INFO org.apache.hadoop.hbase.regionserver.compactions.CompactSelection: Deleting the expired store file by compaction: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//dump002002.cm6:9000/hbase-0.90/storagetable/7d8941661904fb99a41f79a1fce47767/a/40de5d79f80e4fb197e409fb99ab0fd8 whose maxTimeStamp is -1 &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; the max expired timestamp is 1389642485120&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(4) Compact&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-01-16 03:50:17,731 DEBUG org.apache.hadoop.hbase.regionserver.Compactor: Compacting hdfs:&lt;span class=&quot;code-comment&quot;&gt;//dump002002.cm6:9000/hbase-0.90/storagetable/7d8941661904fb99a41f79a1fce47767/a/40de5d79f80e4fb197e409fb99ab0fd8, keycount=0, bloomtype=NONE, size=534, encoding=NONE
&lt;/span&gt;2014-01-16 03:50:17,732 DEBUG org.apache.hadoop.hbase.util.FSUtils: Creating file=hdfs:&lt;span class=&quot;code-comment&quot;&gt;//dump002002.cm6:9000/hbase-0.90&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;... &lt;br/&gt;
this loop for ever.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689424">HBASE-10371</key>
            <summary>Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aoxiang">binlijin</assignee>
                                    <reporter username="aoxiang">binlijin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jan 2014 03:25:42 +0000</created>
                <updated>Tue, 28 Jan 2014 00:57:29 +0000</updated>
                            <resolved>Mon, 27 Jan 2014 19:51:12 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>0.94.17</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13874472" author="stack" created="Fri, 17 Jan 2014 05:57:00 +0000"  >&lt;p&gt;Duh.  Patch looks good.  Any chance of a unit test &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aoxiang&quot; class=&quot;user-hover&quot; rel=&quot;aoxiang&quot;&gt;binlijin&lt;/a&gt;?  Or is it too hard making up a file like this?&lt;/p&gt;</comment>
                            <comment id="13874541" author="aoxiang" created="Fri, 17 Jan 2014 07:47:18 +0000"  >&lt;p&gt;@stack add a unit test.&lt;/p&gt;</comment>
                            <comment id="13875201" author="apurtell" created="Fri, 17 Jan 2014 19:55:05 +0000"  >&lt;p&gt;+1 for 0.98&lt;/p&gt;</comment>
                            <comment id="13875210" author="lhofhansl" created="Fri, 17 Jan 2014 20:04:24 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="13875243" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 20:39:24 +0000"  >&lt;p&gt;Patch v3 corrects spelling mistake: entrys&lt;/p&gt;</comment>
                            <comment id="13875252" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 20:50:58 +0000"  >&lt;p&gt;Ran all compaction related tests which passed.&lt;/p&gt;

&lt;p&gt;Integrated to 0.98 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Lijin.&lt;/p&gt;</comment>
                            <comment id="13875414" author="hudson" created="Fri, 17 Jan 2014 23:42:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #56 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/56/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/56/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10371&quot; title=&quot;Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10371&quot;&gt;&lt;del&gt;HBASE-10371&lt;/del&gt;&lt;/a&gt; Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again (Tedyu: rev 1559247)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/RatioBasedCompactionPolicy.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/MockStoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestDefaultCompactSelection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875434" author="hudson" created="Sat, 18 Jan 2014 00:28:30 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #83 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/83/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/83/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10371&quot; title=&quot;Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10371&quot;&gt;&lt;del&gt;HBASE-10371&lt;/del&gt;&lt;/a&gt; Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again (Tedyu: rev 1559248)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/RatioBasedCompactionPolicy.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/MockStoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestDefaultCompactSelection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875446" author="hudson" created="Sat, 18 Jan 2014 00:50:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #92 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/92/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/92/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10371&quot; title=&quot;Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10371&quot;&gt;&lt;del&gt;HBASE-10371&lt;/del&gt;&lt;/a&gt; Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again (Tedyu: rev 1559248)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/RatioBasedCompactionPolicy.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/MockStoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestDefaultCompactSelection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875448" author="hudson" created="Sat, 18 Jan 2014 00:50:20 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4832 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4832/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4832/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10371&quot; title=&quot;Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10371&quot;&gt;&lt;del&gt;HBASE-10371&lt;/del&gt;&lt;/a&gt; Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again (Tedyu: rev 1559247)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/RatioBasedCompactionPolicy.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/MockStoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestDefaultCompactSelection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875518" author="lhofhansl" created="Sat, 18 Jan 2014 03:08:05 +0000"  >&lt;p&gt;This is an issue for 0.94 and 0.96 too, no?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, I assume you want this in 0.96.&lt;/p&gt;</comment>
                            <comment id="13875520" author="lhofhansl" created="Sat, 18 Jan 2014 03:08:43 +0000"  >&lt;p&gt;Lemme keep this open until we have committed to 0.94 and (I guess) 0.96.&lt;/p&gt;</comment>
                            <comment id="13875552" author="stack" created="Sat, 18 Jan 2014 05:37:30 +0000"  >&lt;p&gt;Yes to 0.96.&lt;/p&gt;</comment>
                            <comment id="13876101" author="aoxiang" created="Mon, 20 Jan 2014 02:33:41 +0000"  >&lt;p&gt;Add patch for 96 and 94 branch.&lt;/p&gt;</comment>
                            <comment id="13883035" author="apurtell" created="Mon, 27 Jan 2014 18:08:55 +0000"  >&lt;p&gt;This issue is not showing up in JIRA generated release notes for 0.98.0RC0 even though it has been committed there, because this is not resolved. We should commit this to 96 and 94 and resolve the issue, or change the fix versions and resolve the issue. I&apos;m going to come back tonight and do the latter. &lt;/p&gt;</comment>
                            <comment id="13883187" author="lhofhansl" created="Mon, 27 Jan 2014 19:46:57 +0000"  >&lt;p&gt;I&apos;ll commit to 0.94 and 0.96 momentarily. Otherwise we&apos;d need to create a backporting issues. It&apos;s hard to keep track of these.&lt;/p&gt;</comment>
                            <comment id="13883197" author="lhofhansl" created="Mon, 27 Jan 2014 19:51:12 +0000"  >&lt;p&gt;Committed to 0.94 and 0.96.&lt;/p&gt;</comment>
                            <comment id="13883200" author="apurtell" created="Mon, 27 Jan 2014 19:53:14 +0000"  >&lt;p&gt;Thanks Lars!&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;It&apos;s hard to keep track of these.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah&lt;/p&gt;</comment>
                            <comment id="13883281" author="hudson" created="Mon, 27 Jan 2014 20:58:45 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-on-Hadoop-2 #5 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/5/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/5/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10371&quot; title=&quot;Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10371&quot;&gt;&lt;del&gt;HBASE-10371&lt;/del&gt;&lt;/a&gt; Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again. (binlijin) (larsh: rev 1561810)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/CompactSelection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883287" author="hudson" created="Mon, 27 Jan 2014 21:00:15 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #395 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/395/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/395/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10371&quot; title=&quot;Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10371&quot;&gt;&lt;del&gt;HBASE-10371&lt;/del&gt;&lt;/a&gt; Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again. (binlijin) (larsh: rev 1561810)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/CompactSelection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883364" author="hudson" created="Mon, 27 Jan 2014 21:39:23 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-JDK7 #34 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/34/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/34/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10371&quot; title=&quot;Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10371&quot;&gt;&lt;del&gt;HBASE-10371&lt;/del&gt;&lt;/a&gt; Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again. (binlijin) (larsh: rev 1561810)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/CompactSelection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883434" author="hudson" created="Mon, 27 Jan 2014 22:25:15 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94 #1268 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1268/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1268/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10371&quot; title=&quot;Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10371&quot;&gt;&lt;del&gt;HBASE-10371&lt;/del&gt;&lt;/a&gt; Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again. (binlijin) (larsh: rev 1561810)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/CompactSelection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883568" author="hudson" created="Tue, 28 Jan 2014 00:36:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96-hadoop2 #186 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/186/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/186/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10371&quot; title=&quot;Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10371&quot;&gt;&lt;del&gt;HBASE-10371&lt;/del&gt;&lt;/a&gt; Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again. (binlijin) (larsh: rev 1561811)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/RatioBasedCompactionPolicy.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestDefaultCompactSelection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13883584" author="hudson" created="Tue, 28 Jan 2014 00:57:29 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96 #272 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/272/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/272/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10371&quot; title=&quot;Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10371&quot;&gt;&lt;del&gt;HBASE-10371&lt;/del&gt;&lt;/a&gt; Compaction creates empty hfile, then selects this file for compaction and creates empty hfile and over again. (binlijin) (larsh: rev 1561811)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/RatioBasedCompactionPolicy.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestDefaultCompactSelection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623722" name="10371-trunk-3.patch" size="4516" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 20:39:24 +0000"/>
                            <attachment id="12623884" name="HBASE-10371-94-2.patch" size="4197" author="aoxiang" created="Mon, 20 Jan 2014 02:32:53 +0000"/>
                            <attachment id="12623570" name="HBASE-10371-94.patch" size="779" author="aoxiang" created="Fri, 17 Jan 2014 03:37:14 +0000"/>
                            <attachment id="12623881" name="HBASE-10371-96.patch" size="3690" author="aoxiang" created="Mon, 20 Jan 2014 02:10:01 +0000"/>
                            <attachment id="12623603" name="HBASE-10371-trunk-2.patch" size="4514" author="aoxiang" created="Fri, 17 Jan 2014 07:46:49 +0000"/>
                            <attachment id="12623572" name="HBASE-10371-trunk.patch" size="767" author="aoxiang" created="Fri, 17 Jan 2014 03:50:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jan 2014 05:57:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368397</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10370] Compaction in out-of-date Store causes region split failure</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10370</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In out product cluster, we encounter a problem that two daughter regions can not been opened for FileNotFoundException.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2014-01-14,20:12:46,927 INFO org.apache.hadoop.hbase.regionserver.SplitRequest: Running rollback/cleanup of failed split of user_profile,xxxxxxxxx,1389671863815.99e016485b0bc142d67ae07a884f6966.; Failed lg-hadoop-st34.bj,21600,1389060755669-daughterOpener=ec8bbda0f132c481b451fa40e7152b98&lt;br/&gt;
java.io.IOException: Failed lg-hadoop-st34.bj,21600,1389060755669-daughterOpener=ec8bbda0f132c481b451fa40e7152b98&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.SplitTransaction.openDaughters(SplitTransaction.java:375)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.SplitTransaction.execute(SplitTransaction.java:467)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.SplitRequest.run(SplitRequest.java:69)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
Caused by: java.io.IOException: java.io.IOException: java.io.FileNotFoundException: File does not exist: /hbase/lgprc-xiaomi/user_profile/99e016485b0bc142d67ae07a884f6966/A/5e05d706e4a84f34acc2cf00f089a4cf&lt;br/&gt;
....&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The reason is that a compaction in an out-of-date Store deletes the hfiles, which are referenced by  the daughter regions after split. This will cause the daughter regions can not be opened forever. &lt;/p&gt;

&lt;p&gt;The timeline is that &lt;/p&gt;

&lt;p&gt;Assumption: there are two hfiles: a, b in Store A in Region R&lt;br/&gt;
t0: A compaction request of Store A(a+b) in Region R is sent.&lt;/p&gt;

&lt;p&gt;t1: First Split for Region R. But this split is timeout and rollbacked. In the rollback, region reinitializes all store objects , see SplitTransaction #824. Now the store is Region R is A&apos;(a+b).&lt;/p&gt;

&lt;p&gt;t2: Run the compaction sent in t0 . (hfile: a + b -&amp;gt; c): A(a+b) -&amp;gt; A(c). Hfile a and b are archived.&lt;/p&gt;

&lt;p&gt;t3: Another Split for Region R. R splits into two region R.0, R.1, which create hfile references for hfile a, b from Store A&apos;(a + b)&lt;/p&gt;

&lt;p&gt;t4: For hfile a, b have been deleted, the opening for region R.0 and R.1 will failed for FileNotFoundException.&lt;/p&gt;

&lt;p&gt;I have add a test to identity this problem.&lt;/p&gt;

&lt;p&gt;After search the jira, maybe &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8502&quot; title=&quot;Eternally stuck Region after split&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8502&quot;&gt;&lt;del&gt;HBASE-8502&lt;/del&gt;&lt;/a&gt; is the same problem. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=goldin&quot; class=&quot;user-hover&quot; rel=&quot;goldin&quot;&gt;Dimitri Goldin&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689418">HBASE-10370</key>
            <summary>Compaction in out-of-date Store causes region split failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liushaohui">Liu Shaohui</assignee>
                                    <reporter username="liushaohui">Liu Shaohui</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jan 2014 02:44:53 +0000</created>
                <updated>Tue, 21 Jan 2014 01:02:09 +0000</updated>
                            <resolved>Sat, 18 Jan 2014 02:54:49 +0000</resolved>
                                    <version>0.94.3</version>
                    <version>0.98.0</version>
                    <version>0.99.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>Compaction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13874462" author="liushaohui" created="Fri, 17 Jan 2014 05:43:23 +0000"  >&lt;p&gt;Patch for trunk. &lt;br/&gt;
This patch is not perfect and I think we should fix this problem in a high level.&lt;br/&gt;
can someone familiar with region split can give some advices?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="13874467" author="stack" created="Fri, 17 Jan 2014 05:51:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liushaohui&quot; class=&quot;user-hover&quot; rel=&quot;liushaohui&quot;&gt;Liu Shaohui&lt;/a&gt; The test is great.&lt;/p&gt;

&lt;p&gt;When you say &apos;.. in an out-of-date Store deletes the hfiles...&apos;, what you mean?&lt;/p&gt;</comment>
                            <comment id="13874473" author="stack" created="Fri, 17 Jan 2014 05:57:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;...what you mean?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sorry, I meant, &quot;... could you explain some more... I don&apos;t follow too well.&quot;&lt;/p&gt;</comment>
                            <comment id="13874474" author="liushaohui" created="Fri, 17 Jan 2014 05:58:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;br/&gt;
After the rollback of a failed region split, the region reinitializes and the stores in the region are new ones.&lt;br/&gt;
But the compaction request refer to the old Store, which is &apos;out-of-date Store&apos; .&lt;/p&gt;</comment>
                            <comment id="13874478" author="liushaohui" created="Fri, 17 Jan 2014 06:08:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;br/&gt;
Maybe this expression is  not accurate. &lt;br/&gt;
Please see the timeline in the description and you will understand the problem.&lt;/p&gt;</comment>
                            <comment id="13874481" author="zjushch" created="Fri, 17 Jan 2014 06:10:23 +0000"  >&lt;p&gt;It seems the &apos;store&apos; object in CompactionRequest is possible to be wrong one. &lt;/p&gt;

&lt;p&gt;Should we cache the family name in CompactionRequest  rather than the store object? &lt;br/&gt;
So we get the store object through HRegion#getStore when it is needed&lt;/p&gt;

&lt;p&gt;Nice found!&lt;/p&gt;</comment>
                            <comment id="13874516" author="liushaohui" created="Fri, 17 Jan 2014 06:59:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt;&lt;br/&gt;
Yes, caching the family name in CompactionRequest is another method.&lt;br/&gt;
I tryed this method but there are some problems:&lt;br/&gt;
compaction is requested in a store , run in another store, and finished in another store, which may causes the status in Store inconsistent&lt;br/&gt;
getStore method in HRegion may return different objects in different calls.&lt;br/&gt;
I don&apos;t think very clear about this, so i just add a check in compact.&lt;br/&gt;
Thanks for your advices.&lt;/p&gt;</comment>
                            <comment id="13874539" author="zjushch" created="Fri, 17 Jan 2014 07:43:34 +0000"  >&lt;p&gt;Patch makes sense for this issue. &lt;br/&gt;
It&apos;s bettern if log a clearer message.&lt;br/&gt;
What about &apos;LOG.warn(&quot;Store &quot; + store.getColumnFamilyName() + &quot;  on region &quot;+ this + &quot; has been re-instantiated, cacel this compaction request. It may be caused by the roll back of split transaction&quot;);&apos; ?&lt;/p&gt;</comment>
                            <comment id="13874583" author="liushaohui" created="Fri, 17 Jan 2014 09:06:46 +0000"  >&lt;p&gt;Update the log as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt;&apos;s advice&lt;/p&gt;</comment>
                            <comment id="13874615" author="ram_krish" created="Fri, 17 Jan 2014 10:07:13 +0000"  >&lt;p&gt;Patch looks good to me.  Did not spend time to check the root cause. &lt;/p&gt;</comment>
                            <comment id="13874689" author="hadoopqa" created="Fri, 17 Jan 2014 11:27:54 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623612/HBASE-10370-v2.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623612/HBASE-10370-v2.diff&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12623612&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8459//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13875060" author="apurtell" created="Fri, 17 Jan 2014 18:28:33 +0000"  >&lt;p&gt;+1 for 0.98&lt;/p&gt;</comment>
                            <comment id="13875075" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 18:44:40 +0000"  >&lt;p&gt;Patch v3 closes the region and table in TestSplitTransactionOnCluster#testSplitFailedCompactionAndSplit&lt;/p&gt;</comment>
                            <comment id="13875078" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 18:47:25 +0000"  >&lt;p&gt;Integrated to 0.98 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Shaohui.&lt;/p&gt;</comment>
                            <comment id="13875118" author="hadoopqa" created="Fri, 17 Jan 2014 19:10:37 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623704/10370-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623704/10370-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12623704&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8462//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8462//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13875123" author="stack" created="Fri, 17 Jan 2014 19:11:33 +0000"  >&lt;p&gt;What I applied to 0.96 (no unit test &amp;#8211; it failed apply).  Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liushaohui&quot; class=&quot;user-hover&quot; rel=&quot;liushaohui&quot;&gt;Liu Shaohui&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13875142" author="hadoopqa" created="Fri, 17 Jan 2014 19:22:22 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623710/10370v2.096.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623710/10370v2.096.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12623710&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8463//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8463//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13875312" author="hudson" created="Fri, 17 Jan 2014 22:12:34 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #82 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/82/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/82/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failed (Tedyu: rev 1559215)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875318" author="hudson" created="Fri, 17 Jan 2014 22:18:39 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #261 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/261/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/261/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failed (stack: rev 1559226)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875335" author="hudson" created="Fri, 17 Jan 2014 22:33:29 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #91 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/91/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/91/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failed (Tedyu: rev 1559215)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875348" author="hudson" created="Fri, 17 Jan 2014 22:43:24 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4831 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4831/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4831/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failed (Tedyu: rev 1559216)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875351" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 22:45:07 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/82/testReport/org.apache.hadoop.hbase.regionserver/TestSplitTransactionOnCluster/testSplitFailedCompactionAndSplit/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/82/testReport/org.apache.hadoop.hbase.regionserver/TestSplitTransactionOnCluster/testSplitFailedCompactionAndSplit/&lt;/a&gt; :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:621)
	at org.junit.Assert.assertNotNull(Assert.java:631)
	at org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster.testSplitFailedCompactionAndSplit(TestSplitTransactionOnCluster.java:335)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The following assertion failed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    CompactionContext cc = store.requestCompaction();
    assertNotNull(cc);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since the above is in the new test added, I will revert from 0.98 and trunk.&lt;/p&gt;</comment>
                            <comment id="13875353" author="apurtell" created="Fri, 17 Jan 2014 22:47:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;I will revert from 0.98 and trunk&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks Ted. &lt;/p&gt;

&lt;p&gt;+1 to recommit without the new test, or with a fixed test.&lt;/p&gt;</comment>
                            <comment id="13875355" author="apurtell" created="Fri, 17 Jan 2014 22:48:48 +0000"  >&lt;p&gt;This could also be handled with an addendum that drops the new test, since this was committed to 0.96 without the new test.&lt;/p&gt;</comment>
                            <comment id="13875356" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 22:50:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;or with a fixed test&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I prefer the above.&lt;/p&gt;

&lt;p&gt;Thanks Andy.&lt;/p&gt;</comment>
                            <comment id="13875366" author="apurtell" created="Fri, 17 Jan 2014 22:57:01 +0000"  >&lt;p&gt;Well this was committed elsewhere without the new test, so I&apos;d prefer that if you don&apos;t mind.&lt;/p&gt;</comment>
                            <comment id="13875368" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 23:00:10 +0000"  >&lt;p&gt;Okay.&lt;br/&gt;
I will integrate one more time before 0.98.0 RC0 comes out.&lt;/p&gt;

&lt;p&gt;Let&apos;s give Shaohui some time to make the test robust.&lt;/p&gt;</comment>
                            <comment id="13875370" author="apurtell" created="Fri, 17 Jan 2014 23:03:14 +0000"  >&lt;p&gt;Can we commit this to 0.98 as was committed to 0.96 and open a followup JIRA for a test for both 0.98 and 0.96 (at Stack&apos;s option)? &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I will integrate one more time before 0.98.0 RC0 comes out.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ok, the only blocker remaining is &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10322&quot; title=&quot;Strip tags from KV while sending back to client on reads&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10322&quot;&gt;&lt;del&gt;HBASE-10322&lt;/del&gt;&lt;/a&gt;. I&apos;m going to tag the RC as soon as that goes in.&lt;/p&gt;</comment>
                            <comment id="13875380" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 23:10:07 +0000"  >&lt;p&gt;Sounds good.&lt;/p&gt;

&lt;p&gt;Patch v4 is the fix without test.&lt;/p&gt;</comment>
                            <comment id="13875385" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 23:17:04 +0000"  >&lt;p&gt;Re-integrated the fix into 0.98 and trunk.&lt;/p&gt;

&lt;p&gt;I created &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10377&quot; title=&quot;Add test for HBASE-10370 Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10377&quot;&gt;&lt;del&gt;HBASE-10377&lt;/del&gt;&lt;/a&gt; for restoring the test.&lt;/p&gt;

&lt;p&gt;Once Jenkins builds come back green, will resolve this issue.&lt;/p&gt;</comment>
                            <comment id="13875413" author="hudson" created="Fri, 17 Jan 2014 23:42:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #56 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/56/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/56/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failed (Tedyu: rev 1559216)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875442" author="hudson" created="Sat, 18 Jan 2014 00:44:41 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #178 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/178/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/178/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failed (stack: rev 1559226)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875498" author="hudson" created="Sat, 18 Jan 2014 02:43:19 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #57 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/57/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/57/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failure, fix only (Tedyu: rev 1559277)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; revert due to TestSplitTransactionOnCluster.testSplitFailedCompactionAndSplit failure (Tedyu: rev 1559275)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875500" author="hudson" created="Sat, 18 Jan 2014 02:44:21 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #84 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/84/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/84/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failure, fix only (Tedyu: rev 1559276)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; revert due to TestSplitTransactionOnCluster.testSplitFailedCompactionAndSplit failure (Tedyu: rev 1559274)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875508" author="hudson" created="Sat, 18 Jan 2014 02:54:02 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4833 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4833/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4833/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failure, fix only (Tedyu: rev 1559277)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; revert due to TestSplitTransactionOnCluster.testSplitFailedCompactionAndSplit failure (Tedyu: rev 1559275)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875516" author="hudson" created="Sat, 18 Jan 2014 03:04:49 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #93 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/93/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/93/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failure, fix only (Tedyu: rev 1559276)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; revert due to TestSplitTransactionOnCluster.testSplitFailedCompactionAndSplit failure (Tedyu: rev 1559274)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875537" author="goldin" created="Sat, 18 Jan 2014 04:00:57 +0000"  >&lt;p&gt;Thanks for fixing - it&apos;s very likely, that it was the same issue going by the behaviour and the fix. There was not enough information/proof back then to debug/track the root of the problem down.&lt;/p&gt;</comment>
                            <comment id="13877016" author="hudson" created="Tue, 21 Jan 2014 00:13:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4838 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4838/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4838/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10377&quot; title=&quot;Add test for HBASE-10370 Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10377&quot;&gt;&lt;del&gt;HBASE-10377&lt;/del&gt;&lt;/a&gt; Add test for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failure (stack: rev 1559838)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13877054" author="hudson" created="Tue, 21 Jan 2014 01:02:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #60 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/60/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/60/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10377&quot; title=&quot;Add test for HBASE-10370 Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10377&quot;&gt;&lt;del&gt;HBASE-10377&lt;/del&gt;&lt;/a&gt; Add test for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10370&quot; title=&quot;Compaction in out-of-date Store causes region split failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10370&quot;&gt;&lt;del&gt;HBASE-10370&lt;/del&gt;&lt;/a&gt; Compaction in out-of-date Store causes region split failure (stack: rev 1559838)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12646431">HBASE-8502</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12623704" name="10370-v3.patch" size="4147" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 18:44:40 +0000"/>
                            <attachment id="12623747" name="10370-v4.patch" size="1023" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 23:10:07 +0000"/>
                            <attachment id="12623710" name="10370v2.096.txt" size="1023" author="stack" created="Fri, 17 Jan 2014 19:11:33 +0000"/>
                            <attachment id="12623584" name="HBASE-10370-v1.diff" size="4185" author="liushaohui" created="Fri, 17 Jan 2014 05:43:23 +0000"/>
                            <attachment id="12623612" name="HBASE-10370-v2.diff" size="4300" author="liushaohui" created="Fri, 17 Jan 2014 09:06:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jan 2014 05:51:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368390</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368391</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10369] LabelExpander#createLabels() should close scanner in finally clause</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10369</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Here is related code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) {
        Result next = scanner.next();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (next == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
          &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
        }
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] row = next.getRow();
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] value = next.getValue(LABELS_TABLE_FAMILY, LABEL_QUALIFIER);
        labels.put(Bytes.toString(value), Bytes.toInt(row));
      }
      scanner.close();
    } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If scanner.next() throws exception, scanner would be left open.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689403">HBASE-10369</key>
            <summary>LabelExpander#createLabels() should close scanner in finally clause</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 23:41:58 +0000</created>
                <updated>Fri, 17 Jan 2014 23:42:22 +0000</updated>
                            <resolved>Fri, 17 Jan 2014 03:50:28 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13874199" author="apurtell" created="Fri, 17 Jan 2014 00:16:02 +0000"  >&lt;p&gt;+1 for trunk and 0.98&lt;/p&gt;</comment>
                            <comment id="13874261" author="hadoopqa" created="Fri, 17 Jan 2014 01:17:26 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623537/10369-v1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623537/10369-v1.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12623537&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to cause Findbugs (version 1.3.9) to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8450//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8450//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8450//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8450//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13874283" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 01:34:52 +0000"  >&lt;p&gt;Integrated to 0.98 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Andy.&lt;/p&gt;</comment>
                            <comment id="13874393" author="hudson" created="Fri, 17 Jan 2014 03:55:29 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #80 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/80/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/80/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10369&quot; title=&quot;LabelExpander#createLabels() should close scanner in finally clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10369&quot;&gt;&lt;del&gt;HBASE-10369&lt;/del&gt;&lt;/a&gt; LabelExpander#createLabels() should close scanner in finally clause (Tedyu: rev 1558976)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/LabelExpander.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13874441" author="hudson" created="Fri, 17 Jan 2014 05:12:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #89 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/89/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/89/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10369&quot; title=&quot;LabelExpander#createLabels() should close scanner in finally clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10369&quot;&gt;&lt;del&gt;HBASE-10369&lt;/del&gt;&lt;/a&gt; LabelExpander#createLabels() should close scanner in finally clause (Tedyu: rev 1558976)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/LabelExpander.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13874475" author="hudson" created="Fri, 17 Jan 2014 06:01:24 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4829 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4829/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10369&quot; title=&quot;LabelExpander#createLabels() should close scanner in finally clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10369&quot;&gt;&lt;del&gt;HBASE-10369&lt;/del&gt;&lt;/a&gt; LabelExpander#createLabels() should close scanner in finally clause (Tedyu: rev 1558975)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/LabelExpander.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875408" author="hudson" created="Fri, 17 Jan 2014 23:42:22 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #56 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/56/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/56/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10369&quot; title=&quot;LabelExpander#createLabels() should close scanner in finally clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10369&quot;&gt;&lt;del&gt;HBASE-10369&lt;/del&gt;&lt;/a&gt; LabelExpander#createLabels() should close scanner in finally clause (Tedyu: rev 1558975)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/LabelExpander.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623537" name="10369-v1.txt" size="1603" author="yuzhihong@gmail.com" created="Thu, 16 Jan 2014 23:47:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jan 2014 00:16:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368376</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10368] Add Mutation.setWriteToWAL() back to 0.98</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10368</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This is similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10339&quot; title=&quot;Mutation::getFamilyMap method was lost in 98&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10339&quot;&gt;&lt;del&gt;HBASE-10339&lt;/del&gt;&lt;/a&gt;, where we deprecated the API Mutation.setWriteToWAL() in 0.96 and removed it in 0.98. &lt;br/&gt;
Although 0.94.7+ contains the Durability API which replaces this, for Pig and other tools to be able to compile with 0.94.7- and 0.98 without shims / reflection, the safest way is to add the API back to 0.98 in deprecated mode. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;Daniel Dai&lt;/a&gt; says that it may still be important to be able to compile with 0.94.7-, which I kind of agree.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12689397">HBASE-10368</key>
            <summary>Add Mutation.setWriteToWAL() back to 0.98</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 23:28:28 +0000</created>
                <updated>Fri, 17 Jan 2014 23:42:22 +0000</updated>
                            <resolved>Fri, 17 Jan 2014 02:21:54 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13874149" author="enis" created="Thu, 16 Jan 2014 23:33:57 +0000"  >&lt;p&gt;Attaching simple patch. &lt;/p&gt;</comment>
                            <comment id="13874179" author="apurtell" created="Fri, 17 Jan 2014 00:00:14 +0000"  >&lt;p&gt;+1, same reason as for  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10339&quot; title=&quot;Mutation::getFamilyMap method was lost in 98&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10339&quot;&gt;&lt;del&gt;HBASE-10339&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13874335" author="enis" created="Fri, 17 Jan 2014 02:21:54 +0000"  >&lt;p&gt;Committed this to trunk and 0.98. Thanks Andrew for review. &lt;/p&gt;</comment>
                            <comment id="13874357" author="hadoopqa" created="Fri, 17 Jan 2014 02:45:08 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623531/hbase-10368_v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623531/hbase-10368_v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12623531&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8452//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13874442" author="hudson" created="Fri, 17 Jan 2014 05:12:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #89 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/89/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/89/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10368&quot; title=&quot;Add Mutation.setWriteToWAL() back to 0.98&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10368&quot;&gt;&lt;del&gt;HBASE-10368&lt;/del&gt;&lt;/a&gt; Add Mutation.setWriteToWAL() back to 0.98 (enis: rev 1558993)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Mutation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13874476" author="hudson" created="Fri, 17 Jan 2014 06:01:25 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4829 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4829/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10368&quot; title=&quot;Add Mutation.setWriteToWAL() back to 0.98&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10368&quot;&gt;&lt;del&gt;HBASE-10368&lt;/del&gt;&lt;/a&gt; Add Mutation.setWriteToWAL() back to 0.98 (enis: rev 1558990)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Mutation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13874485" author="hudson" created="Fri, 17 Jan 2014 06:16:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #81 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/81/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/81/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10368&quot; title=&quot;Add Mutation.setWriteToWAL() back to 0.98&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10368&quot;&gt;&lt;del&gt;HBASE-10368&lt;/del&gt;&lt;/a&gt; Add Mutation.setWriteToWAL() back to 0.98 (enis: rev 1558993)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Mutation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875409" author="hudson" created="Fri, 17 Jan 2014 23:42:22 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #56 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/56/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/56/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10368&quot; title=&quot;Add Mutation.setWriteToWAL() back to 0.98&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10368&quot;&gt;&lt;del&gt;HBASE-10368&lt;/del&gt;&lt;/a&gt; Add Mutation.setWriteToWAL() back to 0.98 (enis: rev 1558990)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Mutation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623531" name="hbase-10368_v1.patch" size="1932" author="enis" created="Thu, 16 Jan 2014 23:33:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jan 2014 00:00:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368371</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10367] RegionServer graceful stop / decommissioning</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10367</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Right now, we have a weird way of node decommissioning / graceful stop, which is a graceful_stop.sh bash script, and a region_mover ruby script, and some draining server support which you have to manually write to a znode (really!). Also draining servers is only partially supported in LB operations (LB does take that into account for roundRobin assignment, but not for normal balance) &lt;br/&gt;
See &lt;br/&gt;
&lt;a href=&quot;http://hbase.apache.org/book/node.management.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book/node.management.html&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3071&quot; title=&quot;Graceful decommissioning of a regionserver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3071&quot;&gt;&lt;del&gt;HBASE-3071&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think we should support graceful stop as a first class citizen. Thinking about it, it seems that the difference between regionserver stop and graceful stop is that regionserver stop will close the regions, but the master will only assign them after the znode is deleted. &lt;/p&gt;

&lt;p&gt;In the new master design (or even before), if we allow RS to be able to close regions on its own (without master initiating it), then graceful stop becomes regular stop. The RS already closes the regions cleanly, and will reject new region assignments, so that we don&apos;t need much of the balancer or draining server trickery. &lt;/p&gt;

&lt;p&gt;This ties into the new master/AM redesign (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5487&quot; title=&quot;Generic framework for Master-coordinated tasks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5487&quot;&gt;HBASE-5487&lt;/a&gt;), but still deserves it&apos;s own jira. Let&apos;s use this to brainstorm on the design. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12689390">HBASE-10367</key>
            <summary>RegionServer graceful stop / decommissioning</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 23:03:04 +0000</created>
                <updated>Thu, 16 Jan 2014 23:43:56 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13874165" author="ndimiduk" created="Thu, 16 Jan 2014 23:43:56 +0000"  >&lt;p&gt;The usability of graceful stop just came up in a conversation I had today as well. Thanks for bringing it up, @enis!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Jan 2014 23:43:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368362</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10366] 0.94 filterRow() may be skipped in 0.96(or onwards) code</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10366</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6429&quot; title=&quot;Filter with filterRow() returning true is incompatible with scan with limit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6429&quot;&gt;&lt;del&gt;HBASE-6429&lt;/del&gt;&lt;/a&gt; combines both filterRow &amp;amp; filterRow(List&amp;lt;KeyValue&amp;gt; kvs) functions in Filter. &lt;br/&gt;
While 0.94 code or older, it may not implement hasFilterRow as HBase-6429 expected because 0.94(old) hasFilterRow only returns true when filterRow(List&amp;lt;KeyValue&amp;gt; kvs) is overridden not the filterRow(). Therefore, the filterRow() will be skipped.&lt;/p&gt;

&lt;p&gt;Since we don&apos;t ask 0.94 users to update their existing filter code, the issue will cause scan returns unexpected keyvalues and break the backward compatibility.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689386">HBASE-10366</key>
            <summary>0.94 filterRow() may be skipped in 0.96(or onwards) code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jeffreyz">Jeffrey Zhong</assignee>
                                    <reporter username="jeffreyz">Jeffrey Zhong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 22:43:21 +0000</created>
                <updated>Mon, 20 Jan 2014 01:16:34 +0000</updated>
                            <resolved>Sun, 19 Jan 2014 18:57:49 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                                    <component>Filters</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13874203" author="hadoopqa" created="Fri, 17 Jan 2014 00:21:34 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623509/hbase-10366.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623509/hbase-10366.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12623509&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8449//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13874288" author="apurtell" created="Fri, 17 Jan 2014 01:37:20 +0000"  >&lt;p&gt;Is this for Hive &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeffreyz&quot; class=&quot;user-hover&quot; rel=&quot;jeffreyz&quot;&gt;Jeffrey Zhong&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13874289" author="apurtell" created="Fri, 17 Jan 2014 01:37:41 +0000"  >&lt;p&gt;Never mind, I see the Phoenix tag. Same difference.&lt;/p&gt;</comment>
                            <comment id="13874291" author="apurtell" created="Fri, 17 Jan 2014 01:38:38 +0000"  >&lt;p&gt;Is there a unit test that covers the old method and behavior we put back here?&lt;/p&gt;</comment>
                            <comment id="13874293" author="jeffreyz" created="Fri, 17 Jan 2014 01:43:07 +0000"  >&lt;p&gt;I manually verified in Phoenix on 0.96. Let me try to add a filter test case to cover this change. Thanks.&lt;/p&gt;</comment>
                            <comment id="13874296" author="apurtell" created="Fri, 17 Jan 2014 01:43:59 +0000"  >&lt;p&gt;Thanks, +1 for trunk and 0.98 with a unit test. Edit: Actually without one too, but thanks in advance for one. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13874869" author="yuzhihong@gmail.com" created="Fri, 17 Jan 2014 15:31:49 +0000"  >&lt;p&gt;The javadoc in Filter.java should be revised:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; True &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; filter actively uses filterRow(List) or filterRow().
   */
  &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; hasFilterRow();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13874886" author="stack" created="Fri, 17 Jan 2014 15:45:10 +0000"  >&lt;p&gt;Echo what Andrew says for 0.96&lt;/p&gt;</comment>
                            <comment id="13875301" author="jeffreyz" created="Fri, 17 Jan 2014 22:01:01 +0000"  >&lt;p&gt;Thanks All for the reviews! v1 patch adds a unit test.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tedyu@apache.org&quot;&gt;Ted Yu&lt;/a&gt; The Javadoc for current hasFilterRow() is all right because new filter implementation should follow that way in the future. I modified some comments in my previous patch to specifically call out that 0.94 hasFilterRow() has different semantics.&lt;/p&gt;</comment>
                            <comment id="13875416" author="hadoopqa" created="Fri, 17 Jan 2014 23:43:39 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623732/hbase-10366-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623732/hbase-10366-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12623732&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8465//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13875436" author="jeffreyz" created="Sat, 18 Jan 2014 00:33:19 +0000"  >&lt;p&gt;Will commit v1 patch tomorrow if there is no objections. Thanks.&lt;/p&gt;</comment>
                            <comment id="13876012" author="hudson" created="Sun, 19 Jan 2014 21:20:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4836 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4836/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4836/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10366&quot; title=&quot;0.94 filterRow() may be skipped in 0.96(or onwards) code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10366&quot;&gt;&lt;del&gt;HBASE-10366&lt;/del&gt;&lt;/a&gt;: 0.94 filterRow() may be skipped in 0.96(or onwards) code (jeffreyz: rev 1559547)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13876020" author="hudson" created="Sun, 19 Jan 2014 21:45:00 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #95 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/95/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/95/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10366&quot; title=&quot;0.94 filterRow() may be skipped in 0.96(or onwards) code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10366&quot;&gt;&lt;del&gt;HBASE-10366&lt;/del&gt;&lt;/a&gt;: 0.94 filterRow() may be skipped in 0.96(or onwards) code (jeffreyz: rev 1559548)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13876024" author="hudson" created="Sun, 19 Jan 2014 21:59:24 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #263 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/263/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/263/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10366&quot; title=&quot;0.94 filterRow() may be skipped in 0.96(or onwards) code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10366&quot;&gt;&lt;del&gt;HBASE-10366&lt;/del&gt;&lt;/a&gt;: 0.94 filterRow() may be skipped in 0.96(or onwards) code (jeffreyz: rev 1559551)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13876025" author="hudson" created="Sun, 19 Jan 2014 22:02:42 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #87 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/87/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/87/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10366&quot; title=&quot;0.94 filterRow() may be skipped in 0.96(or onwards) code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10366&quot;&gt;&lt;del&gt;HBASE-10366&lt;/del&gt;&lt;/a&gt;: 0.94 filterRow() may be skipped in 0.96(or onwards) code (jeffreyz: rev 1559548)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13876062" author="hudson" created="Mon, 20 Jan 2014 00:48:46 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #181 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/181/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/181/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10366&quot; title=&quot;0.94 filterRow() may be skipped in 0.96(or onwards) code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10366&quot;&gt;&lt;del&gt;HBASE-10366&lt;/del&gt;&lt;/a&gt;: 0.94 filterRow() may be skipped in 0.96(or onwards) code (jeffreyz: rev 1559551)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13876067" author="hudson" created="Mon, 20 Jan 2014 01:16:34 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #59 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/59/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/59/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10366&quot; title=&quot;0.94 filterRow() may be skipped in 0.96(or onwards) code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10366&quot;&gt;&lt;del&gt;HBASE-10366&lt;/del&gt;&lt;/a&gt;: 0.94 filterRow() may be skipped in 0.96(or onwards) code (jeffreyz: rev 1559547)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623732" name="hbase-10366-v1.patch" size="3716" author="jeffreyz" created="Fri, 17 Jan 2014 22:01:01 +0000"/>
                            <attachment id="12623509" name="hbase-10366.patch" size="2046" author="jeffreyz" created="Thu, 16 Jan 2014 22:44:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jan 2014 00:21:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thanks for the reviews! I&amp;#39;ve integrated the v1 patch into trunk, 0.98 &amp;amp; 0.96 branches.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Phoenix</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10365] HBaseFsck should clean up connection properly when repair is completed</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10365</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;At the end of exec() method, connections to the cluster are not properly released.&lt;/p&gt;

&lt;p&gt;Connections should be released upon completion of repair.&lt;/p&gt;

&lt;p&gt;This was mentioned by Jean-Marc in the thread &apos;&lt;span class=&quot;error&quot;&gt;&amp;#91;VOTE&amp;#93;&lt;/span&gt; The 1st hbase 0.94.16 release candidate is available for download&apos;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689358">HBASE-10365</key>
            <summary>HBaseFsck should clean up connection properly when repair is completed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 21:29:12 +0000</created>
                <updated>Sat, 25 Jan 2014 13:50:42 +0000</updated>
                            <resolved>Thu, 23 Jan 2014 03:46:10 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13877947" author="jmhsieh" created="Tue, 21 Jan 2014 22:49:37 +0000"  >&lt;p&gt;lgtm. +1.&lt;/p&gt;</comment>
                            <comment id="13879332" author="yuzhihong@gmail.com" created="Wed, 22 Jan 2014 23:18:46 +0000"  >&lt;p&gt;Re-attach for QA.&lt;/p&gt;

&lt;p&gt;Passed TestHBaseFsck on Linux twice.&lt;/p&gt;</comment>
                            <comment id="13879361" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 00:52:37 +0000"  >&lt;p&gt;Tests passed:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8501/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8501/console&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13879363" author="hadoopqa" created="Thu, 23 Jan 2014 00:53:40 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12624459/10365-v1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12624459/10365-v1.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12624459&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8501//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13879366" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 00:54:55 +0000"  >&lt;p&gt;Integrated to trunk&lt;/p&gt;

&lt;p&gt;Thanks for the review, Jon.&lt;/p&gt;</comment>
                            <comment id="13879390" author="apurtell" created="Thu, 23 Jan 2014 02:45:01 +0000"  >&lt;p&gt;+1 for 0.98. Can commit this if you don&apos;t first Ted.&lt;/p&gt;</comment>
                            <comment id="13879427" author="yuzhihong@gmail.com" created="Thu, 23 Jan 2014 03:44:07 +0000"  >&lt;p&gt;Integrated to 0.98 as well.&lt;/p&gt;

&lt;p&gt;Thanks Andy.&lt;/p&gt;</comment>
                            <comment id="13879810" author="tobe" created="Thu, 23 Jan 2014 10:00:39 +0000"  >&lt;p&gt;Will this backport to 0.94? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13880128" author="lhofhansl" created="Thu, 23 Jan 2014 17:48:09 +0000"  >&lt;p&gt;I think so. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, OK for 0.96?&lt;/p&gt;</comment>
                            <comment id="13880749" author="stack" created="Fri, 24 Jan 2014 06:12:45 +0000"  >&lt;p&gt;Sure.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13881760" author="hudson" created="Sat, 25 Jan 2014 08:43:11 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #100 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/100/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10365&quot; title=&quot;HBaseFsck should clean up connection properly when repair is completed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10365&quot;&gt;&lt;del&gt;HBASE-10365&lt;/del&gt;&lt;/a&gt; HBaseFsck should clean up connection properly when repair is completed (Ted Yu) (tedyu: rev 1560581)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881783" author="hudson" created="Sat, 25 Jan 2014 09:33:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #63 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/63/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10365&quot; title=&quot;HBaseFsck should clean up connection properly when repair is completed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10365&quot;&gt;&lt;del&gt;HBASE-10365&lt;/del&gt;&lt;/a&gt; HBaseFsck should clean up connection properly when repair is completed (tedyu: rev 1560564)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881792" author="hudson" created="Sat, 25 Jan 2014 09:37:56 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4853 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4853/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10365&quot; title=&quot;HBaseFsck should clean up connection properly when repair is completed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10365&quot;&gt;&lt;del&gt;HBASE-10365&lt;/del&gt;&lt;/a&gt; HBaseFsck should clean up connection properly when repair is completed (tedyu: rev 1560564)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13881898" author="hudson" created="Sat, 25 Jan 2014 13:50:42 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/107/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10365&quot; title=&quot;HBaseFsck should clean up connection properly when repair is completed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10365&quot;&gt;&lt;del&gt;HBASE-10365&lt;/del&gt;&lt;/a&gt; HBaseFsck should clean up connection properly when repair is completed (Ted Yu) (tedyu: rev 1560581)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624459" name="10365-v1.txt" size="4466" author="yuzhihong@gmail.com" created="Wed, 22 Jan 2014 23:18:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jan 2014 22:49:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368330</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368332</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10364] Allow configuration option for parent znode in LoadTestTool</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10364</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I saw the following running Hoya functional test which involves LoadTestTool:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-01-16 19:06:03,443 [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-2] INFO  client.HConnectionManager$HConnectionImplementation (HConnectionManager.java:makeStub(1572)) - getMaster attempt 8 of 35 failed;  retrying after sleep of 10098, exception=org.apache.hadoop.hbase.MasterNotRunningException: The node /hbase is not in ZooKeeper. It should have been written by the        master. Check the value configured in &apos;zookeeper.znode.parent&apos;. There could be a mismatch with the one configured in the master.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;LoadTestTool was reading from correct zookeeper quorum but it wasn&apos;t able to find parent znode.&lt;/p&gt;

&lt;p&gt;An option should be added to LoadTestTool so that user can specify parent znode in zookeeper.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689334">HBASE-10364</key>
            <summary>Allow configuration option for parent znode in LoadTestTool</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png">Resolved</status>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 19:37:29 +0000</created>
                <updated>Fri, 17 Jan 2014 23:42:22 +0000</updated>
                            <resolved>Thu, 16 Jan 2014 23:27:01 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13873902" author="yuzhihong@gmail.com" created="Thu, 16 Jan 2014 20:38:19 +0000"  >&lt;p&gt;Patch v1 adds a new option, zk_parent, for specifying parent znode in zookeeper.&lt;/p&gt;</comment>
                            <comment id="13873903" author="apurtell" created="Thu, 16 Jan 2014 20:40:41 +0000"  >&lt;p&gt;lgtm although &quot;zk_parent&quot; is less obvious than &quot;zk_root&quot; to my eye&lt;/p&gt;</comment>
                            <comment id="13873909" author="yuzhihong@gmail.com" created="Thu, 16 Jan 2014 20:43:53 +0000"  >&lt;p&gt;Thanks for the quick review.&lt;/p&gt;

&lt;p&gt;Patch v2 incorporates Andy&apos;s suggestion.&lt;/p&gt;</comment>
                            <comment id="13873952" author="apurtell" created="Thu, 16 Jan 2014 21:15:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13874070" author="hadoopqa" created="Thu, 16 Jan 2014 22:36:32 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623468/10364-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623468/10364-v2.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12623468&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8448//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13874087" author="yuzhihong@gmail.com" created="Thu, 16 Jan 2014 22:44:54 +0000"  >&lt;p&gt;Integrated to 0.98 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Andy.&lt;/p&gt;</comment>
                            <comment id="13874268" author="hudson" created="Fri, 17 Jan 2014 01:24:36 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4827 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4827/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4827/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10364&quot; title=&quot;Allow configuration option for parent znode in LoadTestTool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10364&quot;&gt;&lt;del&gt;HBASE-10364&lt;/del&gt;&lt;/a&gt; Allow configuration option for parent znode in LoadTestTool (Tedyu: rev 1558941)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13874287" author="hudson" created="Fri, 17 Jan 2014 01:35:56 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #79 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/79/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/79/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10364&quot; title=&quot;Allow configuration option for parent znode in LoadTestTool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10364&quot;&gt;&lt;del&gt;HBASE-10364&lt;/del&gt;&lt;/a&gt; Allow configuration option for parent znode in LoadTestTool (Tedyu: rev 1558940)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13874360" author="hudson" created="Fri, 17 Jan 2014 02:50:41 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #88 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/88/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/88/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10364&quot; title=&quot;Allow configuration option for parent znode in LoadTestTool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10364&quot;&gt;&lt;del&gt;HBASE-10364&lt;/del&gt;&lt;/a&gt; Allow configuration option for parent znode in LoadTestTool (Tedyu: rev 1558940)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13875411" author="hudson" created="Fri, 17 Jan 2014 23:42:22 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #56 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/56/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/56/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10364&quot; title=&quot;Allow configuration option for parent znode in LoadTestTool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10364&quot;&gt;&lt;del&gt;HBASE-10364&lt;/del&gt;&lt;/a&gt; Allow configuration option for parent znode in LoadTestTool (Tedyu: rev 1558941)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12623467" name="10364-v1.txt" size="1572" author="yuzhihong@gmail.com" created="Thu, 16 Jan 2014 20:38:19 +0000"/>
                            <attachment id="12623468" name="10364-v2.txt" size="1570" author="yuzhihong@gmail.com" created="Thu, 16 Jan 2014 20:43:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Jan 2014 20:40:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>

<item>
            <title>[HBASE-10363] [0.94] TestInputSampler and TestInputSamplerTool fail under hadoop 2.0/23 profiles.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10363</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;From tip of 0.94 and from 0.94.15.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
jon@swoop:~/proj/hbase-0.94$ mvn clean test -Dhadoop.profile=2.0 -Dtest=TestInputSampler,TestInputSamplerTool -PlocalTests
...
Running org.apache.hadoop.hbase.mapreduce.hadoopbackport.TestInputSamplerTool
Tests run: 4, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 3.718 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
Running org.apache.hadoop.hbase.mapreduce.hadoopbackport.TestInputSampler
Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.666 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!

Results :

Tests in error: 
  testSplitInterval(org.apache.hadoop.hbase.mapreduce.hadoopbackport.TestInputSamplerTool): Failed getting constructor
  testSplitRamdom(org.apache.hadoop.hbase.mapreduce.hadoopbackport.TestInputSamplerTool): Failed getting constructor
  testSplitSample(org.apache.hadoop.hbase.mapreduce.hadoopbackport.TestInputSamplerTool): Failed getting constructor
  testSplitSampler(org.apache.hadoop.hbase.mapreduce.hadoopbackport.TestInputSampler): Failed getting constructor
  testIntervalSampler(org.apache.hadoop.hbase.mapreduce.hadoopbackport.TestInputSampler): Failed getting constructor

Tests run: 6, Failures: 0, Errors: 5, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12689301">HBASE-10363</key>
            <summary>[0.94] TestInputSampler and TestInputSamplerTool fail under hadoop 2.0/23 profiles.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 17:55:45 +0000</created>
                <updated>Mon, 20 Jan 2014 21:58:17 +0000</updated>
                                            <version>0.94.15</version>
                                    <fixVersion>0.94.17</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13873678" author="jmhsieh" created="Thu, 16 Jan 2014 18:02:12 +0000"  >&lt;p&gt;Ah, this failure was noted in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8553&quot; title=&quot;improve unit-test coverage of package org.apache.hadoop.hbase.mapreduce.hadoopbackport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8553&quot;&gt;&lt;del&gt;HBASE-8553&lt;/del&gt;&lt;/a&gt;.  &lt;/p&gt;</comment>
                            <comment id="13873922" author="lhofhansl" created="Thu, 16 Jan 2014 20:56:49 +0000"  >&lt;p&gt;Are you still seeing this issue after 0.94.13?&lt;/p&gt;</comment>
                            <comment id="13873969" author="jmhsieh" created="Thu, 16 Jan 2014 21:24:51 +0000"  >&lt;p&gt;Yes.  I ran these test against the apache 0.94.15 release and also the tip of 0.94 this morning.&lt;/p&gt;</comment>
                            <comment id="13874193" author="apurtell" created="Fri, 17 Jan 2014 00:10:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt; says this shows up here also: &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/1/testReport/junit/org.apache.hadoop.hbase.mapreduce.hadoopbackport/TestInputSampler/testSplitSampler/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-on-Hadoop-2/1/testReport/junit/org.apache.hadoop.hbase.mapreduce.hadoopbackport/TestInputSampler/testSplitSampler/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12647781">HBASE-8553</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Jan 2014 20:56:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368275</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10362] HBCK changes for supporting region replicas</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10362</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We should support region replicas in HBCK. The changes are probably not that intrusive. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12689153">HBASE-10362</key>
            <summary>HBCK changes for supporting region replicas</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12682280">HBASE-10070</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="devaraj">Devaraj Das</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 02:08:32 +0000</created>
                <updated>Thu, 16 Jan 2014 02:08:32 +0000</updated>
                                                            <fixVersion>0.99.0</fixVersion>
                                    <component>hbck</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368125</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368127</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10361] Enable/AlterTable support for region replicas</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10361</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Add support for region replicas in master operations enable table and modify table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689148">HBASE-10361</key>
            <summary>Enable/AlterTable support for region replicas</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12682280">HBASE-10070</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="devaraj">Devaraj Das</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 01:46:07 +0000</created>
                <updated>Thu, 16 Jan 2014 01:46:07 +0000</updated>
                                                            <fixVersion>0.99.0</fixVersion>
                                    <component>master</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368120</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10360] [89-fb] Expose the HRegionLocations for each HTable in an efficient way</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10360</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HTable.getHRegionInfo() will return all the RegionServer address for each HRegion by scanning the META table. Actually, the HConnectionManger could cache these data and refresh the client location cache directly. Also, HTable could expose another API to return these cached HRegionLocation directly without scanning the META table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689147">HBASE-10360</key>
            <summary>[89-fb] Expose the HRegionLocations for each HTable in an efficient way</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="liyin">Liyin Tang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 01:39:18 +0000</created>
                <updated>Thu, 16 Jan 2014 01:39:18 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368119</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10359] Master/RS WebUI changes for region replicas </title>
                <link>https://issues.apache.org/jira/browse/HBASE-10359</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Some UI changes to make region replicas more visible. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12689136">HBASE-10359</key>
            <summary>Master/RS WebUI changes for region replicas </summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12682280">HBASE-10070</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="devaraj">Devaraj Das</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 00:15:26 +0000</created>
                <updated>Thu, 16 Jan 2014 00:15:26 +0000</updated>
                                                            <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10358] Shell changes for setting consistency per request</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10358</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We can add shell support to set consistency per request. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12689135">HBASE-10358</key>
            <summary>Shell changes for setting consistency per request</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12682280">HBASE-10070</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 00:14:22 +0000</created>
                <updated>Thu, 16 Jan 2014 00:14:22 +0000</updated>
                                                            <fixVersion>0.99.0</fixVersion>
                                    <component>shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10357] Failover RPC&apos;s for scans</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10357</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This is extension of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10355&quot; title=&quot;Failover RPC&amp;#39;s from client using region replicas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10355&quot;&gt;HBASE-10355&lt;/a&gt; to add failover support for scans. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12689129">HBASE-10357</key>
            <summary>Failover RPC&apos;s for scans</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12682280">HBASE-10070</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 00:09:17 +0000</created>
                <updated>Thu, 16 Jan 2014 00:09:17 +0000</updated>
                                                            <fixVersion>0.99.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368103</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10356] Failover RPC&apos;s for multi-get </title>
                <link>https://issues.apache.org/jira/browse/HBASE-10356</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This is extension of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10355&quot; title=&quot;Failover RPC&amp;#39;s from client using region replicas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10355&quot;&gt;HBASE-10355&lt;/a&gt; to add failover support for multi-gets. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12689127">HBASE-10356</key>
            <summary>Failover RPC&apos;s for multi-get </summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12682280">HBASE-10070</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png">In Progress</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 00:08:29 +0000</created>
                <updated>Wed, 29 Jan 2014 22:34:19 +0000</updated>
                                                            <fixVersion>0.99.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13885920" author="sershe" created="Wed, 29 Jan 2014 22:32:07 +0000"  >&lt;p&gt;Here&apos;s the patch for reference. It is done on top of one or the replica changes branches and is not applicable to trunk. Also, it includes parts of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10277&quot; title=&quot;refactor AsyncProcess&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10277&quot;&gt;HBASE-10277&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10427&quot; title=&quot;clean up HRegionLocation/ServerName usage &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10427&quot;&gt;&lt;del&gt;HBASE-10427&lt;/del&gt;&lt;/a&gt;. &lt;br/&gt;
Due to all of this branching and additional changes going on in trunk e.g. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10347&quot; title=&quot;HRegionInfo changes for adding replicaId and MetaEditor/MetaReader changes for region replicas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10347&quot;&gt;HBASE-10347&lt;/a&gt;, I suspect the patch will eventually have to be manually applied to whatever trunk + earlier parts of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10070&quot; title=&quot;HBase read high-availability using eventually consistent region replicas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10070&quot;&gt;HBASE-10070&lt;/a&gt; turns out to look like.&lt;/p&gt;</comment>
                            <comment id="13885922" author="sershe" created="Wed, 29 Jan 2014 22:33:25 +0000"  >&lt;p&gt;TestAsyncProcess passes. I will run other tests later today, and add unit tests in foreseeable future.&lt;/p&gt;</comment>
                            <comment id="13885923" author="sershe" created="Wed, 29 Jan 2014 22:34:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; fyi&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12687283">HBASE-10277</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12625997" name="HBASE-10356.reference.patch" size="141890" author="sershe" created="Wed, 29 Jan 2014 22:32:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 29 Jan 2014 22:32:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10355] Failover RPC&apos;s from client using region replicas</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10355</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description></description>
                <environment></environment>
        <key id="12689126">HBASE-10355</key>
            <summary>Failover RPC&apos;s from client using region replicas</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12682280">HBASE-10070</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png">Open</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 00:05:17 +0000</created>
                <updated>Mon, 20 Jan 2014 16:10:01 +0000</updated>
                                                            <fixVersion>0.99.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13872856" author="stack" created="Thu, 16 Jan 2014 00:08:22 +0000"  >&lt;p&gt;Ask said over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10070&quot; title=&quot;HBase read high-availability using eventually consistent region replicas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10070&quot;&gt;HBASE-10070&lt;/a&gt;, on the surface, this seems like a bad idea having RPC know about region replicas.  Will be interested in hearing the why.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13872951" author="enis" created="Thu, 16 Jan 2014 01:53:55 +0000"  >&lt;p&gt;I think we are doing the failover at the HCM level, not the individual RPC level. I&apos;ll take a closer look at &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;&apos;s patch. &lt;/p&gt;</comment>
                            <comment id="13873199" author="nkeywal" created="Thu, 16 Jan 2014 09:43:51 +0000"  >&lt;p&gt;rpc does not really know the replica logic: there is a new callable that is doing multiple rpc calls. We&apos;re not &apos;inside&apos; the rpc layer.&lt;/p&gt;

&lt;p&gt;What alternative do you see?&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;htable level (i.e. a htable composed of different htable)? I tried this, but we don&apos;t need to change most of the htable code, so most of the methods are just delegating. As well, it needs to be done very carefully if you don&apos;t want to duplicate the objects.&lt;/li&gt;
	&lt;li&gt;below the rpc, i.e. inside the rpc layer?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13873640" author="stack" created="Thu, 16 Jan 2014 17:31:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;We&apos;re not &apos;inside&apos; the rpc layer.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;OK.  Good.  The design doc gave this impression; just ignore my reading of it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12689113">HBASE-10351</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12689109">HBASE-10348</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12689125">HBASE-10354</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Jan 2014 00:08:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[HBASE-10354] Add an API for defining consistency per request</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10354</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We should add an API to be able to define the expected consistency level per operation. This API should also allow to check whether the results coming from a query (get or scan) is stale or not. The defaults should reflect the current semantics. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12689125">HBASE-10354</key>
            <summary>Add an API for defining consistency per request</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12682280">HBASE-10070</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png">Patch Available</status>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 00:01:27 +0000</created>
                <updated>Mon, 3 Feb 2014 05:51:53 +0000</updated>
                                                            <fixVersion>0.99.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13872920" author="enis" created="Thu, 16 Jan 2014 01:30:52 +0000"  >&lt;p&gt;Forwarding &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;&apos;s comment from parent jira: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
bq. It is more like a &lt;span class=&quot;code-quote&quot;&gt;&quot;timeline consistency&quot;&lt;/span&gt; rather than the eventual consistency a-la dynamo.
Let us call it &apos;timeline consistency&apos; from here on out then &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; it still in the inception phase. Let us not allow &apos;eventually consistent&apos; anywhere near our lexicon &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; we will only confuse.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13887428" author="enis" created="Fri, 31 Jan 2014 03:29:34 +0000"  >&lt;p&gt;Attaching a patch which &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Defines a new class for setting per get/scan consistency:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; Consistency {
  /**
   * Strong consistency is the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; consistency model in HBase,
   * where reads and writes go through a single server which serializes
   * the updates, and returns all data that was written and ack&apos;d.
   */
  STRONG,

  /**
   * Eventual consistent reads might &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; values that may not see
   * the most recent updates. Write transactions are always performed
   * in strong consistency model in HBase. In eventual consistency,
   * the order of observed transactions is always in the same sequence
   * that the transactions were written.
   * Reads will be seeing a previous version of the database.
   */
  EVENTUAL,
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Adds setConsistency to Get and Scan&lt;/li&gt;
	&lt;li&gt;Adds Result.isStale() to inspect whether the result from Scan or Get is possibly stale.&lt;/li&gt;
	&lt;li&gt;Adds shell support for setting consistency level per operation.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think having an enum like Consistency will fit nicely into our API, which we also define Durability and Isolation similarly. &lt;/p&gt;

&lt;p&gt;We can rename Consistency.EVENTUAL to Consistency.TIMELINE if there is concern that it will cause confusion. &lt;/p&gt;
</comment>
                            <comment id="13887479" author="hadoopqa" created="Fri, 31 Jan 2014 05:15:00 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626253/hbase-10354_v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626253/hbase-10354_v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626253&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +      &quot;ly\030\001 \002(\014\022\021\n\tqualifier\030\002 \003(\014\&quot;\324\002\n\003Get\022\013\n\003r&quot; +&lt;br/&gt;
+      &quot;\022\024\n\014more_results\030\003 \001(\010\022\013\n\003ttl\030\004 \001(\r\022\030\n\007r&quot; +&lt;br/&gt;
+              new java.lang.String[] &lt;/p&gt;
{ &quot;Row&quot;, &quot;Column&quot;, &quot;Attribute&quot;, &quot;Filter&quot;, &quot;TimeRange&quot;, &quot;MaxVersions&quot;, &quot;CacheBlocks&quot;, &quot;StoreLimit&quot;, &quot;StoreOffset&quot;, &quot;ExistenceOnly&quot;, &quot;ClosestRowBefore&quot;, &quot;Consistency&quot;, }
&lt;p&gt;);&lt;br/&gt;
+              new java.lang.String[] &lt;/p&gt;
{ &quot;Column&quot;, &quot;Attribute&quot;, &quot;StartRow&quot;, &quot;StopRow&quot;, &quot;Filter&quot;, &quot;TimeRange&quot;, &quot;MaxVersions&quot;, &quot;CacheBlocks&quot;, &quot;BatchSize&quot;, &quot;MaxResultSize&quot;, &quot;StoreLimit&quot;, &quot;StoreOffset&quot;, &quot;LoadColumnFamiliesOnDemand&quot;, &quot;Small&quot;, &quot;Reversed&quot;, &quot;Consistency&quot;, }
&lt;p&gt;);&lt;br/&gt;
+      get.setConsistency(org.apache.hadoop.hbase.client.Consistency.valueOf(consistency)) if consistency&lt;br/&gt;
+        scan.setConsistency(org.apache.hadoop.hbase.client.Consistency.valueOf(consistency)) if consistency&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8565//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13887528" author="stack" created="Fri, 31 Jan 2014 06:50:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;We can rename Consistency.EVENTUAL to Consistency.TIMELINE if there is concern that it will cause confusion.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1 on above... TIMELINE or STALE or STALE_ALLOWED?&lt;/p&gt;

&lt;p&gt;Do we have to have a pb and java enum?  Maybe for the client API but does it have show up on the server?  Can it just be pb enum on server (Answer is probably no but asking anyway).&lt;/p&gt;

&lt;p&gt;This has to be public?&lt;/p&gt;

&lt;p&gt;+  public void setStale(boolean stale) {&lt;br/&gt;
+    this.stale = stale;&lt;/p&gt;

&lt;p&gt;It can&apos;t be done on construction of the Result?  (Are Results iimmutable?)  Maybe it has to be public for unmarshalling to work?&lt;/p&gt;

&lt;p&gt;Otherwise patch is good.  This going into a branch?&lt;/p&gt;


</comment>
                            <comment id="13888029" author="devaraj" created="Fri, 31 Jan 2014 19:09:40 +0000"  >&lt;p&gt;+1 for Consistency.TIMELINE&lt;/p&gt;</comment>
                            <comment id="13888069" author="nkeywal" created="Fri, 31 Jan 2014 19:41:19 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
   /**
   * Eventual consistent reads might &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; values that may not see
   * the most recent updates. Write transactions are always performed
   * in strong consistency model in HBase. In eventual consistency,
   * the order of observed transactions is always in the same sequence
   * that the transactions were written.
   * Reads will be seeing a previous version of the database.
   */
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I don&apos;t understand this part: with what we doing, for 3 versions v1, v2, v3, a reader can see something like v3, v2, v1: by going first on the primary, then on a secondary with a less recent version, then on another secondary with the oldest version. What we guarantee is that at a point all the clients will see v3, but until this point is reached, everything can happen?&lt;/p&gt;

&lt;p&gt;For these 3 versions, what are the scenarios that cannot happen with our consistency model?&lt;/p&gt;</comment>
                            <comment id="13888256" author="enis" created="Fri, 31 Jan 2014 22:40:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;+1 on above... TIMELINE or STALE or STALE_ALLOWED?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;ll rename to TIMELINE. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Do we have to have a pb and java enum? Maybe for the client API but does it have show up on the server? Can it just be pb enum on server.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We need two enums for the client side. We cannot expose the PB to the client. In server side, Consistency is only accessed through a Get or Scan object. So in places where we can expose PB get and scan objects, we can equally go with PB version of consistency. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;This has to be public?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I can see Result.setExists() which is exposed. The PB version of Result does not have the stale parameter, because we were setting it from the client side because we know the RPC went to a replica. But I think we should carry it over the PB Result as well. We might still need setStale() for PB -&amp;gt; POJO conversion though. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;This going into a branch?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, these will go into the branch. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;what we doing, for 3 versions v1, v2, v3, a reader can see something like v3, v2, v1: by going first on the primary, then on a secondary with a less recent version, then on another secondary with the oldest version. What we guarantee is that at a point all the clients will see v3, but until this point is reached, everything can happen?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes indeed. I&apos;ll reword that javadoc. The guarantee is on the server side, rather than on the client side. If you are sticking to a server you will always see transactions in order, but if you are jumping from server to server (like in the failover RPC implementation) then there are no guarantees within different secondary replicas. We can implement further guarantees if we do pipelined writes and ordered requests to replicas, but not in the first cut. &lt;/p&gt;
</comment>
                            <comment id="13888501" author="nkeywal" created="Sat, 1 Feb 2014 09:33:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;But I think we should carry it over the PB Result as well&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I agree. 3 reasons for this:&lt;br/&gt;
1) This will be simpler for other clients&lt;br/&gt;
2) It will allow to have immutable Result objects (outside of the adapter layer), hence we will be able to share the objects again&lt;br/&gt;
3) Sending multiple calls is expensive (more calls to send, more calls to cancel). If the primary is under recovery, we could answer to the get requests with a &apos;stale&apos; status. Then the client would not have to go to the secondary. This would be available even w/o secondary replica as well.&lt;/p&gt;</comment>
                            <comment id="13889090" author="enis" created="Sun, 2 Feb 2014 22:34:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;3) Sending multiple calls is expensive (more calls to send, more calls to cancel). If the primary is under recovery, we could answer to the get requests with a &apos;stale&apos; status&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Good point. It may tie in nicely with the new distributed log replay feature. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeffreyz&quot; class=&quot;user-hover&quot; rel=&quot;jeffreyz&quot;&gt;Jeffrey Zhong&lt;/a&gt; FYI. &lt;/p&gt;</comment>
                            <comment id="13889198" author="enis" created="Mon, 3 Feb 2014 04:05:55 +0000"  >&lt;p&gt;v2 patch. &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Renamed Consistenct.EVENTUAL to Consistency.TIMELINE.&lt;/li&gt;
	&lt;li&gt;Added stale to ClientProtos.Result, and Result now has a ctor with stale. removed Result.setStale() method.&lt;/li&gt;
	&lt;li&gt;improved javadoc on Consistency.TIMELINE. Nicolas what do you think about this version?&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="13889243" author="hadoopqa" created="Mon, 3 Feb 2014 05:51:53 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12626594/hbase-10354_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12626594/hbase-10354_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12626594&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +      &quot;ly\030\001 \002(\014\022\021\n\tqualifier\030\002 \003(\014\&quot;\324\002\n\003Get\022\013\n\003r&quot; +&lt;br/&gt;
+      &quot; \001(\010\022\013\n\003ttl\030\004 \001(\r\022\030\n\007results\030\005 \003(\0132\007.Res&quot; +&lt;br/&gt;
+              new java.lang.String[] &lt;/p&gt;
{ &quot;Row&quot;, &quot;Column&quot;, &quot;Attribute&quot;, &quot;Filter&quot;, &quot;TimeRange&quot;, &quot;MaxVersions&quot;, &quot;CacheBlocks&quot;, &quot;StoreLimit&quot;, &quot;StoreOffset&quot;, &quot;ExistenceOnly&quot;, &quot;ClosestRowBefore&quot;, &quot;Consistency&quot;, }
&lt;p&gt;);&lt;br/&gt;
+              new java.lang.String[] &lt;/p&gt;
{ &quot;Column&quot;, &quot;Attribute&quot;, &quot;StartRow&quot;, &quot;StopRow&quot;, &quot;Filter&quot;, &quot;TimeRange&quot;, &quot;MaxVersions&quot;, &quot;CacheBlocks&quot;, &quot;BatchSize&quot;, &quot;MaxResultSize&quot;, &quot;StoreLimit&quot;, &quot;StoreOffset&quot;, &quot;LoadColumnFamiliesOnDemand&quot;, &quot;Small&quot;, &quot;Reversed&quot;, &quot;Consistency&quot;, }
&lt;p&gt;);&lt;br/&gt;
+      get.setConsistency(org.apache.hadoop.hbase.client.Consistency.valueOf(consistency)) if consistency&lt;br/&gt;
+        scan.setConsistency(org.apache.hadoop.hbase.client.Consistency.valueOf(consistency)) if consistency&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8573//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12689126">HBASE-10355</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12626253" name="hbase-10354_v1.patch" size="54603" author="enis" created="Fri, 31 Jan 2014 03:29:34 +0000"/>
                            <attachment id="12626594" name="hbase-10354_v2.patch" size="72778" author="enis" created="Mon, 3 Feb 2014 04:05:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 31 Jan 2014 05:15:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368097</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>